function _R(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function aA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Kp={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function ER(){if(P_)return Zl;P_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,a){var u=null;if(a!==void 0&&(u=""+a),r.key!==void 0&&(u=""+r.key),"key"in r){a={};for(var d in r)d!=="key"&&(a[d]=r[d])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:u,ref:r!==void 0?r:null,props:a}}return Zl.Fragment=e,Zl.jsx=t,Zl.jsxs=t,Zl}var V_;function TR(){return V_||(V_=1,Kp.exports=ER()),Kp.exports}var C=TR(),Yp={exports:{}},Pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function SR(){if(U_)return Pe;U_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.iterator;function I(F){return F===null||typeof F!="object"?null:(F=T&&F[T]||F["@@iterator"],typeof F=="function"?F:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,k={};function z(F,te,ce){this.props=F,this.context=te,this.refs=k,this.updater=ce||D}z.prototype.isReactComponent={},z.prototype.setState=function(F,te){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,te,"setState")},z.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function Z(){}Z.prototype=z.prototype;function j(F,te,ce){this.props=F,this.context=te,this.refs=k,this.updater=ce||D}var oe=j.prototype=new Z;oe.constructor=j,L(oe,z.prototype),oe.isPureReactComponent=!0;var Q=Array.isArray;function fe(){}var M={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function N(F,te,ce){var me=ce.ref;return{$$typeof:n,type:F,key:te,ref:me!==void 0?me:null,props:ce}}function V(F,te){return N(F.type,te,F.props)}function U(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function H(F){var te={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ce){return te[ce]})}var P=/\/+/g;function he(F,te){return typeof F=="object"&&F!==null&&F.key!=null?H(""+F.key):te.toString(36)}function Ce(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(fe,fe):(F.status="pending",F.then(function(te){F.status==="pending"&&(F.status="fulfilled",F.value=te)},function(te){F.status==="pending"&&(F.status="rejected",F.reason=te)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function K(F,te,ce,me,ue){var ye=typeof F;(ye==="undefined"||ye==="boolean")&&(F=null);var Se=!1;if(F===null)Se=!0;else switch(ye){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(F.$$typeof){case n:case e:Se=!0;break;case v:return Se=F._init,K(Se(F._payload),te,ce,me,ue)}}if(Se)return ue=ue(F),Se=me===""?"."+he(F,0):me,Q(ue)?(ce="",Se!=null&&(ce=Se.replace(P,"$&/")+"/"),K(ue,te,ce,"",function(mn){return mn})):ue!=null&&(U(ue)&&(ue=V(ue,ce+(ue.key==null||F&&F.key===ue.key?"":(""+ue.key).replace(P,"$&/")+"/")+Se)),te.push(ue)),1;Se=0;var We=me===""?".":me+":";if(Q(F))for(var Oe=0;Oe<F.length;Oe++)me=F[Oe],ye=We+he(me,Oe),Se+=K(me,te,ce,ye,ue);else if(Oe=I(F),typeof Oe=="function")for(F=Oe.call(F),Oe=0;!(me=F.next()).done;)me=me.value,ye=We+he(me,Oe++),Se+=K(me,te,ce,ye,ue);else if(ye==="object"){if(typeof F.then=="function")return K(Ce(F),te,ce,me,ue);throw te=String(F),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Se}function ae(F,te,ce){if(F==null)return F;var me=[],ue=0;return K(F,me,"","",function(ye){return te.call(ce,ye,ue++)}),me}function pe(F){if(F._status===-1){var te=F._result;te=te(),te.then(function(ce){(F._status===0||F._status===-1)&&(F._status=1,F._result=ce)},function(ce){(F._status===0||F._status===-1)&&(F._status=2,F._result=ce)}),F._status===-1&&(F._status=0,F._result=te)}if(F._status===1)return F._result.default;throw F._result}var be=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},ke={map:ae,forEach:function(F,te,ce){ae(F,function(){te.apply(this,arguments)},ce)},count:function(F){var te=0;return ae(F,function(){te++}),te},toArray:function(F){return ae(F,function(te){return te})||[]},only:function(F){if(!U(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Pe.Activity=E,Pe.Children=ke,Pe.Component=z,Pe.Fragment=t,Pe.Profiler=r,Pe.PureComponent=j,Pe.StrictMode=i,Pe.Suspense=p,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(F){return M.H.useMemoCache(F)}},Pe.cache=function(F){return function(){return F.apply(null,arguments)}},Pe.cacheSignal=function(){return null},Pe.cloneElement=function(F,te,ce){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var me=L({},F.props),ue=F.key;if(te!=null)for(ye in te.key!==void 0&&(ue=""+te.key),te)!b.call(te,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&te.ref===void 0||(me[ye]=te[ye]);var ye=arguments.length-2;if(ye===1)me.children=ce;else if(1<ye){for(var Se=Array(ye),We=0;We<ye;We++)Se[We]=arguments[We+2];me.children=Se}return N(F.type,ue,me)},Pe.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:a,_context:F},F},Pe.createElement=function(F,te,ce){var me,ue={},ye=null;if(te!=null)for(me in te.key!==void 0&&(ye=""+te.key),te)b.call(te,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(ue[me]=te[me]);var Se=arguments.length-2;if(Se===1)ue.children=ce;else if(1<Se){for(var We=Array(Se),Oe=0;Oe<Se;Oe++)We[Oe]=arguments[Oe+2];ue.children=We}if(F&&F.defaultProps)for(me in Se=F.defaultProps,Se)ue[me]===void 0&&(ue[me]=Se[me]);return N(F,ye,ue)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(F){return{$$typeof:d,render:F}},Pe.isValidElement=U,Pe.lazy=function(F){return{$$typeof:v,_payload:{_status:-1,_result:F},_init:pe}},Pe.memo=function(F,te){return{$$typeof:h,type:F,compare:te===void 0?null:te}},Pe.startTransition=function(F){var te=M.T,ce={};M.T=ce;try{var me=F(),ue=M.S;ue!==null&&ue(ce,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(fe,be)}catch(ye){be(ye)}finally{te!==null&&ce.types!==null&&(te.types=ce.types),M.T=te}},Pe.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Pe.use=function(F){return M.H.use(F)},Pe.useActionState=function(F,te,ce){return M.H.useActionState(F,te,ce)},Pe.useCallback=function(F,te){return M.H.useCallback(F,te)},Pe.useContext=function(F){return M.H.useContext(F)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(F,te){return M.H.useDeferredValue(F,te)},Pe.useEffect=function(F,te){return M.H.useEffect(F,te)},Pe.useEffectEvent=function(F){return M.H.useEffectEvent(F)},Pe.useId=function(){return M.H.useId()},Pe.useImperativeHandle=function(F,te,ce){return M.H.useImperativeHandle(F,te,ce)},Pe.useInsertionEffect=function(F,te){return M.H.useInsertionEffect(F,te)},Pe.useLayoutEffect=function(F,te){return M.H.useLayoutEffect(F,te)},Pe.useMemo=function(F,te){return M.H.useMemo(F,te)},Pe.useOptimistic=function(F,te){return M.H.useOptimistic(F,te)},Pe.useReducer=function(F,te,ce){return M.H.useReducer(F,te,ce)},Pe.useRef=function(F){return M.H.useRef(F)},Pe.useState=function(F){return M.H.useState(F)},Pe.useSyncExternalStore=function(F,te,ce){return M.H.useSyncExternalStore(F,te,ce)},Pe.useTransition=function(){return M.H.useTransition()},Pe.version="19.2.4",Pe}var L_;function ag(){return L_||(L_=1,Yp.exports=SR()),Yp.exports}var ne=ag();const lA=aA(ne),AR=_R({__proto__:null,default:lA},[ne]);var $p={exports:{}},eu={},jp={exports:{}},Qp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function CR(){return O_||(O_=1,(function(n){function e(K,ae){var pe=K.length;K.push(ae);e:for(;0<pe;){var be=pe-1>>>1,ke=K[be];if(0<r(ke,ae))K[be]=ae,K[pe]=ke,pe=be;else break e}}function t(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var ae=K[0],pe=K.pop();if(pe!==ae){K[0]=pe;e:for(var be=0,ke=K.length,F=ke>>>1;be<F;){var te=2*(be+1)-1,ce=K[te],me=te+1,ue=K[me];if(0>r(ce,pe))me<ke&&0>r(ue,ce)?(K[be]=ue,K[me]=pe,be=me):(K[be]=ce,K[te]=pe,be=te);else if(me<ke&&0>r(ue,pe))K[be]=ue,K[me]=pe,be=me;else break e}}return ae}function r(K,ae){var pe=K.sortIndex-ae.sortIndex;return pe!==0?pe:K.id-ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var p=[],h=[],v=1,E=null,T=3,I=!1,D=!1,L=!1,k=!1,z=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function oe(K){for(var ae=t(h);ae!==null;){if(ae.callback===null)i(h);else if(ae.startTime<=K)i(h),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=t(h)}}function Q(K){if(L=!1,oe(K),!D)if(t(p)!==null)D=!0,fe||(fe=!0,H());else{var ae=t(h);ae!==null&&Ce(Q,ae.startTime-K)}}var fe=!1,M=-1,b=5,N=-1;function V(){return k?!0:!(n.unstable_now()-N<b)}function U(){if(k=!1,fe){var K=n.unstable_now();N=K;var ae=!0;try{e:{D=!1,L&&(L=!1,Z(M),M=-1),I=!0;var pe=T;try{t:{for(oe(K),E=t(p);E!==null&&!(E.expirationTime>K&&V());){var be=E.callback;if(typeof be=="function"){E.callback=null,T=E.priorityLevel;var ke=be(E.expirationTime<=K);if(K=n.unstable_now(),typeof ke=="function"){E.callback=ke,oe(K),ae=!0;break t}E===t(p)&&i(p),oe(K)}else i(p);E=t(p)}if(E!==null)ae=!0;else{var F=t(h);F!==null&&Ce(Q,F.startTime-K),ae=!1}}break e}finally{E=null,T=pe,I=!1}ae=void 0}}finally{ae?H():fe=!1}}}var H;if(typeof j=="function")H=function(){j(U)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,he=P.port2;P.port1.onmessage=U,H=function(){he.postMessage(null)}}else H=function(){z(U,0)};function Ce(K,ae){M=z(function(){K(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(K){switch(T){case 1:case 2:case 3:var ae=3;break;default:ae=T}var pe=T;T=ae;try{return K()}finally{T=pe}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(K,ae){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var pe=T;T=K;try{return ae()}finally{T=pe}},n.unstable_scheduleCallback=function(K,ae,pe){var be=n.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?be+pe:be):pe=be,K){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=pe+ke,K={id:v++,callback:ae,priorityLevel:K,startTime:pe,expirationTime:ke,sortIndex:-1},pe>be?(K.sortIndex=pe,e(h,K),t(p)===null&&K===t(h)&&(L?(Z(M),M=-1):L=!0,Ce(Q,pe-be))):(K.sortIndex=ke,e(p,K),D||I||(D=!0,fe||(fe=!0,H()))),K},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(K){var ae=T;return function(){var pe=T;T=ae;try{return K.apply(this,arguments)}finally{T=pe}}}})(Qp)),Qp}var F_;function wR(){return F_||(F_=1,jp.exports=CR()),jp.exports}var Xp={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function IR(){if(G_)return nn;G_=1;var n=ag();function e(p){var h="https://react.dev/errors/"+p;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(p,h,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:E==null?null:""+E,children:p,containerInfo:h,implementation:v}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,h){if(p==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,nn.createPortal=function(p,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(p,h,null,v)},nn.flushSync=function(p){var h=u.T,v=i.p;try{if(u.T=null,i.p=2,p)return p()}finally{u.T=h,i.p=v,i.d.f()}},nn.preconnect=function(p,h){typeof p=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(p,h))},nn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},nn.preinit=function(p,h){if(typeof p=="string"&&h&&typeof h.as=="string"){var v=h.as,E=d(v,h.crossOrigin),T=typeof h.integrity=="string"?h.integrity:void 0,I=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?i.d.S(p,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:I}):v==="script"&&i.d.X(p,{crossOrigin:E,integrity:T,fetchPriority:I,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},nn.preinitModule=function(p,h){if(typeof p=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=d(h.as,h.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(p)},nn.preload=function(p,h){if(typeof p=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,E=d(v,h.crossOrigin);i.d.L(p,v,{crossOrigin:E,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},nn.preloadModule=function(p,h){if(typeof p=="string")if(h){var v=d(h.as,h.crossOrigin);i.d.m(p,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(p)},nn.requestFormReset=function(p){i.d.r(p)},nn.unstable_batchedUpdates=function(p,h){return p(h)},nn.useFormState=function(p,h,v){return u.H.useFormState(p,h,v)},nn.useFormStatus=function(){return u.H.useHostTransitionStatus()},nn.version="19.2.4",nn}var H_;function uA(){if(H_)return Xp.exports;H_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Xp.exports=IR(),Xp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function xR(){if(B_)return eu;B_=1;var n=wR(),e=ag(),t=uA();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function u(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function d(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function p(s){if(a(s)!==s)throw Error(i(188))}function h(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(i(188));return o!==s?null:s}for(var l=s,c=o;;){var y=l.return;if(y===null)break;var _=y.alternate;if(_===null){if(c=y.return,c!==null){l=c;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===l)return p(y),s;if(_===c)return p(y),o;_=_.sibling}throw Error(i(188))}if(l.return!==c.return)l=y,c=_;else{for(var A=!1,x=y.child;x;){if(x===l){A=!0,l=y,c=_;break}if(x===c){A=!0,c=y,l=_;break}x=x.sibling}if(!A){for(x=_.child;x;){if(x===l){A=!0,l=_,c=y;break}if(x===c){A=!0,c=_,l=y;break}x=x.sibling}if(!A)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:o}function v(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=v(s),o!==null)return o;s=s.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),j=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=U&&s[U]||s["@@iterator"],typeof s=="function"?s:null)}var P=Symbol.for("react.client.reference");function he(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===P?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case L:return"Fragment";case z:return"Profiler";case k:return"StrictMode";case Q:return"Suspense";case fe:return"SuspenseList";case N:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case D:return"Portal";case j:return s.displayName||"Context";case Z:return(s._context.displayName||"Context")+".Consumer";case oe:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return o=s.displayName||null,o!==null?o:he(s.type)||"Memo";case b:o=s._payload,s=s._init;try{return he(s(o))}catch{}}return null}var Ce=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},be=[],ke=-1;function F(s){return{current:s}}function te(s){0>ke||(s.current=be[ke],be[ke]=null,ke--)}function ce(s,o){ke++,be[ke]=s.current,s.current=o}var me=F(null),ue=F(null),ye=F(null),Se=F(null);function We(s,o){switch(ce(ye,o),ce(ue,s),ce(me,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?i_(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=i_(o),s=s_(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}te(me),ce(me,s)}function Oe(){te(me),te(ue),te(ye)}function mn(s){s.memoizedState!==null&&ce(Se,s);var o=me.current,l=s_(o,s.type);o!==l&&(ce(ue,s),ce(me,l))}function wt(s){ue.current===s&&(te(me),te(ue)),Se.current===s&&(te(Se),jl._currentValue=pe)}var ws,Io;function yi(s){if(ws===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);ws=o&&o[1]||"",Io=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ws+s+Io}var ja=!1;function kr(s,o){if(!s||ja)return"";ja=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(o){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(W){var $=W}Reflect.construct(s,[],se)}else{try{se.call()}catch(W){$=W}s.call(se.prototype)}}else{try{throw Error()}catch(W){$=W}(se=s())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(W){if(W&&$&&typeof W.stack=="string")return[W.stack,$.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=c.DetermineComponentFrameRoot(),A=_[0],x=_[1];if(A&&x){var O=A.split(`
`),Y=x.split(`
`);for(y=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;y<Y.length&&!Y[y].includes("DetermineComponentFrameRoot");)y++;if(c===O.length||y===Y.length)for(c=O.length-1,y=Y.length-1;1<=c&&0<=y&&O[c]!==Y[y];)y--;for(;1<=c&&0<=y;c--,y--)if(O[c]!==Y[y]){if(c!==1||y!==1)do if(c--,y--,0>y||O[c]!==Y[y]){var ee=`
`+O[c].replace(" at new "," at ");return s.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",s.displayName)),ee}while(1<=c&&0<=y);break}}}finally{ja=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?yi(l):""}function Qa(s,o){switch(s.tag){case 26:case 27:case 5:return yi(s.type);case 16:return yi("Lazy");case 13:return s.child!==o&&o!==null?yi("Suspense Fallback"):yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return kr(s.type,!1);case 11:return kr(s.type.render,!1);case 1:return kr(s.type,!0);case 31:return yi("Activity");default:return""}}function Xa(s){try{var o="",l=null;do o+=Qa(s,l),l=s,s=s.return;while(s);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var It=Object.prototype.hasOwnProperty,Lt=n.unstable_scheduleCallback,Is=n.unstable_cancelCallback,$f=n.unstable_shouldYield,zu=n.unstable_requestPaint,un=n.unstable_now,Pr=n.unstable_getCurrentPriorityLevel,Wa=n.unstable_ImmediatePriority,Za=n.unstable_UserBlockingPriority,xs=n.unstable_NormalPriority,jf=n.unstable_LowPriority,qu=n.unstable_IdlePriority,Ju=n.log,Ku=n.unstable_setDisableYieldValue,Zn=null,Yt=null;function Un(s){if(typeof Ju=="function"&&Ku(s),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(Zn,s)}catch{}}var _t=Math.clz32?Math.clz32:$u,Yu=Math.log,xo=Math.LN2;function $u(s){return s>>>=0,s===0?32:31-(Yu(s)/xo|0)|0}var vi=256,Vr=262144,xt=4194304;function _i(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ei(s,o,l){var c=s.pendingLanes;if(c===0)return 0;var y=0,_=s.suspendedLanes,A=s.pingedLanes;s=s.warmLanes;var x=c&134217727;return x!==0?(c=x&~_,c!==0?y=_i(c):(A&=x,A!==0?y=_i(A):l||(l=x&~s,l!==0&&(y=_i(l))))):(x=c&~_,x!==0?y=_i(x):A!==0?y=_i(A):l||(l=c&~s,l!==0&&(y=_i(l)))),y===0?0:o!==0&&o!==y&&(o&_)===0&&(_=y&-y,l=o&-o,_>=l||_===32&&(l&4194048)!==0)?o:y}function ei(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Qf(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ju(){var s=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),s}function Ti(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function Ur(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Xf(s,o,l,c,y,_){var A=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var x=s.entanglements,O=s.expirationTimes,Y=s.hiddenUpdates;for(l=A&~l;0<l;){var ee=31-_t(l),se=1<<ee;x[ee]=0,O[ee]=-1;var $=Y[ee];if($!==null)for(Y[ee]=null,ee=0;ee<$.length;ee++){var W=$[ee];W!==null&&(W.lane&=-536870913)}l&=~se}c!==0&&Lr(s,c,0),_!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=_&~(A&~o))}function Lr(s,o,l){s.pendingLanes|=o,s.suspendedLanes&=~o;var c=31-_t(o);s.entangledLanes|=o,s.entanglements[c]=s.entanglements[c]|1073741824|l&261930}function el(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var c=31-_t(l),y=1<<c;y&o|s[c]&o&&(s[c]|=o),l&=~y}}function tl(s,o){var l=o&-o;return l=(l&42)!==0?1:Or(l),(l&(s.suspendedLanes|o))!==0?0:l}function Or(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function $i(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Qu(){var s=ae.p;return s!==0?s:(s=window.event,s===void 0?32:x_(s.type))}function ti(s,o){var l=ae.p;try{return ae.p=s,o()}finally{ae.p=l}}var ni=Math.random().toString(36).slice(2),Rt="__reactFiber$"+ni,Bt="__reactProps$"+ni,Si="__reactContainer$"+ni,Ro="__reactEvents$"+ni,Wf="__reactListeners$"+ni,Xu="__reactHandles$"+ni,Wu="__reactResources$"+ni,Ai="__reactMarker$"+ni;function bo(s){delete s[Rt],delete s[Bt],delete s[Ro],delete s[Wf],delete s[Xu]}function Ci(s){var o=s[Rt];if(o)return o;for(var l=s.parentNode;l;){if(o=l[Si]||l[Rt]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=d_(s);s!==null;){if(l=s[Rt])return l;s=d_(s)}return o}s=l,l=s.parentNode}return null}function Ln(s){if(s=s[Rt]||s[Si]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function In(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function wi(s){var o=s[Wu];return o||(o=s[Wu]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function bt(s){s[Ai]=!0}var nl=new Set,il={};function Ii(s,o){xi(s,o),xi(s+"Capture",o)}function xi(s,o){for(il[s]=o,s=0;s<o.length;s++)nl.add(o[s])}var sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rl={},ol={};function Zu(s){return It.call(ol,s)?!0:It.call(rl,s)?!1:sl.test(s)?ol[s]=!0:(rl[s]=!0,!1)}function No(s,o,l){if(Zu(o))if(l===null)s.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var c=o.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+l)}}function xn(s,o,l){if(l===null)s.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+l)}}function Nt(s,o,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(o,l,""+c)}}function zt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Rs(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function al(s,o,l){var c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,_=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return y.call(this)},set:function(A){l=""+A,_.call(this,A)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(A){l=""+A},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function nt(s){if(!s._valueTracker){var o=Rs(s)?"checked":"value";s._valueTracker=al(s,o,""+s[o])}}function Fr(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),c="";return s&&(c=Rs(s)?s.checked?"true":"false":s.value),s=c,s!==l?(o.setValue(s),!0):!1}function Ri(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Gr=/[\n"\\]/g;function gn(s){return s.replace(Gr,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Mo(s,o,l,c,y,_,A,x){s.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.type=A:s.removeAttribute("type"),o!=null?A==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+zt(o)):s.value!==""+zt(o)&&(s.value=""+zt(o)):A!=="submit"&&A!=="reset"||s.removeAttribute("value"),o!=null?ll(s,A,zt(o)):l!=null?ll(s,A,zt(l)):c!=null&&s.removeAttribute("value"),y==null&&_!=null&&(s.defaultChecked=!!_),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.name=""+zt(x):s.removeAttribute("name")}function ec(s,o,l,c,y,_,A,x){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),o!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||o!=null)){nt(s);return}l=l!=null?""+zt(l):"",o=o!=null?""+zt(o):l,x||o===s.value||(s.value=o),s.defaultValue=o}c=c??y,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=x?s.checked:!!c,s.defaultChecked=!!c,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.name=A),nt(s)}function ll(s,o,l){o==="number"&&Ri(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function bs(s,o,l,c){if(s=s.options,o){o={};for(var y=0;y<l.length;y++)o["$"+l[y]]=!0;for(l=0;l<s.length;l++)y=o.hasOwnProperty("$"+s[l].value),s[l].selected!==y&&(s[l].selected=y),y&&c&&(s[l].defaultSelected=!0)}else{for(l=""+zt(l),o=null,y=0;y<s.length;y++){if(s[y].value===l){s[y].selected=!0,c&&(s[y].defaultSelected=!0);return}o!==null||s[y].disabled||(o=s[y])}o!==null&&(o.selected=!0)}}function tc(s,o,l){if(o!=null&&(o=""+zt(o),o!==s.value&&(s.value=o),l==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=l!=null?""+zt(l):""}function Ns(s,o,l,c){if(o==null){if(c!=null){if(l!=null)throw Error(i(92));if(Ce(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),o=l}l=zt(o),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c),nt(s)}function yn(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var nc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ul(s,o,l){var c=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":c?s.setProperty(o,l):typeof l!="number"||l===0||nc.has(o)?o==="float"?s.cssFloat=l:s[o]=(""+l).trim():s[o]=l+"px"}function cl(s,o,l){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||o!=null&&o.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var y in o)c=o[y],o.hasOwnProperty(y)&&l[y]!==c&&ul(s,y,c)}else for(var _ in o)o.hasOwnProperty(_)&&ul(s,_,o[_])}function Do(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ic=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ko(s){return Ms.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ii(){}var dl=null;function On(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ds=null,bi=null;function Hr(s){var o=Ln(s);if(o&&(s=o.stateNode)){var l=s[Bt]||null;e:switch(s=o.stateNode,o.type){case"input":if(Mo(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+gn(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var c=l[o];if(c!==s&&c.form===s.form){var y=c[Bt]||null;if(!y)throw Error(i(90));Mo(c,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<l.length;o++)c=l[o],c.form===s.form&&Fr(c)}break e;case"textarea":tc(s,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&bs(s,!!l.multiple,o,!1)}}}var Po=!1;function ks(s,o,l){if(Po)return s(o,l);Po=!0;try{var c=s(o);return c}finally{if(Po=!1,(Ds!==null||bi!==null)&&(Qc(),Ds&&(o=Ds,s=bi,bi=Ds=null,Hr(o),s)))for(o=0;o<s.length;o++)Hr(s[o])}}function si(s,o){var l=s.stateNode;if(l===null)return null;var c=l[Bt]||null;if(c===null)return null;l=c[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,o,typeof l));return l}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Br=!1;if(Fn)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){Br=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{Br=!1}var Ni=null,fl=null,zr=null;function hl(){if(zr)return zr;var s,o=fl,l=o.length,c,y="value"in Ni?Ni.value:Ni.textContent,_=y.length;for(s=0;s<l&&o[s]===y[s];s++);var A=l-s;for(c=1;c<=A&&o[l-c]===y[_-c];c++);return zr=y.slice(s,1<c?1-c:void 0)}function qr(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function ji(){return!0}function ri(){return!1}function $t(s){function o(l,c,y,_,A){this._reactName=l,this._targetInst=y,this.type=c,this.nativeEvent=_,this.target=A,this.currentTarget=null;for(var x in s)s.hasOwnProperty(x)&&(l=s[x],this[x]=l?l(_):_[x]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ji:ri,this.isPropagationStopped=ri,this}return E(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),o}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=$t(Qi),Ps=E({},Qi,{view:0,detail:0}),pl=$t(Ps),Vs,Vo,Di,Uo=E({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Di&&(Di&&s.type==="mousemove"?(Vs=s.screenX-Di.screenX,Vo=s.screenY-Di.screenY):Vo=Vs=0,Di=s),Vs)},movementY:function(s){return"movementY"in s?s.movementY:Vo}}),ml=$t(Uo),Jr=E({},Uo,{dataTransfer:0}),sc=$t(Jr),rc=E({},Ps,{relatedTarget:0}),Kr=$t(rc),gl=E({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),oc=$t(gl),Lo=E({},Qi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ac=$t(Lo),lc=E({},Qi,{data:0}),ki=$t(lc),uc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fc(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=dc[s])?!!o[s]:!1}function Us(){return fc}var cn=E({},Ps,{key:function(s){if(s.key){var o=uc[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=qr(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?cc[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(s){return s.type==="keypress"?qr(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?qr(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),hc=$t(cn),pc=E({},Uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xi=$t(pc),g=E({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),S=$t(g),w=E({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=$t(w),q=E({},Uo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),X=$t(q),de=E({},Qi,{newState:0,oldState:0}),Ue=$t(de),Et=[9,13,27,32],Ze=Fn&&"CompositionEvent"in window,ht=null;Fn&&"documentMode"in document&&(ht=document.documentMode);var Gn=Fn&&"TextEvent"in window&&!ht,Pi=Fn&&(!Ze||ht&&8<ht&&11>=ht),oi=" ",ai=!1;function Yr(s,o){switch(s){case"keyup":return Et.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Fo=!1;function zI(s,o){switch(s){case"compositionend":return Oo(o);case"keypress":return o.which!==32?null:(ai=!0,oi);case"textInput":return s=o.data,s===oi&&ai?null:s;default:return null}}function qI(s,o){if(Fo)return s==="compositionend"||!Ze&&Yr(s,o)?(s=hl(),zr=fl=Ni=null,Fo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Pi&&o.locale!=="ko"?null:o.data;default:return null}}var JI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function py(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!JI[s.type]:o==="textarea"}function my(s,o,l,c){Ds?bi?bi.push(c):bi=[c]:Ds=c,o=id(o,"onChange"),0<o.length&&(l=new Mi("onChange","change",null,l,c),s.push({event:l,listeners:o}))}var yl=null,vl=null;function KI(s){Xv(s,0)}function mc(s){var o=In(s);if(Fr(o))return s}function gy(s,o){if(s==="change")return o}var yy=!1;if(Fn){var Zf;if(Fn){var eh="oninput"in document;if(!eh){var vy=document.createElement("div");vy.setAttribute("oninput","return;"),eh=typeof vy.oninput=="function"}Zf=eh}else Zf=!1;yy=Zf&&(!document.documentMode||9<document.documentMode)}function _y(){yl&&(yl.detachEvent("onpropertychange",Ey),vl=yl=null)}function Ey(s){if(s.propertyName==="value"&&mc(vl)){var o=[];my(o,vl,s,On(s)),ks(KI,o)}}function YI(s,o,l){s==="focusin"?(_y(),yl=o,vl=l,yl.attachEvent("onpropertychange",Ey)):s==="focusout"&&_y()}function $I(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return mc(vl)}function jI(s,o){if(s==="click")return mc(o)}function QI(s,o){if(s==="input"||s==="change")return mc(o)}function XI(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Rn=typeof Object.is=="function"?Object.is:XI;function _l(s,o){if(Rn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),c=Object.keys(o);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var y=l[c];if(!It.call(o,y)||!Rn(s[y],o[y]))return!1}return!0}function Ty(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Sy(s,o){var l=Ty(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=o&&c>=o)return{node:l,offset:o-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ty(l)}}function Ay(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Ay(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Cy(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=Ri(s.document);o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=Ri(s.document)}return o}function th(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var WI=Fn&&"documentMode"in document&&11>=document.documentMode,Go=null,nh=null,El=null,ih=!1;function wy(s,o,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ih||Go==null||Go!==Ri(c)||(c=Go,"selectionStart"in c&&th(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),El&&_l(El,c)||(El=c,c=id(nh,"onSelect"),0<c.length&&(o=new Mi("onSelect","select",null,o,l),s.push({event:o,listeners:c}),o.target=Go)))}function $r(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var Ho={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionrun:$r("Transition","TransitionRun"),transitionstart:$r("Transition","TransitionStart"),transitioncancel:$r("Transition","TransitionCancel"),transitionend:$r("Transition","TransitionEnd")},sh={},Iy={};Fn&&(Iy=document.createElement("div").style,"AnimationEvent"in window||(delete Ho.animationend.animation,delete Ho.animationiteration.animation,delete Ho.animationstart.animation),"TransitionEvent"in window||delete Ho.transitionend.transition);function jr(s){if(sh[s])return sh[s];if(!Ho[s])return s;var o=Ho[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in Iy)return sh[s]=o[l];return s}var xy=jr("animationend"),Ry=jr("animationiteration"),by=jr("animationstart"),ZI=jr("transitionrun"),ex=jr("transitionstart"),tx=jr("transitioncancel"),Ny=jr("transitionend"),My=new Map,rh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rh.push("scrollEnd");function li(s,o){My.set(s,o),Ii(o,[s])}var gc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Hn=[],Bo=0,oh=0;function yc(){for(var s=Bo,o=oh=Bo=0;o<s;){var l=Hn[o];Hn[o++]=null;var c=Hn[o];Hn[o++]=null;var y=Hn[o];Hn[o++]=null;var _=Hn[o];if(Hn[o++]=null,c!==null&&y!==null){var A=c.pending;A===null?y.next=y:(y.next=A.next,A.next=y),c.pending=y}_!==0&&Dy(l,y,_)}}function vc(s,o,l,c){Hn[Bo++]=s,Hn[Bo++]=o,Hn[Bo++]=l,Hn[Bo++]=c,oh|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function ah(s,o,l,c){return vc(s,o,l,c),_c(s)}function Qr(s,o){return vc(s,null,null,o),_c(s)}function Dy(s,o,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var y=!1,_=s.return;_!==null;)_.childLanes|=l,c=_.alternate,c!==null&&(c.childLanes|=l),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(y=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,y&&o!==null&&(y=31-_t(l),s=_.hiddenUpdates,c=s[y],c===null?s[y]=[o]:c.push(o),o.lane=l|536870912),_):null}function _c(s){if(50<Bl)throw Bl=0,gp=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var zo={};function nx(s,o,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(s,o,l,c){return new nx(s,o,l,c)}function lh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Wi(s,o){var l=s.alternate;return l===null?(l=bn(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function ky(s,o){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,o=l.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Ec(s,o,l,c,y,_){var A=0;if(c=s,typeof s=="function")lh(s)&&(A=1);else if(typeof s=="string")A=aR(s,l,me.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case N:return s=bn(31,l,o,y),s.elementType=N,s.lanes=_,s;case L:return Xr(l.children,y,_,o);case k:A=8,y|=24;break;case z:return s=bn(12,l,o,y|2),s.elementType=z,s.lanes=_,s;case Q:return s=bn(13,l,o,y),s.elementType=Q,s.lanes=_,s;case fe:return s=bn(19,l,o,y),s.elementType=fe,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:A=10;break e;case Z:A=9;break e;case oe:A=11;break e;case M:A=14;break e;case b:A=16,c=null;break e}A=29,l=Error(i(130,s===null?"null":typeof s,"")),c=null}return o=bn(A,l,o,y),o.elementType=s,o.type=c,o.lanes=_,o}function Xr(s,o,l,c){return s=bn(7,s,c,o),s.lanes=l,s}function uh(s,o,l){return s=bn(6,s,null,o),s.lanes=l,s}function Py(s){var o=bn(18,null,null,0);return o.stateNode=s,o}function ch(s,o,l){return o=bn(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var Vy=new WeakMap;function Bn(s,o){if(typeof s=="object"&&s!==null){var l=Vy.get(s);return l!==void 0?l:(o={value:s,source:o,stack:Xa(o)},Vy.set(s,o),o)}return{value:s,source:o,stack:Xa(o)}}var qo=[],Jo=0,Tc=null,Tl=0,zn=[],qn=0,Ls=null,Vi=1,Ui="";function Zi(s,o){qo[Jo++]=Tl,qo[Jo++]=Tc,Tc=s,Tl=o}function Uy(s,o,l){zn[qn++]=Vi,zn[qn++]=Ui,zn[qn++]=Ls,Ls=s;var c=Vi;s=Ui;var y=32-_t(c)-1;c&=~(1<<y),l+=1;var _=32-_t(o)+y;if(30<_){var A=y-y%5;_=(c&(1<<A)-1).toString(32),c>>=A,y-=A,Vi=1<<32-_t(o)+y|l<<y|c,Ui=_+s}else Vi=1<<_|l<<y|c,Ui=s}function dh(s){s.return!==null&&(Zi(s,1),Uy(s,1,0))}function fh(s){for(;s===Tc;)Tc=qo[--Jo],qo[Jo]=null,Tl=qo[--Jo],qo[Jo]=null;for(;s===Ls;)Ls=zn[--qn],zn[qn]=null,Ui=zn[--qn],zn[qn]=null,Vi=zn[--qn],zn[qn]=null}function Ly(s,o){zn[qn++]=Vi,zn[qn++]=Ui,zn[qn++]=Ls,Vi=o.id,Ui=o.overflow,Ls=s}var jt=null,ct=null,Ye=!1,Os=null,Jn=!1,hh=Error(i(519));function Fs(s){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sl(Bn(o,s)),hh}function Oy(s){var o=s.stateNode,l=s.type,c=s.memoizedProps;switch(o[Rt]=s,o[Bt]=c,l){case"dialog":He("cancel",o),He("close",o);break;case"iframe":case"object":case"embed":He("load",o);break;case"video":case"audio":for(l=0;l<ql.length;l++)He(ql[l],o);break;case"source":He("error",o);break;case"img":case"image":case"link":He("error",o),He("load",o);break;case"details":He("toggle",o);break;case"input":He("invalid",o),ec(o,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":He("invalid",o);break;case"textarea":He("invalid",o),Ns(o,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||c.suppressHydrationWarning===!0||t_(o.textContent,l)?(c.popover!=null&&(He("beforetoggle",o),He("toggle",o)),c.onScroll!=null&&He("scroll",o),c.onScrollEnd!=null&&He("scrollend",o),c.onClick!=null&&(o.onclick=ii),o=!0):o=!1,o||Fs(s,!0)}function Fy(s){for(jt=s.return;jt;)switch(jt.tag){case 5:case 31:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:jt=jt.return}}function Ko(s){if(s!==jt)return!1;if(!Ye)return Fy(s),Ye=!0,!1;var o=s.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Mp(s.type,s.memoizedProps)),l=!l),l&&ct&&Fs(s),Fy(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ct=c_(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ct=c_(s)}else o===27?(o=ct,Zs(s.type)?(s=Up,Up=null,ct=s):ct=o):ct=jt?Yn(s.stateNode.nextSibling):null;return!0}function Wr(){ct=jt=null,Ye=!1}function ph(){var s=Os;return s!==null&&(Tn===null?Tn=s:Tn.push.apply(Tn,s),Os=null),s}function Sl(s){Os===null?Os=[s]:Os.push(s)}var mh=F(null),Zr=null,es=null;function Gs(s,o,l){ce(mh,o._currentValue),o._currentValue=l}function ts(s){s._currentValue=mh.current,te(mh)}function gh(s,o,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,c!==null&&(c.childLanes|=o)):c!==null&&(c.childLanes&o)!==o&&(c.childLanes|=o),s===l)break;s=s.return}}function yh(s,o,l,c){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var _=y.dependencies;if(_!==null){var A=y.child;_=_.firstContext;e:for(;_!==null;){var x=_;_=y;for(var O=0;O<o.length;O++)if(x.context===o[O]){_.lanes|=l,x=_.alternate,x!==null&&(x.lanes|=l),gh(_.return,l,s),c||(A=null);break e}_=x.next}}else if(y.tag===18){if(A=y.return,A===null)throw Error(i(341));A.lanes|=l,_=A.alternate,_!==null&&(_.lanes|=l),gh(A,l,s),A=null}else A=y.child;if(A!==null)A.return=y;else for(A=y;A!==null;){if(A===s){A=null;break}if(y=A.sibling,y!==null){y.return=A.return,A=y;break}A=A.return}y=A}}function Yo(s,o,l,c){s=null;for(var y=o,_=!1;y!==null;){if(!_){if((y.flags&524288)!==0)_=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var A=y.alternate;if(A===null)throw Error(i(387));if(A=A.memoizedProps,A!==null){var x=y.type;Rn(y.pendingProps.value,A.value)||(s!==null?s.push(x):s=[x])}}else if(y===Se.current){if(A=y.alternate,A===null)throw Error(i(387));A.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(jl):s=[jl])}y=y.return}s!==null&&yh(o,s,l,c),o.flags|=262144}function Sc(s){for(s=s.firstContext;s!==null;){if(!Rn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function eo(s){Zr=s,es=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Qt(s){return Gy(Zr,s)}function Ac(s,o){return Zr===null&&eo(s),Gy(s,o)}function Gy(s,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},es===null){if(s===null)throw Error(i(308));es=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else es=es.next=o;return l}var ix=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){o.aborted=!0,s.forEach(function(l){return l()})}},sx=n.unstable_scheduleCallback,rx=n.unstable_NormalPriority,Mt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vh(){return{controller:new ix,data:new Map,refCount:0}}function Al(s){s.refCount--,s.refCount===0&&sx(rx,function(){s.controller.abort()})}var Cl=null,_h=0,$o=0,jo=null;function ox(s,o){if(Cl===null){var l=Cl=[];_h=0,$o=Sp(),jo={status:"pending",value:void 0,then:function(c){l.push(c)}}}return _h++,o.then(Hy,Hy),o}function Hy(){if(--_h===0&&Cl!==null){jo!==null&&(jo.status="fulfilled");var s=Cl;Cl=null,$o=0,jo=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function ax(s,o){var l=[],c={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return s.then(function(){c.status="fulfilled",c.value=o;for(var y=0;y<l.length;y++)(0,l[y])(o)},function(y){for(c.status="rejected",c.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),c}var By=K.S;K.S=function(s,o){wv=un(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&ox(s,o),By!==null&&By(s,o)};var to=F(null);function Eh(){var s=to.current;return s!==null?s:ut.pooledCache}function Cc(s,o){o===null?ce(to,to.current):ce(to,o.pool)}function zy(){var s=Eh();return s===null?null:{parent:Mt._currentValue,pool:s}}var Qo=Error(i(460)),Th=Error(i(474)),wc=Error(i(542)),Ic={then:function(){}};function qy(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Jy(s,o,l){switch(l=s[l],l===void 0?s.push(o):l!==o&&(o.then(ii,ii),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,Yy(s),s;default:if(typeof o.status=="string")o.then(ii,ii);else{if(s=ut,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(c){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=c}},function(c){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=c}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,Yy(s),s}throw io=o,Qo}}function no(s){try{var o=s._init;return o(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(io=l,Qo):l}}var io=null;function Ky(){if(io===null)throw Error(i(459));var s=io;return io=null,s}function Yy(s){if(s===Qo||s===wc)throw Error(i(483))}var Xo=null,wl=0;function xc(s){var o=wl;return wl+=1,Xo===null&&(Xo=[]),Jy(Xo,s,o)}function Il(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Rc(s,o){throw o.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function $y(s){function o(B,G){if(s){var J=B.deletions;J===null?(B.deletions=[G],B.flags|=16):J.push(G)}}function l(B,G){if(!s)return null;for(;G!==null;)o(B,G),G=G.sibling;return null}function c(B){for(var G=new Map;B!==null;)B.key!==null?G.set(B.key,B):G.set(B.index,B),B=B.sibling;return G}function y(B,G){return B=Wi(B,G),B.index=0,B.sibling=null,B}function _(B,G,J){return B.index=J,s?(J=B.alternate,J!==null?(J=J.index,J<G?(B.flags|=67108866,G):J):(B.flags|=67108866,G)):(B.flags|=1048576,G)}function A(B){return s&&B.alternate===null&&(B.flags|=67108866),B}function x(B,G,J,ie){return G===null||G.tag!==6?(G=uh(J,B.mode,ie),G.return=B,G):(G=y(G,J),G.return=B,G)}function O(B,G,J,ie){var Ae=J.type;return Ae===L?ee(B,G,J.props.children,ie,J.key):G!==null&&(G.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===b&&no(Ae)===G.type)?(G=y(G,J.props),Il(G,J),G.return=B,G):(G=Ec(J.type,J.key,J.props,null,B.mode,ie),Il(G,J),G.return=B,G)}function Y(B,G,J,ie){return G===null||G.tag!==4||G.stateNode.containerInfo!==J.containerInfo||G.stateNode.implementation!==J.implementation?(G=ch(J,B.mode,ie),G.return=B,G):(G=y(G,J.children||[]),G.return=B,G)}function ee(B,G,J,ie,Ae){return G===null||G.tag!==7?(G=Xr(J,B.mode,ie,Ae),G.return=B,G):(G=y(G,J),G.return=B,G)}function se(B,G,J){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=uh(""+G,B.mode,J),G.return=B,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case I:return J=Ec(G.type,G.key,G.props,null,B.mode,J),Il(J,G),J.return=B,J;case D:return G=ch(G,B.mode,J),G.return=B,G;case b:return G=no(G),se(B,G,J)}if(Ce(G)||H(G))return G=Xr(G,B.mode,J,null),G.return=B,G;if(typeof G.then=="function")return se(B,xc(G),J);if(G.$$typeof===j)return se(B,Ac(B,G),J);Rc(B,G)}return null}function $(B,G,J,ie){var Ae=G!==null?G.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ae!==null?null:x(B,G,""+J,ie);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case I:return J.key===Ae?O(B,G,J,ie):null;case D:return J.key===Ae?Y(B,G,J,ie):null;case b:return J=no(J),$(B,G,J,ie)}if(Ce(J)||H(J))return Ae!==null?null:ee(B,G,J,ie,null);if(typeof J.then=="function")return $(B,G,xc(J),ie);if(J.$$typeof===j)return $(B,G,Ac(B,J),ie);Rc(B,J)}return null}function W(B,G,J,ie,Ae){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return B=B.get(J)||null,x(G,B,""+ie,Ae);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case I:return B=B.get(ie.key===null?J:ie.key)||null,O(G,B,ie,Ae);case D:return B=B.get(ie.key===null?J:ie.key)||null,Y(G,B,ie,Ae);case b:return ie=no(ie),W(B,G,J,ie,Ae)}if(Ce(ie)||H(ie))return B=B.get(J)||null,ee(G,B,ie,Ae,null);if(typeof ie.then=="function")return W(B,G,J,xc(ie),Ae);if(ie.$$typeof===j)return W(B,G,J,Ac(G,ie),Ae);Rc(G,ie)}return null}function _e(B,G,J,ie){for(var Ae=null,je=null,Ee=G,Fe=G=0,ze=null;Ee!==null&&Fe<J.length;Fe++){Ee.index>Fe?(ze=Ee,Ee=null):ze=Ee.sibling;var Qe=$(B,Ee,J[Fe],ie);if(Qe===null){Ee===null&&(Ee=ze);break}s&&Ee&&Qe.alternate===null&&o(B,Ee),G=_(Qe,G,Fe),je===null?Ae=Qe:je.sibling=Qe,je=Qe,Ee=ze}if(Fe===J.length)return l(B,Ee),Ye&&Zi(B,Fe),Ae;if(Ee===null){for(;Fe<J.length;Fe++)Ee=se(B,J[Fe],ie),Ee!==null&&(G=_(Ee,G,Fe),je===null?Ae=Ee:je.sibling=Ee,je=Ee);return Ye&&Zi(B,Fe),Ae}for(Ee=c(Ee);Fe<J.length;Fe++)ze=W(Ee,B,Fe,J[Fe],ie),ze!==null&&(s&&ze.alternate!==null&&Ee.delete(ze.key===null?Fe:ze.key),G=_(ze,G,Fe),je===null?Ae=ze:je.sibling=ze,je=ze);return s&&Ee.forEach(function(sr){return o(B,sr)}),Ye&&Zi(B,Fe),Ae}function Ie(B,G,J,ie){if(J==null)throw Error(i(151));for(var Ae=null,je=null,Ee=G,Fe=G=0,ze=null,Qe=J.next();Ee!==null&&!Qe.done;Fe++,Qe=J.next()){Ee.index>Fe?(ze=Ee,Ee=null):ze=Ee.sibling;var sr=$(B,Ee,Qe.value,ie);if(sr===null){Ee===null&&(Ee=ze);break}s&&Ee&&sr.alternate===null&&o(B,Ee),G=_(sr,G,Fe),je===null?Ae=sr:je.sibling=sr,je=sr,Ee=ze}if(Qe.done)return l(B,Ee),Ye&&Zi(B,Fe),Ae;if(Ee===null){for(;!Qe.done;Fe++,Qe=J.next())Qe=se(B,Qe.value,ie),Qe!==null&&(G=_(Qe,G,Fe),je===null?Ae=Qe:je.sibling=Qe,je=Qe);return Ye&&Zi(B,Fe),Ae}for(Ee=c(Ee);!Qe.done;Fe++,Qe=J.next())Qe=W(Ee,B,Fe,Qe.value,ie),Qe!==null&&(s&&Qe.alternate!==null&&Ee.delete(Qe.key===null?Fe:Qe.key),G=_(Qe,G,Fe),je===null?Ae=Qe:je.sibling=Qe,je=Qe);return s&&Ee.forEach(function(vR){return o(B,vR)}),Ye&&Zi(B,Fe),Ae}function lt(B,G,J,ie){if(typeof J=="object"&&J!==null&&J.type===L&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case I:e:{for(var Ae=J.key;G!==null;){if(G.key===Ae){if(Ae=J.type,Ae===L){if(G.tag===7){l(B,G.sibling),ie=y(G,J.props.children),ie.return=B,B=ie;break e}}else if(G.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===b&&no(Ae)===G.type){l(B,G.sibling),ie=y(G,J.props),Il(ie,J),ie.return=B,B=ie;break e}l(B,G);break}else o(B,G);G=G.sibling}J.type===L?(ie=Xr(J.props.children,B.mode,ie,J.key),ie.return=B,B=ie):(ie=Ec(J.type,J.key,J.props,null,B.mode,ie),Il(ie,J),ie.return=B,B=ie)}return A(B);case D:e:{for(Ae=J.key;G!==null;){if(G.key===Ae)if(G.tag===4&&G.stateNode.containerInfo===J.containerInfo&&G.stateNode.implementation===J.implementation){l(B,G.sibling),ie=y(G,J.children||[]),ie.return=B,B=ie;break e}else{l(B,G);break}else o(B,G);G=G.sibling}ie=ch(J,B.mode,ie),ie.return=B,B=ie}return A(B);case b:return J=no(J),lt(B,G,J,ie)}if(Ce(J))return _e(B,G,J,ie);if(H(J)){if(Ae=H(J),typeof Ae!="function")throw Error(i(150));return J=Ae.call(J),Ie(B,G,J,ie)}if(typeof J.then=="function")return lt(B,G,xc(J),ie);if(J.$$typeof===j)return lt(B,G,Ac(B,J),ie);Rc(B,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,G!==null&&G.tag===6?(l(B,G.sibling),ie=y(G,J),ie.return=B,B=ie):(l(B,G),ie=uh(J,B.mode,ie),ie.return=B,B=ie),A(B)):l(B,G)}return function(B,G,J,ie){try{wl=0;var Ae=lt(B,G,J,ie);return Xo=null,Ae}catch(Ee){if(Ee===Qo||Ee===wc)throw Ee;var je=bn(29,Ee,null,B.mode);return je.lanes=ie,je.return=B,je}finally{}}}var so=$y(!0),jy=$y(!1),Hs=!1;function Sh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ah(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Bs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function zs(s,o,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(et&2)!==0){var y=c.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),c.pending=o,o=_c(s),Dy(s,null,l),o}return vc(s,c,o,l),_c(s)}function xl(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var c=o.lanes;c&=s.pendingLanes,l|=c,o.lanes=l,el(s,l)}}function Ch(s,o){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var y=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?y=_=A:_=_.next=A,l=l.next}while(l!==null);_===null?y=_=o:_=_.next=o}else y=_=o;l={baseState:c.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}var wh=!1;function Rl(){if(wh){var s=jo;if(s!==null)throw s}}function bl(s,o,l,c){wh=!1;var y=s.updateQueue;Hs=!1;var _=y.firstBaseUpdate,A=y.lastBaseUpdate,x=y.shared.pending;if(x!==null){y.shared.pending=null;var O=x,Y=O.next;O.next=null,A===null?_=Y:A.next=Y,A=O;var ee=s.alternate;ee!==null&&(ee=ee.updateQueue,x=ee.lastBaseUpdate,x!==A&&(x===null?ee.firstBaseUpdate=Y:x.next=Y,ee.lastBaseUpdate=O))}if(_!==null){var se=y.baseState;A=0,ee=Y=O=null,x=_;do{var $=x.lane&-536870913,W=$!==x.lane;if(W?(Be&$)===$:(c&$)===$){$!==0&&$===$o&&(wh=!0),ee!==null&&(ee=ee.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var _e=s,Ie=x;$=o;var lt=l;switch(Ie.tag){case 1:if(_e=Ie.payload,typeof _e=="function"){se=_e.call(lt,se,$);break e}se=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Ie.payload,$=typeof _e=="function"?_e.call(lt,se,$):_e,$==null)break e;se=E({},se,$);break e;case 2:Hs=!0}}$=x.callback,$!==null&&(s.flags|=64,W&&(s.flags|=8192),W=y.callbacks,W===null?y.callbacks=[$]:W.push($))}else W={lane:$,tag:x.tag,payload:x.payload,callback:x.callback,next:null},ee===null?(Y=ee=W,O=se):ee=ee.next=W,A|=$;if(x=x.next,x===null){if(x=y.shared.pending,x===null)break;W=x,x=W.next,W.next=null,y.lastBaseUpdate=W,y.shared.pending=null}}while(!0);ee===null&&(O=se),y.baseState=O,y.firstBaseUpdate=Y,y.lastBaseUpdate=ee,_===null&&(y.shared.lanes=0),$s|=A,s.lanes=A,s.memoizedState=se}}function Qy(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function Xy(s,o){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Qy(l[s],o)}var Wo=F(null),bc=F(0);function Wy(s,o){s=cs,ce(bc,s),ce(Wo,o),cs=s|o.baseLanes}function Ih(){ce(bc,cs),ce(Wo,Wo.current)}function xh(){cs=bc.current,te(Wo),te(bc)}var Nn=F(null),Kn=null;function qs(s){var o=s.alternate;ce(Tt,Tt.current&1),ce(Nn,s),Kn===null&&(o===null||Wo.current!==null||o.memoizedState!==null)&&(Kn=s)}function Rh(s){ce(Tt,Tt.current),ce(Nn,s),Kn===null&&(Kn=s)}function Zy(s){s.tag===22?(ce(Tt,Tt.current),ce(Nn,s),Kn===null&&(Kn=s)):Js()}function Js(){ce(Tt,Tt.current),ce(Nn,Nn.current)}function Mn(s){te(Nn),Kn===s&&(Kn=null),te(Tt)}var Tt=F(0);function Nc(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Pp(l)||Vp(l)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ns=0,Le=null,ot=null,Dt=null,Mc=!1,Zo=!1,ro=!1,Dc=0,Nl=0,ea=null,lx=0;function yt(){throw Error(i(321))}function bh(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!Rn(s[l],o[l]))return!1;return!0}function Nh(s,o,l,c,y,_){return ns=_,Le=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,K.H=s===null||s.memoizedState===null?U0:Jh,ro=!1,_=l(c,y),ro=!1,Zo&&(_=t0(o,l,c,y)),e0(s),_}function e0(s){K.H=kl;var o=ot!==null&&ot.next!==null;if(ns=0,Dt=ot=Le=null,Mc=!1,Nl=0,ea=null,o)throw Error(i(300));s===null||kt||(s=s.dependencies,s!==null&&Sc(s)&&(kt=!0))}function t0(s,o,l,c){Le=s;var y=0;do{if(Zo&&(ea=null),Nl=0,Zo=!1,25<=y)throw Error(i(301));if(y+=1,Dt=ot=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}K.H=L0,_=o(l,c)}while(Zo);return _}function ux(){var s=K.H,o=s.useState()[0];return o=typeof o.then=="function"?Ml(o):o,s=s.useState()[0],(ot!==null?ot.memoizedState:null)!==s&&(Le.flags|=1024),o}function Mh(){var s=Dc!==0;return Dc=0,s}function Dh(s,o,l){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~l}function kh(s){if(Mc){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Mc=!1}ns=0,Dt=ot=Le=null,Zo=!1,Nl=Dc=0,ea=null}function dn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Le.memoizedState=Dt=s:Dt=Dt.next=s,Dt}function St(){if(ot===null){var s=Le.alternate;s=s!==null?s.memoizedState:null}else s=ot.next;var o=Dt===null?Le.memoizedState:Dt.next;if(o!==null)Dt=o,ot=s;else{if(s===null)throw Le.alternate===null?Error(i(467)):Error(i(310));ot=s,s={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Dt===null?Le.memoizedState=Dt=s:Dt=Dt.next=s}return Dt}function kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(s){var o=Nl;return Nl+=1,ea===null&&(ea=[]),s=Jy(ea,s,o),o=Le,(Dt===null?o.memoizedState:Dt.next)===null&&(o=o.alternate,K.H=o===null||o.memoizedState===null?U0:Jh),s}function Pc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ml(s);if(s.$$typeof===j)return Qt(s)}throw Error(i(438,String(s)))}function Ph(s){var o=null,l=Le.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var c=Le.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(o={data:c.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=kc(),Le.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(s),c=0;c<s;c++)l[c]=V;return o.index++,l}function is(s,o){return typeof o=="function"?o(s):o}function Vc(s){var o=St();return Vh(o,ot,s)}function Vh(s,o,l){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var y=s.baseQueue,_=c.pending;if(_!==null){if(y!==null){var A=y.next;y.next=_.next,_.next=A}o.baseQueue=y=_,c.pending=null}if(_=s.baseState,y===null)s.memoizedState=_;else{o=y.next;var x=A=null,O=null,Y=o,ee=!1;do{var se=Y.lane&-536870913;if(se!==Y.lane?(Be&se)===se:(ns&se)===se){var $=Y.revertLane;if($===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),se===$o&&(ee=!0);else if((ns&$)===$){Y=Y.next,$===$o&&(ee=!0);continue}else se={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(x=O=se,A=_):O=O.next=se,Le.lanes|=$,$s|=$;se=Y.action,ro&&l(_,se),_=Y.hasEagerState?Y.eagerState:l(_,se)}else $={lane:se,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(x=O=$,A=_):O=O.next=$,Le.lanes|=se,$s|=se;Y=Y.next}while(Y!==null&&Y!==o);if(O===null?A=_:O.next=x,!Rn(_,s.memoizedState)&&(kt=!0,ee&&(l=jo,l!==null)))throw l;s.memoizedState=_,s.baseState=A,s.baseQueue=O,c.lastRenderedState=_}return y===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function Uh(s){var o=St(),l=o.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var c=l.dispatch,y=l.pending,_=o.memoizedState;if(y!==null){l.pending=null;var A=y=y.next;do _=s(_,A.action),A=A.next;while(A!==y);Rn(_,o.memoizedState)||(kt=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),l.lastRenderedState=_}return[_,c]}function n0(s,o,l){var c=Le,y=St(),_=Ye;if(_){if(l===void 0)throw Error(i(407));l=l()}else l=o();var A=!Rn((ot||y).memoizedState,l);if(A&&(y.memoizedState=l,kt=!0),y=y.queue,Fh(r0.bind(null,c,y,s),[s]),y.getSnapshot!==o||A||Dt!==null&&Dt.memoizedState.tag&1){if(c.flags|=2048,ta(9,{destroy:void 0},s0.bind(null,c,y,l,o),null),ut===null)throw Error(i(349));_||(ns&127)!==0||i0(c,o,l)}return l}function i0(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=Le.updateQueue,o===null?(o=kc(),Le.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function s0(s,o,l,c){o.value=l,o.getSnapshot=c,o0(o)&&a0(s)}function r0(s,o,l){return l(function(){o0(o)&&a0(s)})}function o0(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!Rn(s,l)}catch{return!0}}function a0(s){var o=Qr(s,2);o!==null&&Sn(o,s,2)}function Lh(s){var o=dn();if(typeof s=="function"){var l=s;if(s=l(),ro){Un(!0);try{l()}finally{Un(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:s},o}function l0(s,o,l,c){return s.baseState=l,Vh(s,ot,typeof c=="function"?c:is)}function cx(s,o,l,c,y){if(Oc(s))throw Error(i(485));if(s=o.action,s!==null){var _={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){_.listeners.push(A)}};K.T!==null?l(!0):_.isTransition=!1,c(_),l=o.pending,l===null?(_.next=o.pending=_,u0(o,_)):(_.next=l.next,o.pending=l.next=_)}}function u0(s,o){var l=o.action,c=o.payload,y=s.state;if(o.isTransition){var _=K.T,A={};K.T=A;try{var x=l(y,c),O=K.S;O!==null&&O(A,x),c0(s,o,x)}catch(Y){Oh(s,o,Y)}finally{_!==null&&A.types!==null&&(_.types=A.types),K.T=_}}else try{_=l(y,c),c0(s,o,_)}catch(Y){Oh(s,o,Y)}}function c0(s,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){d0(s,o,c)},function(c){return Oh(s,o,c)}):d0(s,o,l)}function d0(s,o,l){o.status="fulfilled",o.value=l,f0(o),s.state=l,o=s.pending,o!==null&&(l=o.next,l===o?s.pending=null:(l=l.next,o.next=l,u0(s,l)))}function Oh(s,o,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do o.status="rejected",o.reason=l,f0(o),o=o.next;while(o!==c)}s.action=null}function f0(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function h0(s,o){return o}function p0(s,o){if(Ye){var l=ut.formState;if(l!==null){e:{var c=Le;if(Ye){if(ct){t:{for(var y=ct,_=Jn;y.nodeType!==8;){if(!_){y=null;break t}if(y=Yn(y.nextSibling),y===null){y=null;break t}}_=y.data,y=_==="F!"||_==="F"?y:null}if(y){ct=Yn(y.nextSibling),c=y.data==="F!";break e}}Fs(c)}c=!1}c&&(o=l[0])}}return l=dn(),l.memoizedState=l.baseState=o,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h0,lastRenderedState:o},l.queue=c,l=k0.bind(null,Le,c),c.dispatch=l,c=Lh(!1),_=qh.bind(null,Le,!1,c.queue),c=dn(),y={state:o,dispatch:null,action:s,pending:null},c.queue=y,l=cx.bind(null,Le,y,_,l),y.dispatch=l,c.memoizedState=s,[o,l,!1]}function m0(s){var o=St();return g0(o,ot,s)}function g0(s,o,l){if(o=Vh(s,o,h0)[0],s=Vc(is)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var c=Ml(o)}catch(A){throw A===Qo?wc:A}else c=o;o=St();var y=o.queue,_=y.dispatch;return l!==o.memoizedState&&(Le.flags|=2048,ta(9,{destroy:void 0},dx.bind(null,y,l),null)),[c,_,s]}function dx(s,o){s.action=o}function y0(s){var o=St(),l=ot;if(l!==null)return g0(o,l,s);St(),o=o.memoizedState,l=St();var c=l.queue.dispatch;return l.memoizedState=s,[o,c,!1]}function ta(s,o,l,c){return s={tag:s,create:l,deps:c,inst:o,next:null},o=Le.updateQueue,o===null&&(o=kc(),Le.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,o.lastEffect=s),s}function v0(){return St().memoizedState}function Uc(s,o,l,c){var y=dn();Le.flags|=s,y.memoizedState=ta(1|o,{destroy:void 0},l,c===void 0?null:c)}function Lc(s,o,l,c){var y=St();c=c===void 0?null:c;var _=y.memoizedState.inst;ot!==null&&c!==null&&bh(c,ot.memoizedState.deps)?y.memoizedState=ta(o,_,l,c):(Le.flags|=s,y.memoizedState=ta(1|o,_,l,c))}function _0(s,o){Uc(8390656,8,s,o)}function Fh(s,o){Lc(2048,8,s,o)}function fx(s){Le.flags|=4;var o=Le.updateQueue;if(o===null)o=kc(),Le.updateQueue=o,o.events=[s];else{var l=o.events;l===null?o.events=[s]:l.push(s)}}function E0(s){var o=St().memoizedState;return fx({ref:o,nextImpl:s}),function(){if((et&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function T0(s,o){return Lc(4,2,s,o)}function S0(s,o){return Lc(4,4,s,o)}function A0(s,o){if(typeof o=="function"){s=s();var l=o(s);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function C0(s,o,l){l=l!=null?l.concat([s]):null,Lc(4,4,A0.bind(null,o,s),l)}function Gh(){}function w0(s,o){var l=St();o=o===void 0?null:o;var c=l.memoizedState;return o!==null&&bh(o,c[1])?c[0]:(l.memoizedState=[s,o],s)}function I0(s,o){var l=St();o=o===void 0?null:o;var c=l.memoizedState;if(o!==null&&bh(o,c[1]))return c[0];if(c=s(),ro){Un(!0);try{s()}finally{Un(!1)}}return l.memoizedState=[c,o],c}function Hh(s,o,l){return l===void 0||(ns&1073741824)!==0&&(Be&261930)===0?s.memoizedState=o:(s.memoizedState=l,s=xv(),Le.lanes|=s,$s|=s,l)}function x0(s,o,l,c){return Rn(l,o)?l:Wo.current!==null?(s=Hh(s,l,c),Rn(s,o)||(kt=!0),s):(ns&42)===0||(ns&1073741824)!==0&&(Be&261930)===0?(kt=!0,s.memoizedState=l):(s=xv(),Le.lanes|=s,$s|=s,o)}function R0(s,o,l,c,y){var _=ae.p;ae.p=_!==0&&8>_?_:8;var A=K.T,x={};K.T=x,qh(s,!1,o,l);try{var O=y(),Y=K.S;if(Y!==null&&Y(x,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ee=ax(O,c);Dl(s,o,ee,Pn(s))}else Dl(s,o,c,Pn(s))}catch(se){Dl(s,o,{then:function(){},status:"rejected",reason:se},Pn())}finally{ae.p=_,A!==null&&x.types!==null&&(A.types=x.types),K.T=A}}function hx(){}function Bh(s,o,l,c){if(s.tag!==5)throw Error(i(476));var y=b0(s).queue;R0(s,y,o,pe,l===null?hx:function(){return N0(s),l(c)})}function b0(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:pe},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:l},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function N0(s){var o=b0(s);o.next===null&&(o=s.alternate.memoizedState),Dl(s,o.next.queue,{},Pn())}function zh(){return Qt(jl)}function M0(){return St().memoizedState}function D0(){return St().memoizedState}function px(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var l=Pn();s=Bs(l);var c=zs(o,s,l);c!==null&&(Sn(c,o,l),xl(c,o,l)),o={cache:vh()},s.payload=o;return}o=o.return}}function mx(s,o,l){var c=Pn();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Oc(s)?P0(o,l):(l=ah(s,o,l,c),l!==null&&(Sn(l,s,c),V0(l,o,c)))}function k0(s,o,l){var c=Pn();Dl(s,o,l,c)}function Dl(s,o,l,c){var y={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Oc(s))P0(o,y);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var A=o.lastRenderedState,x=_(A,l);if(y.hasEagerState=!0,y.eagerState=x,Rn(x,A))return vc(s,o,y,0),ut===null&&yc(),!1}catch{}finally{}if(l=ah(s,o,y,c),l!==null)return Sn(l,s,c),V0(l,o,c),!0}return!1}function qh(s,o,l,c){if(c={lane:2,revertLane:Sp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Oc(s)){if(o)throw Error(i(479))}else o=ah(s,l,c,2),o!==null&&Sn(o,s,2)}function Oc(s){var o=s.alternate;return s===Le||o!==null&&o===Le}function P0(s,o){Zo=Mc=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function V0(s,o,l){if((l&4194048)!==0){var c=o.lanes;c&=s.pendingLanes,l|=c,o.lanes=l,el(s,l)}}var kl={readContext:Qt,use:Pc,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};kl.useEffectEvent=yt;var U0={readContext:Qt,use:Pc,useCallback:function(s,o){return dn().memoizedState=[s,o===void 0?null:o],s},useContext:Qt,useEffect:_0,useImperativeHandle:function(s,o,l){l=l!=null?l.concat([s]):null,Uc(4194308,4,A0.bind(null,o,s),l)},useLayoutEffect:function(s,o){return Uc(4194308,4,s,o)},useInsertionEffect:function(s,o){Uc(4,2,s,o)},useMemo:function(s,o){var l=dn();o=o===void 0?null:o;var c=s();if(ro){Un(!0);try{s()}finally{Un(!1)}}return l.memoizedState=[c,o],c},useReducer:function(s,o,l){var c=dn();if(l!==void 0){var y=l(o);if(ro){Un(!0);try{l(o)}finally{Un(!1)}}}else y=o;return c.memoizedState=c.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},c.queue=s,s=s.dispatch=mx.bind(null,Le,s),[c.memoizedState,s]},useRef:function(s){var o=dn();return s={current:s},o.memoizedState=s},useState:function(s){s=Lh(s);var o=s.queue,l=k0.bind(null,Le,o);return o.dispatch=l,[s.memoizedState,l]},useDebugValue:Gh,useDeferredValue:function(s,o){var l=dn();return Hh(l,s,o)},useTransition:function(){var s=Lh(!1);return s=R0.bind(null,Le,s.queue,!0,!1),dn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,l){var c=Le,y=dn();if(Ye){if(l===void 0)throw Error(i(407));l=l()}else{if(l=o(),ut===null)throw Error(i(349));(Be&127)!==0||i0(c,o,l)}y.memoizedState=l;var _={value:l,getSnapshot:o};return y.queue=_,_0(r0.bind(null,c,_,s),[s]),c.flags|=2048,ta(9,{destroy:void 0},s0.bind(null,c,_,l,o),null),l},useId:function(){var s=dn(),o=ut.identifierPrefix;if(Ye){var l=Ui,c=Vi;l=(c&~(1<<32-_t(c)-1)).toString(32)+l,o="_"+o+"R_"+l,l=Dc++,0<l&&(o+="H"+l.toString(32)),o+="_"}else l=lx++,o="_"+o+"r_"+l.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:zh,useFormState:p0,useActionState:p0,useOptimistic:function(s){var o=dn();o.memoizedState=o.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=qh.bind(null,Le,!0,l),l.dispatch=o,[s,o]},useMemoCache:Ph,useCacheRefresh:function(){return dn().memoizedState=px.bind(null,Le)},useEffectEvent:function(s){var o=dn(),l={impl:s};return o.memoizedState=l,function(){if((et&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Jh={readContext:Qt,use:Pc,useCallback:w0,useContext:Qt,useEffect:Fh,useImperativeHandle:C0,useInsertionEffect:T0,useLayoutEffect:S0,useMemo:I0,useReducer:Vc,useRef:v0,useState:function(){return Vc(is)},useDebugValue:Gh,useDeferredValue:function(s,o){var l=St();return x0(l,ot.memoizedState,s,o)},useTransition:function(){var s=Vc(is)[0],o=St().memoizedState;return[typeof s=="boolean"?s:Ml(s),o]},useSyncExternalStore:n0,useId:M0,useHostTransitionStatus:zh,useFormState:m0,useActionState:m0,useOptimistic:function(s,o){var l=St();return l0(l,ot,s,o)},useMemoCache:Ph,useCacheRefresh:D0};Jh.useEffectEvent=E0;var L0={readContext:Qt,use:Pc,useCallback:w0,useContext:Qt,useEffect:Fh,useImperativeHandle:C0,useInsertionEffect:T0,useLayoutEffect:S0,useMemo:I0,useReducer:Uh,useRef:v0,useState:function(){return Uh(is)},useDebugValue:Gh,useDeferredValue:function(s,o){var l=St();return ot===null?Hh(l,s,o):x0(l,ot.memoizedState,s,o)},useTransition:function(){var s=Uh(is)[0],o=St().memoizedState;return[typeof s=="boolean"?s:Ml(s),o]},useSyncExternalStore:n0,useId:M0,useHostTransitionStatus:zh,useFormState:y0,useActionState:y0,useOptimistic:function(s,o){var l=St();return ot!==null?l0(l,ot,s,o):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Ph,useCacheRefresh:D0};L0.useEffectEvent=E0;function Kh(s,o,l,c){o=s.memoizedState,l=l(c,o),l=l==null?o:E({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Yh={enqueueSetState:function(s,o,l){s=s._reactInternals;var c=Pn(),y=Bs(c);y.payload=o,l!=null&&(y.callback=l),o=zs(s,y,c),o!==null&&(Sn(o,s,c),xl(o,s,c))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var c=Pn(),y=Bs(c);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=zs(s,y,c),o!==null&&(Sn(o,s,c),xl(o,s,c))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=Pn(),c=Bs(l);c.tag=2,o!=null&&(c.callback=o),o=zs(s,c,l),o!==null&&(Sn(o,s,l),xl(o,s,l))}};function O0(s,o,l,c,y,_,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,_,A):o.prototype&&o.prototype.isPureReactComponent?!_l(l,c)||!_l(y,_):!0}function F0(s,o,l,c){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,c),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,c),o.state!==s&&Yh.enqueueReplaceState(o,o.state,null)}function oo(s,o){var l=o;if("ref"in o){l={};for(var c in o)c!=="ref"&&(l[c]=o[c])}if(s=s.defaultProps){l===o&&(l=E({},l));for(var y in s)l[y]===void 0&&(l[y]=s[y])}return l}function G0(s){gc(s)}function H0(s){console.error(s)}function B0(s){gc(s)}function Fc(s,o){try{var l=s.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(c){setTimeout(function(){throw c})}}function z0(s,o,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function $h(s,o,l){return l=Bs(l),l.tag=3,l.payload={element:null},l.callback=function(){Fc(s,o)},l}function q0(s){return s=Bs(s),s.tag=3,s}function J0(s,o,l,c){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var _=c.value;s.payload=function(){return y(_)},s.callback=function(){z0(o,l,c)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(s.callback=function(){z0(o,l,c),typeof y!="function"&&(js===null?js=new Set([this]):js.add(this));var x=c.stack;this.componentDidCatch(c.value,{componentStack:x!==null?x:""})})}function gx(s,o,l,c,y){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(o=l.alternate,o!==null&&Yo(o,l,y,!0),l=Nn.current,l!==null){switch(l.tag){case 31:case 13:return Kn===null?Xc():l.alternate===null&&vt===0&&(vt=3),l.flags&=-257,l.flags|=65536,l.lanes=y,c===Ic?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([c]):o.add(c),_p(s,c,y)),!1;case 22:return l.flags|=65536,c===Ic?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([c]):l.add(c)),_p(s,c,y)),!1}throw Error(i(435,l.tag))}return _p(s,c,y),Xc(),!1}if(Ye)return o=Nn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,c!==hh&&(s=Error(i(422),{cause:c}),Sl(Bn(s,l)))):(c!==hh&&(o=Error(i(423),{cause:c}),Sl(Bn(o,l))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,c=Bn(c,l),y=$h(s.stateNode,c,y),Ch(s,y),vt!==4&&(vt=2)),!1;var _=Error(i(520),{cause:c});if(_=Bn(_,l),Hl===null?Hl=[_]:Hl.push(_),vt!==4&&(vt=2),o===null)return!0;c=Bn(c,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,s=y&-y,l.lanes|=s,s=$h(l.stateNode,c,s),Ch(l,s),!1;case 1:if(o=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(js===null||!js.has(_))))return l.flags|=65536,y&=-y,l.lanes|=y,y=q0(y),J0(y,s,l,c),Ch(l,y),!1}l=l.return}while(l!==null);return!1}var jh=Error(i(461)),kt=!1;function Xt(s,o,l,c){o.child=s===null?jy(o,null,l,c):so(o,s.child,l,c)}function K0(s,o,l,c,y){l=l.render;var _=o.ref;if("ref"in c){var A={};for(var x in c)x!=="ref"&&(A[x]=c[x])}else A=c;return eo(o),c=Nh(s,o,l,A,_,y),x=Mh(),s!==null&&!kt?(Dh(s,o,y),ss(s,o,y)):(Ye&&x&&dh(o),o.flags|=1,Xt(s,o,c,y),o.child)}function Y0(s,o,l,c,y){if(s===null){var _=l.type;return typeof _=="function"&&!lh(_)&&_.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=_,$0(s,o,_,c,y)):(s=Ec(l.type,null,c,o,o.mode,y),s.ref=o.ref,s.return=o,o.child=s)}if(_=s.child,!ip(s,y)){var A=_.memoizedProps;if(l=l.compare,l=l!==null?l:_l,l(A,c)&&s.ref===o.ref)return ss(s,o,y)}return o.flags|=1,s=Wi(_,c),s.ref=o.ref,s.return=o,o.child=s}function $0(s,o,l,c,y){if(s!==null){var _=s.memoizedProps;if(_l(_,c)&&s.ref===o.ref)if(kt=!1,o.pendingProps=c=_,ip(s,y))(s.flags&131072)!==0&&(kt=!0);else return o.lanes=s.lanes,ss(s,o,y)}return Qh(s,o,l,c,y)}function j0(s,o,l,c){var y=c.children,_=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((o.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,s!==null){for(c=o.child=s.child,y=0;c!==null;)y=y|c.lanes|c.childLanes,c=c.sibling;c=y&~_}else c=0,o.child=null;return Q0(s,o,_,l,c)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Cc(o,_!==null?_.cachePool:null),_!==null?Wy(o,_):Ih(),Zy(o);else return c=o.lanes=536870912,Q0(s,o,_!==null?_.baseLanes|l:l,l,c)}else _!==null?(Cc(o,_.cachePool),Wy(o,_),Js(),o.memoizedState=null):(s!==null&&Cc(o,null),Ih(),Js());return Xt(s,o,y,l),o.child}function Pl(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Q0(s,o,l,c,y){var _=Eh();return _=_===null?null:{parent:Mt._currentValue,pool:_},o.memoizedState={baseLanes:l,cachePool:_},s!==null&&Cc(o,null),Ih(),Zy(o),s!==null&&Yo(s,o,c,!0),o.childLanes=y,null}function Gc(s,o){return o=Bc({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function X0(s,o,l){return so(o,s.child,null,l),s=Gc(o,o.pendingProps),s.flags|=2,Mn(o),o.memoizedState=null,s}function yx(s,o,l){var c=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(Ye){if(c.mode==="hidden")return s=Gc(o,c),o.lanes=536870912,Pl(null,s);if(Rh(o),(s=ct)?(s=u_(s,Jn),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:Ls!==null?{id:Vi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},l=Py(s),l.return=o,o.child=l,jt=o,ct=null)):s=null,s===null)throw Fs(o);return o.lanes=536870912,null}return Gc(o,c)}var _=s.memoizedState;if(_!==null){var A=_.dehydrated;if(Rh(o),y)if(o.flags&256)o.flags&=-257,o=X0(s,o,l);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(i(558));else if(kt||Yo(s,o,l,!1),y=(l&s.childLanes)!==0,kt||y){if(c=ut,c!==null&&(A=tl(c,l),A!==0&&A!==_.retryLane))throw _.retryLane=A,Qr(s,A),Sn(c,s,A),jh;Xc(),o=X0(s,o,l)}else s=_.treeContext,ct=Yn(A.nextSibling),jt=o,Ye=!0,Os=null,Jn=!1,s!==null&&Ly(o,s),o=Gc(o,c),o.flags|=4096;return o}return s=Wi(s.child,{mode:c.mode,children:c.children}),s.ref=o.ref,o.child=s,s.return=o,s}function Hc(s,o){var l=o.ref;if(l===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(o.flags|=4194816)}}function Qh(s,o,l,c,y){return eo(o),l=Nh(s,o,l,c,void 0,y),c=Mh(),s!==null&&!kt?(Dh(s,o,y),ss(s,o,y)):(Ye&&c&&dh(o),o.flags|=1,Xt(s,o,l,y),o.child)}function W0(s,o,l,c,y,_){return eo(o),o.updateQueue=null,l=t0(o,c,l,y),e0(s),c=Mh(),s!==null&&!kt?(Dh(s,o,_),ss(s,o,_)):(Ye&&c&&dh(o),o.flags|=1,Xt(s,o,l,_),o.child)}function Z0(s,o,l,c,y){if(eo(o),o.stateNode===null){var _=zo,A=l.contextType;typeof A=="object"&&A!==null&&(_=Qt(A)),_=new l(c,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Yh,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=c,_.state=o.memoizedState,_.refs={},Sh(o),A=l.contextType,_.context=typeof A=="object"&&A!==null?Qt(A):zo,_.state=o.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(Kh(o,l,A,c),_.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(A=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),A!==_.state&&Yh.enqueueReplaceState(_,_.state,null),bl(o,c,_,y),Rl(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),c=!0}else if(s===null){_=o.stateNode;var x=o.memoizedProps,O=oo(l,x);_.props=O;var Y=_.context,ee=l.contextType;A=zo,typeof ee=="object"&&ee!==null&&(A=Qt(ee));var se=l.getDerivedStateFromProps;ee=typeof se=="function"||typeof _.getSnapshotBeforeUpdate=="function",x=o.pendingProps!==x,ee||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(x||Y!==A)&&F0(o,_,c,A),Hs=!1;var $=o.memoizedState;_.state=$,bl(o,c,_,y),Rl(),Y=o.memoizedState,x||$!==Y||Hs?(typeof se=="function"&&(Kh(o,l,se,c),Y=o.memoizedState),(O=Hs||O0(o,l,O,c,$,Y,A))?(ee||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=c,o.memoizedState=Y),_.props=c,_.state=Y,_.context=A,c=O):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),c=!1)}else{_=o.stateNode,Ah(s,o),A=o.memoizedProps,ee=oo(l,A),_.props=ee,se=o.pendingProps,$=_.context,Y=l.contextType,O=zo,typeof Y=="object"&&Y!==null&&(O=Qt(Y)),x=l.getDerivedStateFromProps,(Y=typeof x=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==se||$!==O)&&F0(o,_,c,O),Hs=!1,$=o.memoizedState,_.state=$,bl(o,c,_,y),Rl();var W=o.memoizedState;A!==se||$!==W||Hs||s!==null&&s.dependencies!==null&&Sc(s.dependencies)?(typeof x=="function"&&(Kh(o,l,x,c),W=o.memoizedState),(ee=Hs||O0(o,l,ee,c,$,W,O)||s!==null&&s.dependencies!==null&&Sc(s.dependencies))?(Y||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,W,O),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,W,O)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||A===s.memoizedProps&&$===s.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&$===s.memoizedState||(o.flags|=1024),o.memoizedProps=c,o.memoizedState=W),_.props=c,_.state=W,_.context=O,c=ee):(typeof _.componentDidUpdate!="function"||A===s.memoizedProps&&$===s.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&$===s.memoizedState||(o.flags|=1024),c=!1)}return _=c,Hc(s,o),c=(o.flags&128)!==0,_||c?(_=o.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,s!==null&&c?(o.child=so(o,s.child,null,y),o.child=so(o,null,l,y)):Xt(s,o,l,y),o.memoizedState=_.state,s=o.child):s=ss(s,o,y),s}function ev(s,o,l,c){return Wr(),o.flags|=256,Xt(s,o,l,c),o.child}var Xh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wh(s){return{baseLanes:s,cachePool:zy()}}function Zh(s,o,l){return s=s!==null?s.childLanes&~l:0,o&&(s|=kn),s}function tv(s,o,l){var c=o.pendingProps,y=!1,_=(o.flags&128)!==0,A;if((A=_)||(A=s!==null&&s.memoizedState===null?!1:(Tt.current&2)!==0),A&&(y=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,s===null){if(Ye){if(y?qs(o):Js(),(s=ct)?(s=u_(s,Jn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:Ls!==null?{id:Vi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},l=Py(s),l.return=o,o.child=l,jt=o,ct=null)):s=null,s===null)throw Fs(o);return Vp(s)?o.lanes=32:o.lanes=536870912,null}var x=c.children;return c=c.fallback,y?(Js(),y=o.mode,x=Bc({mode:"hidden",children:x},y),c=Xr(c,y,l,null),x.return=o,c.return=o,x.sibling=c,o.child=x,c=o.child,c.memoizedState=Wh(l),c.childLanes=Zh(s,A,l),o.memoizedState=Xh,Pl(null,c)):(qs(o),ep(o,x))}var O=s.memoizedState;if(O!==null&&(x=O.dehydrated,x!==null)){if(_)o.flags&256?(qs(o),o.flags&=-257,o=tp(s,o,l)):o.memoizedState!==null?(Js(),o.child=s.child,o.flags|=128,o=null):(Js(),x=c.fallback,y=o.mode,c=Bc({mode:"visible",children:c.children},y),x=Xr(x,y,l,null),x.flags|=2,c.return=o,x.return=o,c.sibling=x,o.child=c,so(o,s.child,null,l),c=o.child,c.memoizedState=Wh(l),c.childLanes=Zh(s,A,l),o.memoizedState=Xh,o=Pl(null,c));else if(qs(o),Vp(x)){if(A=x.nextSibling&&x.nextSibling.dataset,A)var Y=A.dgst;A=Y,c=Error(i(419)),c.stack="",c.digest=A,Sl({value:c,source:null,stack:null}),o=tp(s,o,l)}else if(kt||Yo(s,o,l,!1),A=(l&s.childLanes)!==0,kt||A){if(A=ut,A!==null&&(c=tl(A,l),c!==0&&c!==O.retryLane))throw O.retryLane=c,Qr(s,c),Sn(A,s,c),jh;Pp(x)||Xc(),o=tp(s,o,l)}else Pp(x)?(o.flags|=192,o.child=s.child,o=null):(s=O.treeContext,ct=Yn(x.nextSibling),jt=o,Ye=!0,Os=null,Jn=!1,s!==null&&Ly(o,s),o=ep(o,c.children),o.flags|=4096);return o}return y?(Js(),x=c.fallback,y=o.mode,O=s.child,Y=O.sibling,c=Wi(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,Y!==null?x=Wi(Y,x):(x=Xr(x,y,l,null),x.flags|=2),x.return=o,c.return=o,c.sibling=x,o.child=c,Pl(null,c),c=o.child,x=s.child.memoizedState,x===null?x=Wh(l):(y=x.cachePool,y!==null?(O=Mt._currentValue,y=y.parent!==O?{parent:O,pool:O}:y):y=zy(),x={baseLanes:x.baseLanes|l,cachePool:y}),c.memoizedState=x,c.childLanes=Zh(s,A,l),o.memoizedState=Xh,Pl(s.child,c)):(qs(o),l=s.child,s=l.sibling,l=Wi(l,{mode:"visible",children:c.children}),l.return=o,l.sibling=null,s!==null&&(A=o.deletions,A===null?(o.deletions=[s],o.flags|=16):A.push(s)),o.child=l,o.memoizedState=null,l)}function ep(s,o){return o=Bc({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Bc(s,o){return s=bn(22,s,null,o),s.lanes=0,s}function tp(s,o,l){return so(o,s.child,null,l),s=ep(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function nv(s,o,l){s.lanes|=o;var c=s.alternate;c!==null&&(c.lanes|=o),gh(s.return,o,l)}function np(s,o,l,c,y,_){var A=s.memoizedState;A===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:y,treeForkCount:_}:(A.isBackwards=o,A.rendering=null,A.renderingStartTime=0,A.last=c,A.tail=l,A.tailMode=y,A.treeForkCount=_)}function iv(s,o,l){var c=o.pendingProps,y=c.revealOrder,_=c.tail;c=c.children;var A=Tt.current,x=(A&2)!==0;if(x?(A=A&1|2,o.flags|=128):A&=1,ce(Tt,A),Xt(s,o,c,l),c=Ye?Tl:0,!x&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&nv(s,l,o);else if(s.tag===19)nv(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(y){case"forwards":for(l=o.child,y=null;l!==null;)s=l.alternate,s!==null&&Nc(s)===null&&(y=l),l=l.sibling;l=y,l===null?(y=o.child,o.child=null):(y=l.sibling,l.sibling=null),np(o,!1,y,l,_,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=o.child,o.child=null;y!==null;){if(s=y.alternate,s!==null&&Nc(s)===null){o.child=y;break}s=y.sibling,y.sibling=l,l=y,y=s}np(o,!0,l,null,_,c);break;case"together":np(o,!1,null,null,void 0,c);break;default:o.memoizedState=null}return o.child}function ss(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),$s|=o.lanes,(l&o.childLanes)===0)if(s!==null){if(Yo(s,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,l=Wi(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=Wi(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function ip(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Sc(s)))}function vx(s,o,l){switch(o.tag){case 3:We(o,o.stateNode.containerInfo),Gs(o,Mt,s.memoizedState.cache),Wr();break;case 27:case 5:mn(o);break;case 4:We(o,o.stateNode.containerInfo);break;case 10:Gs(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Rh(o),null;break;case 13:var c=o.memoizedState;if(c!==null)return c.dehydrated!==null?(qs(o),o.flags|=128,null):(l&o.child.childLanes)!==0?tv(s,o,l):(qs(o),s=ss(s,o,l),s!==null?s.sibling:null);qs(o);break;case 19:var y=(s.flags&128)!==0;if(c=(l&o.childLanes)!==0,c||(Yo(s,o,l,!1),c=(l&o.childLanes)!==0),y){if(c)return iv(s,o,l);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ce(Tt,Tt.current),c)break;return null;case 22:return o.lanes=0,j0(s,o,l,o.pendingProps);case 24:Gs(o,Mt,s.memoizedState.cache)}return ss(s,o,l)}function sv(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps)kt=!0;else{if(!ip(s,l)&&(o.flags&128)===0)return kt=!1,vx(s,o,l);kt=(s.flags&131072)!==0}else kt=!1,Ye&&(o.flags&1048576)!==0&&Uy(o,Tl,o.index);switch(o.lanes=0,o.tag){case 16:e:{var c=o.pendingProps;if(s=no(o.elementType),o.type=s,typeof s=="function")lh(s)?(c=oo(s,c),o.tag=1,o=Z0(null,o,s,c,l)):(o.tag=0,o=Qh(null,o,s,c,l));else{if(s!=null){var y=s.$$typeof;if(y===oe){o.tag=11,o=K0(null,o,s,c,l);break e}else if(y===M){o.tag=14,o=Y0(null,o,s,c,l);break e}}throw o=he(s)||s,Error(i(306,o,""))}}return o;case 0:return Qh(s,o,o.type,o.pendingProps,l);case 1:return c=o.type,y=oo(c,o.pendingProps),Z0(s,o,c,y,l);case 3:e:{if(We(o,o.stateNode.containerInfo),s===null)throw Error(i(387));c=o.pendingProps;var _=o.memoizedState;y=_.element,Ah(s,o),bl(o,c,null,l);var A=o.memoizedState;if(c=A.cache,Gs(o,Mt,c),c!==_.cache&&yh(o,[Mt],l,!0),Rl(),c=A.element,_.isDehydrated)if(_={element:c,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=ev(s,o,c,l);break e}else if(c!==y){y=Bn(Error(i(424)),o),Sl(y),o=ev(s,o,c,l);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ct=Yn(s.firstChild),jt=o,Ye=!0,Os=null,Jn=!0,l=jy(o,null,c,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Wr(),c===y){o=ss(s,o,l);break e}Xt(s,o,c,l)}o=o.child}return o;case 26:return Hc(s,o),s===null?(l=m_(o.type,null,o.pendingProps,null))?o.memoizedState=l:Ye||(l=o.type,s=o.pendingProps,c=sd(ye.current).createElement(l),c[Rt]=o,c[Bt]=s,Wt(c,l,s),bt(c),o.stateNode=c):o.memoizedState=m_(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return mn(o),s===null&&Ye&&(c=o.stateNode=f_(o.type,o.pendingProps,ye.current),jt=o,Jn=!0,y=ct,Zs(o.type)?(Up=y,ct=Yn(c.firstChild)):ct=y),Xt(s,o,o.pendingProps.children,l),Hc(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&Ye&&((y=c=ct)&&(c=$x(c,o.type,o.pendingProps,Jn),c!==null?(o.stateNode=c,jt=o,ct=Yn(c.firstChild),Jn=!1,y=!0):y=!1),y||Fs(o)),mn(o),y=o.type,_=o.pendingProps,A=s!==null?s.memoizedProps:null,c=_.children,Mp(y,_)?c=null:A!==null&&Mp(y,A)&&(o.flags|=32),o.memoizedState!==null&&(y=Nh(s,o,ux,null,null,l),jl._currentValue=y),Hc(s,o),Xt(s,o,c,l),o.child;case 6:return s===null&&Ye&&((s=l=ct)&&(l=jx(l,o.pendingProps,Jn),l!==null?(o.stateNode=l,jt=o,ct=null,s=!0):s=!1),s||Fs(o)),null;case 13:return tv(s,o,l);case 4:return We(o,o.stateNode.containerInfo),c=o.pendingProps,s===null?o.child=so(o,null,c,l):Xt(s,o,c,l),o.child;case 11:return K0(s,o,o.type,o.pendingProps,l);case 7:return Xt(s,o,o.pendingProps,l),o.child;case 8:return Xt(s,o,o.pendingProps.children,l),o.child;case 12:return Xt(s,o,o.pendingProps.children,l),o.child;case 10:return c=o.pendingProps,Gs(o,o.type,c.value),Xt(s,o,c.children,l),o.child;case 9:return y=o.type._context,c=o.pendingProps.children,eo(o),y=Qt(y),c=c(y),o.flags|=1,Xt(s,o,c,l),o.child;case 14:return Y0(s,o,o.type,o.pendingProps,l);case 15:return $0(s,o,o.type,o.pendingProps,l);case 19:return iv(s,o,l);case 31:return yx(s,o,l);case 22:return j0(s,o,l,o.pendingProps);case 24:return eo(o),c=Qt(Mt),s===null?(y=Eh(),y===null&&(y=ut,_=vh(),y.pooledCache=_,_.refCount++,_!==null&&(y.pooledCacheLanes|=l),y=_),o.memoizedState={parent:c,cache:y},Sh(o),Gs(o,Mt,y)):((s.lanes&l)!==0&&(Ah(s,o),bl(o,null,null,l),Rl()),y=s.memoizedState,_=o.memoizedState,y.parent!==c?(y={parent:c,cache:c},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Gs(o,Mt,c)):(c=_.cache,Gs(o,Mt,c),c!==y.cache&&yh(o,[Mt],l,!0))),Xt(s,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function rs(s){s.flags|=4}function sp(s,o,l,c,y){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(y&335544128)===y)if(s.stateNode.complete)s.flags|=8192;else if(Mv())s.flags|=8192;else throw io=Ic,Th}else s.flags&=-16777217}function rv(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!E_(o))if(Mv())s.flags|=8192;else throw io=Ic,Th}function zc(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?ju():536870912,s.lanes|=o,ra|=o)}function Vl(s,o){if(!Ye)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function dt(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(o)for(var y=s.child;y!==null;)l|=y.lanes|y.childLanes,c|=y.subtreeFlags&65011712,c|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)l|=y.lanes|y.childLanes,c|=y.subtreeFlags,c|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=c,s.childLanes=l,o}function _x(s,o,l){var c=o.pendingProps;switch(fh(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(o),null;case 1:return dt(o),null;case 3:return l=o.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),ts(Mt),Oe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Ko(o)?rs(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ph())),dt(o),null;case 26:var y=o.type,_=o.memoizedState;return s===null?(rs(o),_!==null?(dt(o),rv(o,_)):(dt(o),sp(o,y,null,c,l))):_?_!==s.memoizedState?(rs(o),dt(o),rv(o,_)):(dt(o),o.flags&=-16777217):(s=s.memoizedProps,s!==c&&rs(o),dt(o),sp(o,y,s,c,l)),null;case 27:if(wt(o),l=ye.current,y=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==c&&rs(o);else{if(!c){if(o.stateNode===null)throw Error(i(166));return dt(o),null}s=me.current,Ko(o)?Oy(o):(s=f_(y,c,l),o.stateNode=s,rs(o))}return dt(o),null;case 5:if(wt(o),y=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==c&&rs(o);else{if(!c){if(o.stateNode===null)throw Error(i(166));return dt(o),null}if(_=me.current,Ko(o))Oy(o);else{var A=sd(ye.current);switch(_){case 1:_=A.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:_=A.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":_=A.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":_=A.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":_=A.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof c.is=="string"?A.createElement("select",{is:c.is}):A.createElement("select"),c.multiple?_.multiple=!0:c.size&&(_.size=c.size);break;default:_=typeof c.is=="string"?A.createElement(y,{is:c.is}):A.createElement(y)}}_[Rt]=o,_[Bt]=c;e:for(A=o.child;A!==null;){if(A.tag===5||A.tag===6)_.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===o)break e;for(;A.sibling===null;){if(A.return===null||A.return===o)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}o.stateNode=_;e:switch(Wt(_,y,c),y){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&rs(o)}}return dt(o),sp(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,l),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==c&&rs(o);else{if(typeof c!="string"&&o.stateNode===null)throw Error(i(166));if(s=ye.current,Ko(o)){if(s=o.stateNode,l=o.memoizedProps,c=null,y=jt,y!==null)switch(y.tag){case 27:case 5:c=y.memoizedProps}s[Rt]=o,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||t_(s.nodeValue,l)),s||Fs(o,!0)}else s=sd(s).createTextNode(c),s[Rt]=o,o.stateNode=s}return dt(o),null;case 31:if(l=o.memoizedState,s===null||s.memoizedState!==null){if(c=Ko(o),l!==null){if(s===null){if(!c)throw Error(i(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Rt]=o}else Wr(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;dt(o),s=!1}else l=ph(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return o.flags&256?(Mn(o),o):(Mn(o),null);if((o.flags&128)!==0)throw Error(i(558))}return dt(o),null;case 13:if(c=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=Ko(o),c!==null&&c.dehydrated!==null){if(s===null){if(!y)throw Error(i(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[Rt]=o}else Wr(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;dt(o),y=!1}else y=ph(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Mn(o),o):(Mn(o),null)}return Mn(o),(o.flags&128)!==0?(o.lanes=l,o):(l=c!==null,s=s!==null&&s.memoizedState!==null,l&&(c=o.child,y=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(y=c.alternate.memoizedState.cachePool.pool),_=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(_=c.memoizedState.cachePool.pool),_!==y&&(c.flags|=2048)),l!==s&&l&&(o.child.flags|=8192),zc(o,o.updateQueue),dt(o),null);case 4:return Oe(),s===null&&Ip(o.stateNode.containerInfo),dt(o),null;case 10:return ts(o.type),dt(o),null;case 19:if(te(Tt),c=o.memoizedState,c===null)return dt(o),null;if(y=(o.flags&128)!==0,_=c.rendering,_===null)if(y)Vl(c,!1);else{if(vt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(_=Nc(s),_!==null){for(o.flags|=128,Vl(c,!1),s=_.updateQueue,o.updateQueue=s,zc(o,s),o.subtreeFlags=0,s=l,l=o.child;l!==null;)ky(l,s),l=l.sibling;return ce(Tt,Tt.current&1|2),Ye&&Zi(o,c.treeForkCount),o.child}s=s.sibling}c.tail!==null&&un()>$c&&(o.flags|=128,y=!0,Vl(c,!1),o.lanes=4194304)}else{if(!y)if(s=Nc(_),s!==null){if(o.flags|=128,y=!0,s=s.updateQueue,o.updateQueue=s,zc(o,s),Vl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!_.alternate&&!Ye)return dt(o),null}else 2*un()-c.renderingStartTime>$c&&l!==536870912&&(o.flags|=128,y=!0,Vl(c,!1),o.lanes=4194304);c.isBackwards?(_.sibling=o.child,o.child=_):(s=c.last,s!==null?s.sibling=_:o.child=_,c.last=_)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=un(),s.sibling=null,l=Tt.current,ce(Tt,y?l&1|2:l&1),Ye&&Zi(o,c.treeForkCount),s):(dt(o),null);case 22:case 23:return Mn(o),xh(),c=o.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(o.flags|=8192):c&&(o.flags|=8192),c?(l&536870912)!==0&&(o.flags&128)===0&&(dt(o),o.subtreeFlags&6&&(o.flags|=8192)):dt(o),l=o.updateQueue,l!==null&&zc(o,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),c!==l&&(o.flags|=2048),s!==null&&te(to),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),ts(Mt),dt(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function Ex(s,o){switch(fh(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ts(Mt),Oe(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return wt(o),null;case 31:if(o.memoizedState!==null){if(Mn(o),o.alternate===null)throw Error(i(340));Wr()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(Mn(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Wr()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return te(Tt),null;case 4:return Oe(),null;case 10:return ts(o.type),null;case 22:case 23:return Mn(o),xh(),s!==null&&te(to),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return ts(Mt),null;case 25:return null;default:return null}}function ov(s,o){switch(fh(o),o.tag){case 3:ts(Mt),Oe();break;case 26:case 27:case 5:wt(o);break;case 4:Oe();break;case 31:o.memoizedState!==null&&Mn(o);break;case 13:Mn(o);break;case 19:te(Tt);break;case 10:ts(o.type);break;case 22:case 23:Mn(o),xh(),s!==null&&te(to);break;case 24:ts(Mt)}}function Ul(s,o){try{var l=o.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var y=c.next;l=y;do{if((l.tag&s)===s){c=void 0;var _=l.create,A=l.inst;c=_(),A.destroy=c}l=l.next}while(l!==y)}}catch(x){st(o,o.return,x)}}function Ks(s,o,l){try{var c=o.updateQueue,y=c!==null?c.lastEffect:null;if(y!==null){var _=y.next;c=_;do{if((c.tag&s)===s){var A=c.inst,x=A.destroy;if(x!==void 0){A.destroy=void 0,y=o;var O=l,Y=x;try{Y()}catch(ee){st(y,O,ee)}}}c=c.next}while(c!==_)}}catch(ee){st(o,o.return,ee)}}function av(s){var o=s.updateQueue;if(o!==null){var l=s.stateNode;try{Xy(o,l)}catch(c){st(s,s.return,c)}}}function lv(s,o,l){l.props=oo(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){st(s,o,c)}}function Ll(s,o){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(y){st(s,o,y)}}function Li(s,o){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(y){st(s,o,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){st(s,o,y)}else l.current=null}function uv(s){var o=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(y){st(s,s.return,y)}}function rp(s,o,l){try{var c=s.stateNode;Bx(c,s.type,l,o),c[Bt]=o}catch(y){st(s,s.return,y)}}function cv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Zs(s.type)||s.tag===4}function op(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||cv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Zs(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ap(s,o,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(s),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=ii));else if(c!==4&&(c===27&&Zs(s.type)&&(l=s.stateNode,o=null),s=s.child,s!==null))for(ap(s,o,l),s=s.sibling;s!==null;)ap(s,o,l),s=s.sibling}function qc(s,o,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(c!==4&&(c===27&&Zs(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(qc(s,o,l),s=s.sibling;s!==null;)qc(s,o,l),s=s.sibling}function dv(s){var o=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Wt(o,c,l),o[Rt]=s,o[Bt]=l}catch(_){st(s,s.return,_)}}var os=!1,Pt=!1,lp=!1,fv=typeof WeakSet=="function"?WeakSet:Set,qt=null;function Tx(s,o){if(s=s.containerInfo,bp=dd,s=Cy(s),th(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var y=c.anchorOffset,_=c.focusNode;c=c.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var A=0,x=-1,O=-1,Y=0,ee=0,se=s,$=null;t:for(;;){for(var W;se!==l||y!==0&&se.nodeType!==3||(x=A+y),se!==_||c!==0&&se.nodeType!==3||(O=A+c),se.nodeType===3&&(A+=se.nodeValue.length),(W=se.firstChild)!==null;)$=se,se=W;for(;;){if(se===s)break t;if($===l&&++Y===y&&(x=A),$===_&&++ee===c&&(O=A),(W=se.nextSibling)!==null)break;se=$,$=se.parentNode}se=W}l=x===-1||O===-1?null:{start:x,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(Np={focusedElem:s,selectionRange:l},dd=!1,qt=o;qt!==null;)if(o=qt,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,qt=s;else for(;qt!==null;){switch(o=qt,_=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)y=s[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,l=o,y=_.memoizedProps,_=_.memoizedState,c=l.stateNode;try{var _e=oo(l.type,y);s=c.getSnapshotBeforeUpdate(_e,_),c.__reactInternalSnapshotBeforeUpdate=s}catch(Ie){st(l,l.return,Ie)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,l=s.nodeType,l===9)kp(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":kp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,qt=s;break}qt=o.return}}function hv(s,o,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:ls(s,l),c&4&&Ul(5,l);break;case 1:if(ls(s,l),c&4)if(s=l.stateNode,o===null)try{s.componentDidMount()}catch(A){st(l,l.return,A)}else{var y=oo(l.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(y,o,s.__reactInternalSnapshotBeforeUpdate)}catch(A){st(l,l.return,A)}}c&64&&av(l),c&512&&Ll(l,l.return);break;case 3:if(ls(s,l),c&64&&(s=l.updateQueue,s!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{Xy(s,o)}catch(A){st(l,l.return,A)}}break;case 27:o===null&&c&4&&dv(l);case 26:case 5:ls(s,l),o===null&&c&4&&uv(l),c&512&&Ll(l,l.return);break;case 12:ls(s,l);break;case 31:ls(s,l),c&4&&gv(s,l);break;case 13:ls(s,l),c&4&&yv(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=Nx.bind(null,l),Qx(s,l))));break;case 22:if(c=l.memoizedState!==null||os,!c){o=o!==null&&o.memoizedState!==null||Pt,y=os;var _=Pt;os=c,(Pt=o)&&!_?us(s,l,(l.subtreeFlags&8772)!==0):ls(s,l),os=y,Pt=_}break;case 30:break;default:ls(s,l)}}function pv(s){var o=s.alternate;o!==null&&(s.alternate=null,pv(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&bo(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var pt=null,vn=!1;function as(s,o,l){for(l=l.child;l!==null;)mv(s,o,l),l=l.sibling}function mv(s,o,l){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Zn,l)}catch{}switch(l.tag){case 26:Pt||Li(l,o),as(s,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Pt||Li(l,o);var c=pt,y=vn;Zs(l.type)&&(pt=l.stateNode,vn=!1),as(s,o,l),Kl(l.stateNode),pt=c,vn=y;break;case 5:Pt||Li(l,o);case 6:if(c=pt,y=vn,pt=null,as(s,o,l),pt=c,vn=y,pt!==null)if(vn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(l.stateNode)}catch(_){st(l,o,_)}else try{pt.removeChild(l.stateNode)}catch(_){st(l,o,_)}break;case 18:pt!==null&&(vn?(s=pt,a_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),ha(s)):a_(pt,l.stateNode));break;case 4:c=pt,y=vn,pt=l.stateNode.containerInfo,vn=!0,as(s,o,l),pt=c,vn=y;break;case 0:case 11:case 14:case 15:Ks(2,l,o),Pt||Ks(4,l,o),as(s,o,l);break;case 1:Pt||(Li(l,o),c=l.stateNode,typeof c.componentWillUnmount=="function"&&lv(l,o,c)),as(s,o,l);break;case 21:as(s,o,l);break;case 22:Pt=(c=Pt)||l.memoizedState!==null,as(s,o,l),Pt=c;break;default:as(s,o,l)}}function gv(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{ha(s)}catch(l){st(o,o.return,l)}}}function yv(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ha(s)}catch(l){st(o,o.return,l)}}function Sx(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new fv),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new fv),o;default:throw Error(i(435,s.tag))}}function Jc(s,o){var l=Sx(s);o.forEach(function(c){if(!l.has(c)){l.add(c);var y=Mx.bind(null,s,c);c.then(y,y)}})}function _n(s,o){var l=o.deletions;if(l!==null)for(var c=0;c<l.length;c++){var y=l[c],_=s,A=o,x=A;e:for(;x!==null;){switch(x.tag){case 27:if(Zs(x.type)){pt=x.stateNode,vn=!1;break e}break;case 5:pt=x.stateNode,vn=!1;break e;case 3:case 4:pt=x.stateNode.containerInfo,vn=!0;break e}x=x.return}if(pt===null)throw Error(i(160));mv(_,A,y),pt=null,vn=!1,_=y.alternate,_!==null&&(_.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)vv(o,s),o=o.sibling}var ui=null;function vv(s,o){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:_n(o,s),En(s),c&4&&(Ks(3,s,s.return),Ul(3,s),Ks(5,s,s.return));break;case 1:_n(o,s),En(s),c&512&&(Pt||l===null||Li(l,l.return)),c&64&&os&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var y=ui;if(_n(o,s),En(s),c&512&&(Pt||l===null||Li(l,l.return)),c&4){var _=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,y=y.ownerDocument||y;t:switch(c){case"title":_=y.getElementsByTagName("title")[0],(!_||_[Ai]||_[Rt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=y.createElement(c),y.head.insertBefore(_,y.querySelector("head > title"))),Wt(_,c,l),_[Rt]=s,bt(_),c=_;break e;case"link":var A=v_("link","href",y).get(c+(l.href||""));if(A){for(var x=0;x<A.length;x++)if(_=A[x],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(x,1);break t}}_=y.createElement(c),Wt(_,c,l),y.head.appendChild(_);break;case"meta":if(A=v_("meta","content",y).get(c+(l.content||""))){for(x=0;x<A.length;x++)if(_=A[x],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(x,1);break t}}_=y.createElement(c),Wt(_,c,l),y.head.appendChild(_);break;default:throw Error(i(468,c))}_[Rt]=s,bt(_),c=_}s.stateNode=c}else __(y,s.type,s.stateNode);else s.stateNode=y_(y,c,s.memoizedProps);else _!==c?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,c===null?__(y,s.type,s.stateNode):y_(y,c,s.memoizedProps)):c===null&&s.stateNode!==null&&rp(s,s.memoizedProps,l.memoizedProps)}break;case 27:_n(o,s),En(s),c&512&&(Pt||l===null||Li(l,l.return)),l!==null&&c&4&&rp(s,s.memoizedProps,l.memoizedProps);break;case 5:if(_n(o,s),En(s),c&512&&(Pt||l===null||Li(l,l.return)),s.flags&32){y=s.stateNode;try{yn(y,"")}catch(_e){st(s,s.return,_e)}}c&4&&s.stateNode!=null&&(y=s.memoizedProps,rp(s,y,l!==null?l.memoizedProps:y)),c&1024&&(lp=!0);break;case 6:if(_n(o,s),En(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(_e){st(s,s.return,_e)}}break;case 3:if(ad=null,y=ui,ui=rd(o.containerInfo),_n(o,s),ui=y,En(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{ha(o.containerInfo)}catch(_e){st(s,s.return,_e)}lp&&(lp=!1,_v(s));break;case 4:c=ui,ui=rd(s.stateNode.containerInfo),_n(o,s),En(s),ui=c;break;case 12:_n(o,s),En(s);break;case 31:_n(o,s),En(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Jc(s,c)));break;case 13:_n(o,s),En(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Yc=un()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Jc(s,c)));break;case 22:y=s.memoizedState!==null;var O=l!==null&&l.memoizedState!==null,Y=os,ee=Pt;if(os=Y||y,Pt=ee||O,_n(o,s),Pt=ee,os=Y,En(s),c&8192)e:for(o=s.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(l===null||O||os||Pt||ao(s)),l=null,o=s;;){if(o.tag===5||o.tag===26){if(l===null){O=l=o;try{if(_=O.stateNode,y)A=_.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{x=O.stateNode;var se=O.memoizedProps.style,$=se!=null&&se.hasOwnProperty("display")?se.display:null;x.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(_e){st(O,O.return,_e)}}}else if(o.tag===6){if(l===null){O=o;try{O.stateNode.nodeValue=y?"":O.memoizedProps}catch(_e){st(O,O.return,_e)}}}else if(o.tag===18){if(l===null){O=o;try{var W=O.stateNode;y?l_(W,!0):l_(O.stateNode,!1)}catch(_e){st(O,O.return,_e)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Jc(s,l))));break;case 19:_n(o,s),En(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Jc(s,c)));break;case 30:break;case 21:break;default:_n(o,s),En(s)}}function En(s){var o=s.flags;if(o&2){try{for(var l,c=s.return;c!==null;){if(cv(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var y=l.stateNode,_=op(s);qc(s,_,y);break;case 5:var A=l.stateNode;l.flags&32&&(yn(A,""),l.flags&=-33);var x=op(s);qc(s,x,A);break;case 3:case 4:var O=l.stateNode.containerInfo,Y=op(s);ap(s,Y,O);break;default:throw Error(i(161))}}catch(ee){st(s,s.return,ee)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function _v(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;_v(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function ls(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)hv(s,o.alternate,o),o=o.sibling}function ao(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Ks(4,o,o.return),ao(o);break;case 1:Li(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&lv(o,o.return,l),ao(o);break;case 27:Kl(o.stateNode);case 26:case 5:Li(o,o.return),ao(o);break;case 22:o.memoizedState===null&&ao(o);break;case 30:ao(o);break;default:ao(o)}s=s.sibling}}function us(s,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var c=o.alternate,y=s,_=o,A=_.flags;switch(_.tag){case 0:case 11:case 15:us(y,_,l),Ul(4,_);break;case 1:if(us(y,_,l),c=_,y=c.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Y){st(c,c.return,Y)}if(c=_,y=c.updateQueue,y!==null){var x=c.stateNode;try{var O=y.shared.hiddenCallbacks;if(O!==null)for(y.shared.hiddenCallbacks=null,y=0;y<O.length;y++)Qy(O[y],x)}catch(Y){st(c,c.return,Y)}}l&&A&64&&av(_),Ll(_,_.return);break;case 27:dv(_);case 26:case 5:us(y,_,l),l&&c===null&&A&4&&uv(_),Ll(_,_.return);break;case 12:us(y,_,l);break;case 31:us(y,_,l),l&&A&4&&gv(y,_);break;case 13:us(y,_,l),l&&A&4&&yv(y,_);break;case 22:_.memoizedState===null&&us(y,_,l),Ll(_,_.return);break;case 30:break;default:us(y,_,l)}o=o.sibling}}function up(s,o){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Al(l))}function cp(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Al(s))}function ci(s,o,l,c){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Ev(s,o,l,c),o=o.sibling}function Ev(s,o,l,c){var y=o.flags;switch(o.tag){case 0:case 11:case 15:ci(s,o,l,c),y&2048&&Ul(9,o);break;case 1:ci(s,o,l,c);break;case 3:ci(s,o,l,c),y&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Al(s)));break;case 12:if(y&2048){ci(s,o,l,c),s=o.stateNode;try{var _=o.memoizedProps,A=_.id,x=_.onPostCommit;typeof x=="function"&&x(A,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(O){st(o,o.return,O)}}else ci(s,o,l,c);break;case 31:ci(s,o,l,c);break;case 13:ci(s,o,l,c);break;case 23:break;case 22:_=o.stateNode,A=o.alternate,o.memoizedState!==null?_._visibility&2?ci(s,o,l,c):Ol(s,o):_._visibility&2?ci(s,o,l,c):(_._visibility|=2,na(s,o,l,c,(o.subtreeFlags&10256)!==0||!1)),y&2048&&up(A,o);break;case 24:ci(s,o,l,c),y&2048&&cp(o.alternate,o);break;default:ci(s,o,l,c)}}function na(s,o,l,c,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var _=s,A=o,x=l,O=c,Y=A.flags;switch(A.tag){case 0:case 11:case 15:na(_,A,x,O,y),Ul(8,A);break;case 23:break;case 22:var ee=A.stateNode;A.memoizedState!==null?ee._visibility&2?na(_,A,x,O,y):Ol(_,A):(ee._visibility|=2,na(_,A,x,O,y)),y&&Y&2048&&up(A.alternate,A);break;case 24:na(_,A,x,O,y),y&&Y&2048&&cp(A.alternate,A);break;default:na(_,A,x,O,y)}o=o.sibling}}function Ol(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=s,c=o,y=c.flags;switch(c.tag){case 22:Ol(l,c),y&2048&&up(c.alternate,c);break;case 24:Ol(l,c),y&2048&&cp(c.alternate,c);break;default:Ol(l,c)}o=o.sibling}}var Fl=8192;function ia(s,o,l){if(s.subtreeFlags&Fl)for(s=s.child;s!==null;)Tv(s,o,l),s=s.sibling}function Tv(s,o,l){switch(s.tag){case 26:ia(s,o,l),s.flags&Fl&&s.memoizedState!==null&&lR(l,ui,s.memoizedState,s.memoizedProps);break;case 5:ia(s,o,l);break;case 3:case 4:var c=ui;ui=rd(s.stateNode.containerInfo),ia(s,o,l),ui=c;break;case 22:s.memoizedState===null&&(c=s.alternate,c!==null&&c.memoizedState!==null?(c=Fl,Fl=16777216,ia(s,o,l),Fl=c):ia(s,o,l));break;default:ia(s,o,l)}}function Sv(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Gl(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];qt=c,Cv(c,s)}Sv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Av(s),s=s.sibling}function Av(s){switch(s.tag){case 0:case 11:case 15:Gl(s),s.flags&2048&&Ks(9,s,s.return);break;case 3:Gl(s);break;case 12:Gl(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Kc(s)):Gl(s);break;default:Gl(s)}}function Kc(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];qt=c,Cv(c,s)}Sv(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Ks(8,o,o.return),Kc(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,Kc(o));break;default:Kc(o)}s=s.sibling}}function Cv(s,o){for(;qt!==null;){var l=qt;switch(l.tag){case 0:case 11:case 15:Ks(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Al(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,qt=c;else e:for(l=s;qt!==null;){c=qt;var y=c.sibling,_=c.return;if(pv(c),c===l){qt=null;break e}if(y!==null){y.return=_,qt=y;break e}qt=_}}}var Ax={getCacheForType:function(s){var o=Qt(Mt),l=o.data.get(s);return l===void 0&&(l=s(),o.data.set(s,l)),l},cacheSignal:function(){return Qt(Mt).controller.signal}},Cx=typeof WeakMap=="function"?WeakMap:Map,et=0,ut=null,Ge=null,Be=0,it=0,Dn=null,Ys=!1,sa=!1,dp=!1,cs=0,vt=0,$s=0,lo=0,fp=0,kn=0,ra=0,Hl=null,Tn=null,hp=!1,Yc=0,wv=0,$c=1/0,jc=null,js=null,Ot=0,Qs=null,oa=null,ds=0,pp=0,mp=null,Iv=null,Bl=0,gp=null;function Pn(){return(et&2)!==0&&Be!==0?Be&-Be:K.T!==null?Sp():Qu()}function xv(){if(kn===0)if((Be&536870912)===0||Ye){var s=Vr;Vr<<=1,(Vr&3932160)===0&&(Vr=262144),kn=s}else kn=536870912;return s=Nn.current,s!==null&&(s.flags|=32),kn}function Sn(s,o,l){(s===ut&&(it===2||it===9)||s.cancelPendingCommit!==null)&&(aa(s,0),Xs(s,Be,kn,!1)),Ur(s,l),((et&2)===0||s!==ut)&&(s===ut&&((et&2)===0&&(lo|=l),vt===4&&Xs(s,Be,kn,!1)),Oi(s))}function Rv(s,o,l){if((et&6)!==0)throw Error(i(327));var c=!l&&(o&127)===0&&(o&s.expiredLanes)===0||ei(s,o),y=c?xx(s,o):vp(s,o,!0),_=c;do{if(y===0){sa&&!c&&Xs(s,o,0,!1);break}else{if(l=s.current.alternate,_&&!wx(l)){y=vp(s,o,!1),_=!1;continue}if(y===2){if(_=o,s.errorRecoveryDisabledLanes&_)var A=0;else A=s.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;e:{var x=s;y=Hl;var O=x.current.memoizedState.isDehydrated;if(O&&(aa(x,A).flags|=256),A=vp(x,A,!1),A!==2){if(dp&&!O){x.errorRecoveryDisabledLanes|=_,lo|=_,y=4;break e}_=Tn,Tn=y,_!==null&&(Tn===null?Tn=_:Tn.push.apply(Tn,_))}y=A}if(_=!1,y!==2)continue}}if(y===1){aa(s,0),Xs(s,o,0,!0);break}e:{switch(c=s,_=y,_){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Xs(c,o,kn,!Ys);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(y=Yc+300-un(),10<y)){if(Xs(c,o,kn,!Ys),Ei(c,0,!0)!==0)break e;ds=o,c.timeoutHandle=r_(bv.bind(null,c,l,Tn,jc,hp,o,kn,lo,ra,Ys,_,"Throttled",-0,0),y);break e}bv(c,l,Tn,jc,hp,o,kn,lo,ra,Ys,_,null,-0,0)}}break}while(!0);Oi(s)}function bv(s,o,l,c,y,_,A,x,O,Y,ee,se,$,W){if(s.timeoutHandle=-1,se=o.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},Tv(o,_,se);var _e=(_&62914560)===_?Yc-un():(_&4194048)===_?wv-un():0;if(_e=uR(se,_e),_e!==null){ds=_,s.cancelPendingCommit=_e(Lv.bind(null,s,o,_,l,c,y,A,x,O,ee,se,null,$,W)),Xs(s,_,A,!Y);return}}Lv(s,o,_,l,c,y,A,x,O)}function wx(s){for(var o=s;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var y=l[c],_=y.getSnapshot;y=y.value;try{if(!Rn(_(),y))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Xs(s,o,l,c){o&=~fp,o&=~lo,s.suspendedLanes|=o,s.pingedLanes&=~o,c&&(s.warmLanes|=o),c=s.expirationTimes;for(var y=o;0<y;){var _=31-_t(y),A=1<<_;c[_]=-1,y&=~A}l!==0&&Lr(s,l,o)}function Qc(){return(et&6)===0?(zl(0),!1):!0}function yp(){if(Ge!==null){if(it===0)var s=Ge.return;else s=Ge,es=Zr=null,kh(s),Xo=null,wl=0,s=Ge;for(;s!==null;)ov(s.alternate,s),s=s.return;Ge=null}}function aa(s,o){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,Jx(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),ds=0,yp(),ut=s,Ge=l=Wi(s.current,null),Be=o,it=0,Dn=null,Ys=!1,sa=ei(s,o),dp=!1,ra=kn=fp=lo=$s=vt=0,Tn=Hl=null,hp=!1,(o&8)!==0&&(o|=o&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=o;0<c;){var y=31-_t(c),_=1<<y;o|=s[y],c&=~_}return cs=o,yc(),l}function Nv(s,o){Le=null,K.H=kl,o===Qo||o===wc?(o=Ky(),it=3):o===Th?(o=Ky(),it=4):it=o===jh?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Dn=o,Ge===null&&(vt=1,Fc(s,Bn(o,s.current)))}function Mv(){var s=Nn.current;return s===null?!0:(Be&4194048)===Be?Kn===null:(Be&62914560)===Be||(Be&536870912)!==0?s===Kn:!1}function Dv(){var s=K.H;return K.H=kl,s===null?kl:s}function kv(){var s=K.A;return K.A=Ax,s}function Xc(){vt=4,Ys||(Be&4194048)!==Be&&Nn.current!==null||(sa=!0),($s&134217727)===0&&(lo&134217727)===0||ut===null||Xs(ut,Be,kn,!1)}function vp(s,o,l){var c=et;et|=2;var y=Dv(),_=kv();(ut!==s||Be!==o)&&(jc=null,aa(s,o)),o=!1;var A=vt;e:do try{if(it!==0&&Ge!==null){var x=Ge,O=Dn;switch(it){case 8:yp(),A=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(o=!0);var Y=it;if(it=0,Dn=null,la(s,x,O,Y),l&&sa){A=0;break e}break;default:Y=it,it=0,Dn=null,la(s,x,O,Y)}}Ix(),A=vt;break}catch(ee){Nv(s,ee)}while(!0);return o&&s.shellSuspendCounter++,es=Zr=null,et=c,K.H=y,K.A=_,Ge===null&&(ut=null,Be=0,yc()),A}function Ix(){for(;Ge!==null;)Pv(Ge)}function xx(s,o){var l=et;et|=2;var c=Dv(),y=kv();ut!==s||Be!==o?(jc=null,$c=un()+500,aa(s,o)):sa=ei(s,o);e:do try{if(it!==0&&Ge!==null){o=Ge;var _=Dn;t:switch(it){case 1:it=0,Dn=null,la(s,o,_,1);break;case 2:case 9:if(qy(_)){it=0,Dn=null,Vv(o);break}o=function(){it!==2&&it!==9||ut!==s||(it=7),Oi(s)},_.then(o,o);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:qy(_)?(it=0,Dn=null,Vv(o)):(it=0,Dn=null,la(s,o,_,7));break;case 5:var A=null;switch(Ge.tag){case 26:A=Ge.memoizedState;case 5:case 27:var x=Ge;if(A?E_(A):x.stateNode.complete){it=0,Dn=null;var O=x.sibling;if(O!==null)Ge=O;else{var Y=x.return;Y!==null?(Ge=Y,Wc(Y)):Ge=null}break t}}it=0,Dn=null,la(s,o,_,5);break;case 6:it=0,Dn=null,la(s,o,_,6);break;case 8:yp(),vt=6;break e;default:throw Error(i(462))}}Rx();break}catch(ee){Nv(s,ee)}while(!0);return es=Zr=null,K.H=c,K.A=y,et=l,Ge!==null?0:(ut=null,Be=0,yc(),vt)}function Rx(){for(;Ge!==null&&!$f();)Pv(Ge)}function Pv(s){var o=sv(s.alternate,s,cs);s.memoizedProps=s.pendingProps,o===null?Wc(s):Ge=o}function Vv(s){var o=s,l=o.alternate;switch(o.tag){case 15:case 0:o=W0(l,o,o.pendingProps,o.type,void 0,Be);break;case 11:o=W0(l,o,o.pendingProps,o.type.render,o.ref,Be);break;case 5:kh(o);default:ov(l,o),o=Ge=ky(o,cs),o=sv(l,o,cs)}s.memoizedProps=s.pendingProps,o===null?Wc(s):Ge=o}function la(s,o,l,c){es=Zr=null,kh(o),Xo=null,wl=0;var y=o.return;try{if(gx(s,y,o,l,Be)){vt=1,Fc(s,Bn(l,s.current)),Ge=null;return}}catch(_){if(y!==null)throw Ge=y,_;vt=1,Fc(s,Bn(l,s.current)),Ge=null;return}o.flags&32768?(Ye||c===1?s=!0:sa||(Be&536870912)!==0?s=!1:(Ys=s=!0,(c===2||c===9||c===3||c===6)&&(c=Nn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Uv(o,s)):Wc(o)}function Wc(s){var o=s;do{if((o.flags&32768)!==0){Uv(o,Ys);return}s=o.return;var l=_x(o.alternate,o,cs);if(l!==null){Ge=l;return}if(o=o.sibling,o!==null){Ge=o;return}Ge=o=s}while(o!==null);vt===0&&(vt=5)}function Uv(s,o){do{var l=Ex(s.alternate,s);if(l!==null){l.flags&=32767,Ge=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(s=s.sibling,s!==null)){Ge=s;return}Ge=s=l}while(s!==null);vt=6,Ge=null}function Lv(s,o,l,c,y,_,A,x,O){s.cancelPendingCommit=null;do Zc();while(Ot!==0);if((et&6)!==0)throw Error(i(327));if(o!==null){if(o===s.current)throw Error(i(177));if(_=o.lanes|o.childLanes,_|=oh,Xf(s,l,_,A,x,O),s===ut&&(Ge=ut=null,Be=0),oa=o,Qs=s,ds=l,pp=_,mp=y,Iv=c,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Dx(xs,function(){return Bv(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||c){c=K.T,K.T=null,y=ae.p,ae.p=2,A=et,et|=4;try{Tx(s,o,l)}finally{et=A,ae.p=y,K.T=c}}Ot=1,Ov(),Fv(),Gv()}}function Ov(){if(Ot===1){Ot=0;var s=Qs,o=oa,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=K.T,K.T=null;var c=ae.p;ae.p=2;var y=et;et|=4;try{vv(o,s);var _=Np,A=Cy(s.containerInfo),x=_.focusedElem,O=_.selectionRange;if(A!==x&&x&&x.ownerDocument&&Ay(x.ownerDocument.documentElement,x)){if(O!==null&&th(x)){var Y=O.start,ee=O.end;if(ee===void 0&&(ee=Y),"selectionStart"in x)x.selectionStart=Y,x.selectionEnd=Math.min(ee,x.value.length);else{var se=x.ownerDocument||document,$=se&&se.defaultView||window;if($.getSelection){var W=$.getSelection(),_e=x.textContent.length,Ie=Math.min(O.start,_e),lt=O.end===void 0?Ie:Math.min(O.end,_e);!W.extend&&Ie>lt&&(A=lt,lt=Ie,Ie=A);var B=Sy(x,Ie),G=Sy(x,lt);if(B&&G&&(W.rangeCount!==1||W.anchorNode!==B.node||W.anchorOffset!==B.offset||W.focusNode!==G.node||W.focusOffset!==G.offset)){var J=se.createRange();J.setStart(B.node,B.offset),W.removeAllRanges(),Ie>lt?(W.addRange(J),W.extend(G.node,G.offset)):(J.setEnd(G.node,G.offset),W.addRange(J))}}}}for(se=[],W=x;W=W.parentNode;)W.nodeType===1&&se.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<se.length;x++){var ie=se[x];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}dd=!!bp,Np=bp=null}finally{et=y,ae.p=c,K.T=l}}s.current=o,Ot=2}}function Fv(){if(Ot===2){Ot=0;var s=Qs,o=oa,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=K.T,K.T=null;var c=ae.p;ae.p=2;var y=et;et|=4;try{hv(s,o.alternate,o)}finally{et=y,ae.p=c,K.T=l}}Ot=3}}function Gv(){if(Ot===4||Ot===3){Ot=0,zu();var s=Qs,o=oa,l=ds,c=Iv;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ot=5:(Ot=0,oa=Qs=null,Hv(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(js=null),$i(l),o=o.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Zn,o,void 0,(o.current.flags&128)===128)}catch{}if(c!==null){o=K.T,y=ae.p,ae.p=2,K.T=null;try{for(var _=s.onRecoverableError,A=0;A<c.length;A++){var x=c[A];_(x.value,{componentStack:x.stack})}}finally{K.T=o,ae.p=y}}(ds&3)!==0&&Zc(),Oi(s),y=s.pendingLanes,(l&261930)!==0&&(y&42)!==0?s===gp?Bl++:(Bl=0,gp=s):Bl=0,zl(0)}}function Hv(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Al(o)))}function Zc(){return Ov(),Fv(),Gv(),Bv()}function Bv(){if(Ot!==5)return!1;var s=Qs,o=pp;pp=0;var l=$i(ds),c=K.T,y=ae.p;try{ae.p=32>l?32:l,K.T=null,l=mp,mp=null;var _=Qs,A=ds;if(Ot=0,oa=Qs=null,ds=0,(et&6)!==0)throw Error(i(331));var x=et;if(et|=4,Av(_.current),Ev(_,_.current,A,l),et=x,zl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Zn,_)}catch{}return!0}finally{ae.p=y,K.T=c,Hv(s,o)}}function zv(s,o,l){o=Bn(l,o),o=$h(s.stateNode,o,2),s=zs(s,o,2),s!==null&&(Ur(s,2),Oi(s))}function st(s,o,l){if(s.tag===3)zv(s,s,l);else for(;o!==null;){if(o.tag===3){zv(o,s,l);break}else if(o.tag===1){var c=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(js===null||!js.has(c))){s=Bn(l,s),l=q0(2),c=zs(o,l,2),c!==null&&(J0(l,c,o,s),Ur(c,2),Oi(c));break}}o=o.return}}function _p(s,o,l){var c=s.pingCache;if(c===null){c=s.pingCache=new Cx;var y=new Set;c.set(o,y)}else y=c.get(o),y===void 0&&(y=new Set,c.set(o,y));y.has(l)||(dp=!0,y.add(l),s=bx.bind(null,s,o,l),o.then(s,s))}function bx(s,o,l){var c=s.pingCache;c!==null&&c.delete(o),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,ut===s&&(Be&l)===l&&(vt===4||vt===3&&(Be&62914560)===Be&&300>un()-Yc?(et&2)===0&&aa(s,0):fp|=l,ra===Be&&(ra=0)),Oi(s)}function qv(s,o){o===0&&(o=ju()),s=Qr(s,o),s!==null&&(Ur(s,o),Oi(s))}function Nx(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),qv(s,l)}function Mx(s,o){var l=0;switch(s.tag){case 31:case 13:var c=s.stateNode,y=s.memoizedState;y!==null&&(l=y.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(o),qv(s,l)}function Dx(s,o){return Lt(s,o)}var ed=null,ua=null,Ep=!1,td=!1,Tp=!1,Ws=0;function Oi(s){s!==ua&&s.next===null&&(ua===null?ed=ua=s:ua=ua.next=s),td=!0,Ep||(Ep=!0,Px())}function zl(s,o){if(!Tp&&td){Tp=!0;do for(var l=!1,c=ed;c!==null;){if(s!==0){var y=c.pendingLanes;if(y===0)var _=0;else{var A=c.suspendedLanes,x=c.pingedLanes;_=(1<<31-_t(42|s)+1)-1,_&=y&~(A&~x),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,$v(c,_))}else _=Be,_=Ei(c,c===ut?_:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(_&3)===0||ei(c,_)||(l=!0,$v(c,_));c=c.next}while(l);Tp=!1}}function kx(){Jv()}function Jv(){td=Ep=!1;var s=0;Ws!==0&&qx()&&(s=Ws);for(var o=un(),l=null,c=ed;c!==null;){var y=c.next,_=Kv(c,o);_===0?(c.next=null,l===null?ed=y:l.next=y,y===null&&(ua=l)):(l=c,(s!==0||(_&3)!==0)&&(td=!0)),c=y}Ot!==0&&Ot!==5||zl(s),Ws!==0&&(Ws=0)}function Kv(s,o){for(var l=s.suspendedLanes,c=s.pingedLanes,y=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var A=31-_t(_),x=1<<A,O=y[A];O===-1?((x&l)===0||(x&c)!==0)&&(y[A]=Qf(x,o)):O<=o&&(s.expiredLanes|=x),_&=~x}if(o=ut,l=Be,l=Ei(s,s===o?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===o&&(it===2||it===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Is(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||ei(s,l)){if(o=l&-l,o===s.callbackPriority)return o;switch(c!==null&&Is(c),$i(l)){case 2:case 8:l=Za;break;case 32:l=xs;break;case 268435456:l=qu;break;default:l=xs}return c=Yv.bind(null,s),l=Lt(l,c),s.callbackPriority=o,s.callbackNode=l,o}return c!==null&&c!==null&&Is(c),s.callbackPriority=2,s.callbackNode=null,2}function Yv(s,o){if(Ot!==0&&Ot!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Zc()&&s.callbackNode!==l)return null;var c=Be;return c=Ei(s,s===ut?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(Rv(s,c,o),Kv(s,un()),s.callbackNode!=null&&s.callbackNode===l?Yv.bind(null,s):null)}function $v(s,o){if(Zc())return null;Rv(s,o,!0)}function Px(){Kx(function(){(et&6)!==0?Lt(Wa,kx):Jv()})}function Sp(){if(Ws===0){var s=$o;s===0&&(s=vi,vi<<=1,(vi&261888)===0&&(vi=256)),Ws=s}return Ws}function jv(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ko(""+s)}function Qv(s,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,s.id&&l.setAttribute("form",s.id),o.parentNode.insertBefore(l,o),s=new FormData(s),l.parentNode.removeChild(l),s}function Vx(s,o,l,c,y){if(o==="submit"&&l&&l.stateNode===y){var _=jv((y[Bt]||null).action),A=c.submitter;A&&(o=(o=A[Bt]||null)?jv(o.formAction):A.getAttribute("formAction"),o!==null&&(_=o,A=null));var x=new Mi("action","action",null,c,y);s.push({event:x,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ws!==0){var O=A?Qv(y,A):new FormData(y);Bh(l,{pending:!0,data:O,method:y.method,action:_},null,O)}}else typeof _=="function"&&(x.preventDefault(),O=A?Qv(y,A):new FormData(y),Bh(l,{pending:!0,data:O,method:y.method,action:_},_,O))},currentTarget:y}]})}}for(var Ap=0;Ap<rh.length;Ap++){var Cp=rh[Ap],Ux=Cp.toLowerCase(),Lx=Cp[0].toUpperCase()+Cp.slice(1);li(Ux,"on"+Lx)}li(xy,"onAnimationEnd"),li(Ry,"onAnimationIteration"),li(by,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(ZI,"onTransitionRun"),li(ex,"onTransitionStart"),li(tx,"onTransitionCancel"),li(Ny,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ox=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function Xv(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],y=c.event;c=c.listeners;e:{var _=void 0;if(o)for(var A=c.length-1;0<=A;A--){var x=c[A],O=x.instance,Y=x.currentTarget;if(x=x.listener,O!==_&&y.isPropagationStopped())break e;_=x,y.currentTarget=Y;try{_(y)}catch(ee){gc(ee)}y.currentTarget=null,_=O}else for(A=0;A<c.length;A++){if(x=c[A],O=x.instance,Y=x.currentTarget,x=x.listener,O!==_&&y.isPropagationStopped())break e;_=x,y.currentTarget=Y;try{_(y)}catch(ee){gc(ee)}y.currentTarget=null,_=O}}}}function He(s,o){var l=o[Ro];l===void 0&&(l=o[Ro]=new Set);var c=s+"__bubble";l.has(c)||(Wv(o,s,2,!1),l.add(c))}function wp(s,o,l){var c=0;o&&(c|=4),Wv(l,s,c,o)}var nd="_reactListening"+Math.random().toString(36).slice(2);function Ip(s){if(!s[nd]){s[nd]=!0,nl.forEach(function(l){l!=="selectionchange"&&(Ox.has(l)||wp(l,!1,s),wp(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[nd]||(o[nd]=!0,wp("selectionchange",!1,o))}}function Wv(s,o,l,c){switch(x_(o)){case 2:var y=fR;break;case 8:y=hR;break;default:y=Hp}l=y.bind(null,o,l,s),y=void 0,!Br||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),c?y!==void 0?s.addEventListener(o,l,{capture:!0,passive:y}):s.addEventListener(o,l,!0):y!==void 0?s.addEventListener(o,l,{passive:y}):s.addEventListener(o,l,!1)}function xp(s,o,l,c,y){var _=c;if((o&1)===0&&(o&2)===0&&c!==null)e:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var x=c.stateNode.containerInfo;if(x===y)break;if(A===4)for(A=c.return;A!==null;){var O=A.tag;if((O===3||O===4)&&A.stateNode.containerInfo===y)return;A=A.return}for(;x!==null;){if(A=Ci(x),A===null)return;if(O=A.tag,O===5||O===6||O===26||O===27){c=_=A;continue e}x=x.parentNode}}c=c.return}ks(function(){var Y=_,ee=On(l),se=[];e:{var $=My.get(s);if($!==void 0){var W=Mi,_e=s;switch(s){case"keypress":if(qr(l)===0)break e;case"keydown":case"keyup":W=hc;break;case"focusin":_e="focus",W=Kr;break;case"focusout":_e="blur",W=Kr;break;case"beforeblur":case"afterblur":W=Kr;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=sc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=S;break;case xy:case Ry:case by:W=oc;break;case Ny:W=R;break;case"scroll":case"scrollend":W=pl;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=ac;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Xi;break;case"toggle":case"beforetoggle":W=Ue}var Ie=(o&4)!==0,lt=!Ie&&(s==="scroll"||s==="scrollend"),B=Ie?$!==null?$+"Capture":null:$;Ie=[];for(var G=Y,J;G!==null;){var ie=G;if(J=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||J===null||B===null||(ie=si(G,B),ie!=null&&Ie.push(Jl(G,ie,J))),lt)break;G=G.return}0<Ie.length&&($=new W($,_e,null,l,ee),se.push({event:$,listeners:Ie}))}}if((o&7)===0){e:{if($=s==="mouseover"||s==="pointerover",W=s==="mouseout"||s==="pointerout",$&&l!==dl&&(_e=l.relatedTarget||l.fromElement)&&(Ci(_e)||_e[Si]))break e;if((W||$)&&($=ee.window===ee?ee:($=ee.ownerDocument)?$.defaultView||$.parentWindow:window,W?(_e=l.relatedTarget||l.toElement,W=Y,_e=_e?Ci(_e):null,_e!==null&&(lt=a(_e),Ie=_e.tag,_e!==lt||Ie!==5&&Ie!==27&&Ie!==6)&&(_e=null)):(W=null,_e=Y),W!==_e)){if(Ie=ml,ie="onMouseLeave",B="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(Ie=Xi,ie="onPointerLeave",B="onPointerEnter",G="pointer"),lt=W==null?$:In(W),J=_e==null?$:In(_e),$=new Ie(ie,G+"leave",W,l,ee),$.target=lt,$.relatedTarget=J,ie=null,Ci(ee)===Y&&(Ie=new Ie(B,G+"enter",_e,l,ee),Ie.target=J,Ie.relatedTarget=lt,ie=Ie),lt=ie,W&&_e)t:{for(Ie=Fx,B=W,G=_e,J=0,ie=B;ie;ie=Ie(ie))J++;ie=0;for(var Ae=G;Ae;Ae=Ie(Ae))ie++;for(;0<J-ie;)B=Ie(B),J--;for(;0<ie-J;)G=Ie(G),ie--;for(;J--;){if(B===G||G!==null&&B===G.alternate){Ie=B;break t}B=Ie(B),G=Ie(G)}Ie=null}else Ie=null;W!==null&&Zv(se,$,W,Ie,!1),_e!==null&&lt!==null&&Zv(se,lt,_e,Ie,!0)}}e:{if($=Y?In(Y):window,W=$.nodeName&&$.nodeName.toLowerCase(),W==="select"||W==="input"&&$.type==="file")var je=gy;else if(py($))if(yy)je=QI;else{je=$I;var Ee=YI}else W=$.nodeName,!W||W.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Y&&Do(Y.elementType)&&(je=gy):je=jI;if(je&&(je=je(s,Y))){my(se,je,l,ee);break e}Ee&&Ee(s,$,Y),s==="focusout"&&Y&&$.type==="number"&&Y.memoizedProps.value!=null&&ll($,"number",$.value)}switch(Ee=Y?In(Y):window,s){case"focusin":(py(Ee)||Ee.contentEditable==="true")&&(Go=Ee,nh=Y,El=null);break;case"focusout":El=nh=Go=null;break;case"mousedown":ih=!0;break;case"contextmenu":case"mouseup":case"dragend":ih=!1,wy(se,l,ee);break;case"selectionchange":if(WI)break;case"keydown":case"keyup":wy(se,l,ee)}var Fe;if(Ze)e:{switch(s){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Fo?Yr(s,l)&&(ze="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(ze="onCompositionStart");ze&&(Pi&&l.locale!=="ko"&&(Fo||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Fo&&(Fe=hl()):(Ni=ee,fl="value"in Ni?Ni.value:Ni.textContent,Fo=!0)),Ee=id(Y,ze),0<Ee.length&&(ze=new ki(ze,s,null,l,ee),se.push({event:ze,listeners:Ee}),Fe?ze.data=Fe:(Fe=Oo(l),Fe!==null&&(ze.data=Fe)))),(Fe=Gn?zI(s,l):qI(s,l))&&(ze=id(Y,"onBeforeInput"),0<ze.length&&(Ee=new ki("onBeforeInput","beforeinput",null,l,ee),se.push({event:Ee,listeners:ze}),Ee.data=Fe)),Vx(se,s,Y,l,ee)}Xv(se,o)})}function Jl(s,o,l){return{instance:s,listener:o,currentTarget:l}}function id(s,o){for(var l=o+"Capture",c=[];s!==null;){var y=s,_=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||_===null||(y=si(s,l),y!=null&&c.unshift(Jl(s,y,_)),y=si(s,o),y!=null&&c.push(Jl(s,y,_))),s.tag===3)return c;s=s.return}return[]}function Fx(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Zv(s,o,l,c,y){for(var _=o._reactName,A=[];l!==null&&l!==c;){var x=l,O=x.alternate,Y=x.stateNode;if(x=x.tag,O!==null&&O===c)break;x!==5&&x!==26&&x!==27||Y===null||(O=Y,y?(Y=si(l,_),Y!=null&&A.unshift(Jl(l,Y,O))):y||(Y=si(l,_),Y!=null&&A.push(Jl(l,Y,O)))),l=l.return}A.length!==0&&s.push({event:o,listeners:A})}var Gx=/\r\n?/g,Hx=/\u0000|\uFFFD/g;function e_(s){return(typeof s=="string"?s:""+s).replace(Gx,`
`).replace(Hx,"")}function t_(s,o){return o=e_(o),e_(s)===o}function at(s,o,l,c,y,_){switch(l){case"children":typeof c=="string"?o==="body"||o==="textarea"&&c===""||yn(s,c):(typeof c=="number"||typeof c=="bigint")&&o!=="body"&&yn(s,""+c);break;case"className":xn(s,"class",c);break;case"tabIndex":xn(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":xn(s,l,c);break;case"style":cl(s,c,_);break;case"data":if(o!=="object"){xn(s,"data",c);break}case"src":case"href":if(c===""&&(o!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=ko(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(o!=="input"&&at(s,o,"name",y.name,y,null),at(s,o,"formEncType",y.formEncType,y,null),at(s,o,"formMethod",y.formMethod,y,null),at(s,o,"formTarget",y.formTarget,y,null)):(at(s,o,"encType",y.encType,y,null),at(s,o,"method",y.method,y,null),at(s,o,"target",y.target,y,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=ko(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=ii);break;case"onScroll":c!=null&&He("scroll",s);break;case"onScrollEnd":c!=null&&He("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(y.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=ko(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":He("beforetoggle",s),He("toggle",s),No(s,"popover",c);break;case"xlinkActuate":Nt(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Nt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Nt(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Nt(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Nt(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Nt(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Nt(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Nt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Nt(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":No(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ic.get(l)||l,No(s,l,c))}}function Rp(s,o,l,c,y,_){switch(l){case"style":cl(s,c,_);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(y.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof c=="string"?yn(s,c):(typeof c=="number"||typeof c=="bigint")&&yn(s,""+c);break;case"onScroll":c!=null&&He("scroll",s);break;case"onScrollEnd":c!=null&&He("scrollend",s);break;case"onClick":c!=null&&(s.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!il.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),o=l.slice(2,y?l.length-7:void 0),_=s[Bt]||null,_=_!=null?_[l]:null,typeof _=="function"&&s.removeEventListener(o,_,y),typeof c=="function")){typeof _!="function"&&_!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(o,c,y);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):No(s,l,c)}}}function Wt(s,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",s),He("load",s);var c=!1,y=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var A=l[_];if(A!=null)switch(_){case"src":c=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:at(s,o,_,A,l,null)}}y&&at(s,o,"srcSet",l.srcSet,l,null),c&&at(s,o,"src",l.src,l,null);return;case"input":He("invalid",s);var x=_=A=y=null,O=null,Y=null;for(c in l)if(l.hasOwnProperty(c)){var ee=l[c];if(ee!=null)switch(c){case"name":y=ee;break;case"type":A=ee;break;case"checked":O=ee;break;case"defaultChecked":Y=ee;break;case"value":_=ee;break;case"defaultValue":x=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,o));break;default:at(s,o,c,ee,l,null)}}ec(s,_,x,O,Y,A,y,!1);return;case"select":He("invalid",s),c=A=_=null;for(y in l)if(l.hasOwnProperty(y)&&(x=l[y],x!=null))switch(y){case"value":_=x;break;case"defaultValue":A=x;break;case"multiple":c=x;default:at(s,o,y,x,l,null)}o=_,l=A,s.multiple=!!c,o!=null?bs(s,!!c,o,!1):l!=null&&bs(s,!!c,l,!0);return;case"textarea":He("invalid",s),_=y=c=null;for(A in l)if(l.hasOwnProperty(A)&&(x=l[A],x!=null))switch(A){case"value":c=x;break;case"defaultValue":y=x;break;case"children":_=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:at(s,o,A,x,l,null)}Ns(s,c,y,_);return;case"option":for(O in l)if(l.hasOwnProperty(O)&&(c=l[O],c!=null))switch(O){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:at(s,o,O,c,l,null)}return;case"dialog":He("beforetoggle",s),He("toggle",s),He("cancel",s),He("close",s);break;case"iframe":case"object":He("load",s);break;case"video":case"audio":for(c=0;c<ql.length;c++)He(ql[c],s);break;case"image":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"embed":case"source":case"link":He("error",s),He("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(c=l[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:at(s,o,Y,c,l,null)}return;default:if(Do(o)){for(ee in l)l.hasOwnProperty(ee)&&(c=l[ee],c!==void 0&&Rp(s,o,ee,c,l,void 0));return}}for(x in l)l.hasOwnProperty(x)&&(c=l[x],c!=null&&at(s,o,x,c,l,null))}function Bx(s,o,l,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,_=null,A=null,x=null,O=null,Y=null,ee=null;for(W in l){var se=l[W];if(l.hasOwnProperty(W)&&se!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":O=se;default:c.hasOwnProperty(W)||at(s,o,W,null,c,se)}}for(var $ in c){var W=c[$];if(se=l[$],c.hasOwnProperty($)&&(W!=null||se!=null))switch($){case"type":_=W;break;case"name":y=W;break;case"checked":Y=W;break;case"defaultChecked":ee=W;break;case"value":A=W;break;case"defaultValue":x=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,o));break;default:W!==se&&at(s,o,$,W,c,se)}}Mo(s,A,x,O,Y,ee,_,y);return;case"select":W=A=x=$=null;for(_ in l)if(O=l[_],l.hasOwnProperty(_)&&O!=null)switch(_){case"value":break;case"multiple":W=O;default:c.hasOwnProperty(_)||at(s,o,_,null,c,O)}for(y in c)if(_=c[y],O=l[y],c.hasOwnProperty(y)&&(_!=null||O!=null))switch(y){case"value":$=_;break;case"defaultValue":x=_;break;case"multiple":A=_;default:_!==O&&at(s,o,y,_,c,O)}o=x,l=A,c=W,$!=null?bs(s,!!l,$,!1):!!c!=!!l&&(o!=null?bs(s,!!l,o,!0):bs(s,!!l,l?[]:"",!1));return;case"textarea":W=$=null;for(x in l)if(y=l[x],l.hasOwnProperty(x)&&y!=null&&!c.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:at(s,o,x,null,c,y)}for(A in c)if(y=c[A],_=l[A],c.hasOwnProperty(A)&&(y!=null||_!=null))switch(A){case"value":$=y;break;case"defaultValue":W=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==_&&at(s,o,A,y,c,_)}tc(s,$,W);return;case"option":for(var _e in l)if($=l[_e],l.hasOwnProperty(_e)&&$!=null&&!c.hasOwnProperty(_e))switch(_e){case"selected":s.selected=!1;break;default:at(s,o,_e,null,c,$)}for(O in c)if($=c[O],W=l[O],c.hasOwnProperty(O)&&$!==W&&($!=null||W!=null))switch(O){case"selected":s.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:at(s,o,O,$,c,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in l)$=l[Ie],l.hasOwnProperty(Ie)&&$!=null&&!c.hasOwnProperty(Ie)&&at(s,o,Ie,null,c,$);for(Y in c)if($=c[Y],W=l[Y],c.hasOwnProperty(Y)&&$!==W&&($!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,o));break;default:at(s,o,Y,$,c,W)}return;default:if(Do(o)){for(var lt in l)$=l[lt],l.hasOwnProperty(lt)&&$!==void 0&&!c.hasOwnProperty(lt)&&Rp(s,o,lt,void 0,c,$);for(ee in c)$=c[ee],W=l[ee],!c.hasOwnProperty(ee)||$===W||$===void 0&&W===void 0||Rp(s,o,ee,$,c,W);return}}for(var B in l)$=l[B],l.hasOwnProperty(B)&&$!=null&&!c.hasOwnProperty(B)&&at(s,o,B,null,c,$);for(se in c)$=c[se],W=l[se],!c.hasOwnProperty(se)||$===W||$==null&&W==null||at(s,o,se,$,c,W)}function n_(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zx(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var y=l[c],_=y.transferSize,A=y.initiatorType,x=y.duration;if(_&&x&&n_(A)){for(A=0,x=y.responseEnd,c+=1;c<l.length;c++){var O=l[c],Y=O.startTime;if(Y>x)break;var ee=O.transferSize,se=O.initiatorType;ee&&n_(se)&&(O=O.responseEnd,A+=ee*(O<x?1:(x-Y)/(O-Y)))}if(--c,o+=8*(_+A)/(y.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var bp=null,Np=null;function sd(s){return s.nodeType===9?s:s.ownerDocument}function i_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s_(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Mp(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Dp=null;function qx(){var s=window.event;return s&&s.type==="popstate"?s===Dp?!1:(Dp=s,!0):(Dp=null,!1)}var r_=typeof setTimeout=="function"?setTimeout:void 0,Jx=typeof clearTimeout=="function"?clearTimeout:void 0,o_=typeof Promise=="function"?Promise:void 0,Kx=typeof queueMicrotask=="function"?queueMicrotask:typeof o_<"u"?function(s){return o_.resolve(null).then(s).catch(Yx)}:r_;function Yx(s){setTimeout(function(){throw s})}function Zs(s){return s==="head"}function a_(s,o){var l=o,c=0;do{var y=l.nextSibling;if(s.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(c===0){s.removeChild(y),ha(o);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")Kl(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,Kl(l);for(var _=l.firstChild;_;){var A=_.nextSibling,x=_.nodeName;_[Ai]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=A}}else l==="body"&&Kl(s.ownerDocument.body);l=y}while(l);ha(o)}function l_(s,o){var l=s;s=0;do{var c=l.nextSibling;if(l.nodeType===1?o?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(o?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=c}while(l)}function kp(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":kp(l),bo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function $x(s,o,l,c){for(;s.nodeType===1;){var y=l;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Ai])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var _=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=Yn(s.nextSibling),s===null)break}return null}function jx(s,o,l){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Yn(s.nextSibling),s===null))return null;return s}function u_(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Yn(s.nextSibling),s===null))return null;return s}function Pp(s){return s.data==="$?"||s.data==="$~"}function Vp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function Qx(s,o){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||l.readyState!=="loading")o();else{var c=function(){o(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function Yn(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var Up=null;function c_(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(o===0)return Yn(s.nextSibling);o--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||o++}s=s.nextSibling}return null}function d_(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(o===0)return s;o--}else l!=="/$"&&l!=="/&"||o++}s=s.previousSibling}return null}function f_(s,o,l){switch(o=sd(l),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Kl(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);bo(s)}var $n=new Map,h_=new Set;function rd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var fs=ae.d;ae.d={f:Xx,r:Wx,D:Zx,C:eR,L:tR,m:nR,X:sR,S:iR,M:rR};function Xx(){var s=fs.f(),o=Qc();return s||o}function Wx(s){var o=Ln(s);o!==null&&o.tag===5&&o.type==="form"?N0(o):fs.r(s)}var ca=typeof document>"u"?null:document;function p_(s,o,l){var c=ca;if(c&&typeof o=="string"&&o){var y=gn(o);y='link[rel="'+s+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),h_.has(y)||(h_.add(y),s={rel:s,crossOrigin:l,href:o},c.querySelector(y)===null&&(o=c.createElement("link"),Wt(o,"link",s),bt(o),c.head.appendChild(o)))}}function Zx(s){fs.D(s),p_("dns-prefetch",s,null)}function eR(s,o){fs.C(s,o),p_("preconnect",s,o)}function tR(s,o,l){fs.L(s,o,l);var c=ca;if(c&&s&&o){var y='link[rel="preload"][as="'+gn(o)+'"]';o==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+gn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+gn(l.imageSizes)+'"]')):y+='[href="'+gn(s)+'"]';var _=y;switch(o){case"style":_=da(s);break;case"script":_=fa(s)}$n.has(_)||(s=E({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:s,as:o},l),$n.set(_,s),c.querySelector(y)!==null||o==="style"&&c.querySelector(Yl(_))||o==="script"&&c.querySelector($l(_))||(o=c.createElement("link"),Wt(o,"link",s),bt(o),c.head.appendChild(o)))}}function nR(s,o){fs.m(s,o);var l=ca;if(l&&s){var c=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+gn(c)+'"][href="'+gn(s)+'"]',_=y;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=fa(s)}if(!$n.has(_)&&(s=E({rel:"modulepreload",href:s},o),$n.set(_,s),l.querySelector(y)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector($l(_)))return}c=l.createElement("link"),Wt(c,"link",s),bt(c),l.head.appendChild(c)}}}function iR(s,o,l){fs.S(s,o,l);var c=ca;if(c&&s){var y=wi(c).hoistableStyles,_=da(s);o=o||"default";var A=y.get(_);if(!A){var x={loading:0,preload:null};if(A=c.querySelector(Yl(_)))x.loading=5;else{s=E({rel:"stylesheet",href:s,"data-precedence":o},l),(l=$n.get(_))&&Lp(s,l);var O=A=c.createElement("link");bt(O),Wt(O,"link",s),O._p=new Promise(function(Y,ee){O.onload=Y,O.onerror=ee}),O.addEventListener("load",function(){x.loading|=1}),O.addEventListener("error",function(){x.loading|=2}),x.loading|=4,od(A,o,c)}A={type:"stylesheet",instance:A,count:1,state:x},y.set(_,A)}}}function sR(s,o){fs.X(s,o);var l=ca;if(l&&s){var c=wi(l).hoistableScripts,y=fa(s),_=c.get(y);_||(_=l.querySelector($l(y)),_||(s=E({src:s,async:!0},o),(o=$n.get(y))&&Op(s,o),_=l.createElement("script"),bt(_),Wt(_,"link",s),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(y,_))}}function rR(s,o){fs.M(s,o);var l=ca;if(l&&s){var c=wi(l).hoistableScripts,y=fa(s),_=c.get(y);_||(_=l.querySelector($l(y)),_||(s=E({src:s,async:!0,type:"module"},o),(o=$n.get(y))&&Op(s,o),_=l.createElement("script"),bt(_),Wt(_,"link",s),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(y,_))}}function m_(s,o,l,c){var y=(y=ye.current)?rd(y):null;if(!y)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=da(l.href),l=wi(y).hoistableStyles,c=l.get(o),c||(c={type:"style",instance:null,count:0,state:null},l.set(o,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=da(l.href);var _=wi(y).hoistableStyles,A=_.get(s);if(A||(y=y.ownerDocument||y,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,A),(_=y.querySelector(Yl(s)))&&!_._p&&(A.instance=_,A.state.loading=5),$n.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},$n.set(s,l),_||oR(y,s,l,A.state))),o&&c===null)throw Error(i(528,""));return A}if(o&&c!==null)throw Error(i(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=fa(l),l=wi(y).hoistableScripts,c=l.get(o),c||(c={type:"script",instance:null,count:0,state:null},l.set(o,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function da(s){return'href="'+gn(s)+'"'}function Yl(s){return'link[rel="stylesheet"]['+s+"]"}function g_(s){return E({},s,{"data-precedence":s.precedence,precedence:null})}function oR(s,o,l,c){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?c.loading=1:(o=s.createElement("link"),c.preload=o,o.addEventListener("load",function(){return c.loading|=1}),o.addEventListener("error",function(){return c.loading|=2}),Wt(o,"link",l),bt(o),s.head.appendChild(o))}function fa(s){return'[src="'+gn(s)+'"]'}function $l(s){return"script[async]"+s}function y_(s,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var c=s.querySelector('style[data-href~="'+gn(l.href)+'"]');if(c)return o.instance=c,bt(c),c;var y=E({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),bt(c),Wt(c,"style",y),od(c,l.precedence,s),o.instance=c;case"stylesheet":y=da(l.href);var _=s.querySelector(Yl(y));if(_)return o.state.loading|=4,o.instance=_,bt(_),_;c=g_(l),(y=$n.get(y))&&Lp(c,y),_=(s.ownerDocument||s).createElement("link"),bt(_);var A=_;return A._p=new Promise(function(x,O){A.onload=x,A.onerror=O}),Wt(_,"link",c),o.state.loading|=4,od(_,l.precedence,s),o.instance=_;case"script":return _=fa(l.src),(y=s.querySelector($l(_)))?(o.instance=y,bt(y),y):(c=l,(y=$n.get(_))&&(c=E({},l),Op(c,y)),s=s.ownerDocument||s,y=s.createElement("script"),bt(y),Wt(y,"link",c),s.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(c=o.instance,o.state.loading|=4,od(c,l.precedence,s));return o.instance}function od(s,o,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=c.length?c[c.length-1]:null,_=y,A=0;A<c.length;A++){var x=c[A];if(x.dataset.precedence===o)_=x;else if(_!==y)break}_?_.parentNode.insertBefore(s,_.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(s,o.firstChild))}function Lp(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Op(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var ad=null;function v_(s,o,l){if(ad===null){var c=new Map,y=ad=new Map;y.set(l,c)}else y=ad,c=y.get(l),c||(c=new Map,y.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),y=0;y<l.length;y++){var _=l[y];if(!(_[Ai]||_[Rt]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var A=_.getAttribute(o)||"";A=s+A;var x=c.get(A);x?x.push(_):c.set(A,[_])}}return c}function __(s,o,l){s=s.ownerDocument||s,s.head.insertBefore(l,o==="title"?s.querySelector("head > title"):null)}function aR(s,o,l){if(l===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function E_(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function lR(s,o,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=da(c.href),_=o.querySelector(Yl(y));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=ld.bind(s),o.then(s,s)),l.state.loading|=4,l.instance=_,bt(_);return}_=o.ownerDocument||o,c=g_(c),(y=$n.get(y))&&Lp(c,y),_=_.createElement("link"),bt(_);var A=_;A._p=new Promise(function(x,O){A.onload=x,A.onerror=O}),Wt(_,"link",c),l.instance=_}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=ld.bind(s),o.addEventListener("load",l),o.addEventListener("error",l))}}var Fp=0;function uR(s,o){return s.stylesheets&&s.count===0&&cd(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var c=setTimeout(function(){if(s.stylesheets&&cd(s,s.stylesheets),s.unsuspend){var _=s.unsuspend;s.unsuspend=null,_()}},6e4+o);0<s.imgBytes&&Fp===0&&(Fp=62500*zx());var y=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&cd(s,s.stylesheets),s.unsuspend)){var _=s.unsuspend;s.unsuspend=null,_()}},(s.imgBytes>Fp?50:800)+o);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(c),clearTimeout(y)}}:null}function ld(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var ud=null;function cd(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,ud=new Map,o.forEach(cR,s),ud=null,ld.call(s))}function cR(s,o){if(!(o.state.loading&4)){var l=ud.get(s);if(l)var c=l.get(null);else{l=new Map,ud.set(s,l);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<y.length;_++){var A=y[_];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),c=A)}c&&l.set(null,c)}y=o.instance,A=y.getAttribute("data-precedence"),_=l.get(A)||c,_===c&&l.set(null,y),l.set(A,y),this.count++,c=ld.bind(this),y.addEventListener("load",c),y.addEventListener("error",c),_?_.parentNode.insertBefore(y,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),o.state.loading|=4}}var jl={$$typeof:j,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function dR(s,o,l,c,y,_,A,x,O){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=c,this.onUncaughtError=y,this.onCaughtError=_,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function T_(s,o,l,c,y,_,A,x,O,Y,ee,se){return s=new dR(s,o,l,A,O,Y,ee,se,x),o=1,_===!0&&(o|=24),_=bn(3,null,null,o),s.current=_,_.stateNode=s,o=vh(),o.refCount++,s.pooledCache=o,o.refCount++,_.memoizedState={element:c,isDehydrated:l,cache:o},Sh(_),s}function S_(s){return s?(s=zo,s):zo}function A_(s,o,l,c,y,_){y=S_(y),c.context===null?c.context=y:c.pendingContext=y,c=Bs(o),c.payload={element:l},_=_===void 0?null:_,_!==null&&(c.callback=_),l=zs(s,c,o),l!==null&&(Sn(l,s,o),xl(l,s,o))}function C_(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function Gp(s,o){C_(s,o),(s=s.alternate)&&C_(s,o)}function w_(s){if(s.tag===13||s.tag===31){var o=Qr(s,67108864);o!==null&&Sn(o,s,67108864),Gp(s,67108864)}}function I_(s){if(s.tag===13||s.tag===31){var o=Pn();o=Or(o);var l=Qr(s,o);l!==null&&Sn(l,s,o),Gp(s,o)}}var dd=!0;function fR(s,o,l,c){var y=K.T;K.T=null;var _=ae.p;try{ae.p=2,Hp(s,o,l,c)}finally{ae.p=_,K.T=y}}function hR(s,o,l,c){var y=K.T;K.T=null;var _=ae.p;try{ae.p=8,Hp(s,o,l,c)}finally{ae.p=_,K.T=y}}function Hp(s,o,l,c){if(dd){var y=Bp(c);if(y===null)xp(s,o,c,fd,l),R_(s,c);else if(mR(y,s,o,l,c))c.stopPropagation();else if(R_(s,c),o&4&&-1<pR.indexOf(s)){for(;y!==null;){var _=Ln(y);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var A=_i(_.pendingLanes);if(A!==0){var x=_;for(x.pendingLanes|=2,x.entangledLanes|=2;A;){var O=1<<31-_t(A);x.entanglements[1]|=O,A&=~O}Oi(_),(et&6)===0&&($c=un()+500,zl(0))}}break;case 31:case 13:x=Qr(_,2),x!==null&&Sn(x,_,2),Qc(),Gp(_,2)}if(_=Bp(c),_===null&&xp(s,o,c,fd,l),_===y)break;y=_}y!==null&&c.stopPropagation()}else xp(s,o,c,null,l)}}function Bp(s){return s=On(s),zp(s)}var fd=null;function zp(s){if(fd=null,s=Ci(s),s!==null){var o=a(s);if(o===null)s=null;else{var l=o.tag;if(l===13){if(s=u(o),s!==null)return s;s=null}else if(l===31){if(s=d(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return fd=s,null}function x_(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pr()){case Wa:return 2;case Za:return 8;case xs:case jf:return 32;case qu:return 268435456;default:return 32}default:return 32}}var qp=!1,er=null,tr=null,nr=null,Ql=new Map,Xl=new Map,ir=[],pR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R_(s,o){switch(s){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":Ql.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(o.pointerId)}}function Wl(s,o,l,c,y,_){return s===null||s.nativeEvent!==_?(s={blockedOn:o,domEventName:l,eventSystemFlags:c,nativeEvent:_,targetContainers:[y]},o!==null&&(o=Ln(o),o!==null&&w_(o)),s):(s.eventSystemFlags|=c,o=s.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),s)}function mR(s,o,l,c,y){switch(o){case"focusin":return er=Wl(er,s,o,l,c,y),!0;case"dragenter":return tr=Wl(tr,s,o,l,c,y),!0;case"mouseover":return nr=Wl(nr,s,o,l,c,y),!0;case"pointerover":var _=y.pointerId;return Ql.set(_,Wl(Ql.get(_)||null,s,o,l,c,y)),!0;case"gotpointercapture":return _=y.pointerId,Xl.set(_,Wl(Xl.get(_)||null,s,o,l,c,y)),!0}return!1}function b_(s){var o=Ci(s.target);if(o!==null){var l=a(o);if(l!==null){if(o=l.tag,o===13){if(o=u(l),o!==null){s.blockedOn=o,ti(s.priority,function(){I_(l)});return}}else if(o===31){if(o=d(l),o!==null){s.blockedOn=o,ti(s.priority,function(){I_(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function hd(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=Bp(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);dl=c,l.target.dispatchEvent(c),dl=null}else return o=Ln(l),o!==null&&w_(o),s.blockedOn=l,!1;o.shift()}return!0}function N_(s,o,l){hd(s)&&l.delete(o)}function gR(){qp=!1,er!==null&&hd(er)&&(er=null),tr!==null&&hd(tr)&&(tr=null),nr!==null&&hd(nr)&&(nr=null),Ql.forEach(N_),Xl.forEach(N_)}function pd(s,o){s.blockedOn===o&&(s.blockedOn=null,qp||(qp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,gR)))}var md=null;function M_(s){md!==s&&(md=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){md===s&&(md=null);for(var o=0;o<s.length;o+=3){var l=s[o],c=s[o+1],y=s[o+2];if(typeof c!="function"){if(zp(c||l)===null)continue;break}var _=Ln(l);_!==null&&(s.splice(o,3),o-=3,Bh(_,{pending:!0,data:y,method:l.method,action:c},c,y))}}))}function ha(s){function o(O){return pd(O,s)}er!==null&&pd(er,s),tr!==null&&pd(tr,s),nr!==null&&pd(nr,s),Ql.forEach(o),Xl.forEach(o);for(var l=0;l<ir.length;l++){var c=ir[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<ir.length&&(l=ir[0],l.blockedOn===null);)b_(l),l.blockedOn===null&&ir.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var y=l[c],_=l[c+1],A=y[Bt]||null;if(typeof _=="function")A||M_(l);else if(A){var x=null;if(_&&_.hasAttribute("formAction")){if(y=_,A=_[Bt]||null)x=A.formAction;else if(zp(y)!==null)continue}else x=A.action;typeof x=="function"?l[c+1]=x:(l.splice(c,3),c-=3),M_(l)}}}function D_(){function s(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(A){return y=A})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,y=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function Jp(s){this._internalRoot=s}gd.prototype.render=Jp.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var l=o.current,c=Pn();A_(l,c,s,o,null,null)},gd.prototype.unmount=Jp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;A_(s.current,2,null,s,null,null),Qc(),o[Si]=null}};function gd(s){this._internalRoot=s}gd.prototype.unstable_scheduleHydration=function(s){if(s){var o=Qu();s={blockedOn:null,target:s,priority:o};for(var l=0;l<ir.length&&o!==0&&o<ir[l].priority;l++);ir.splice(l,0,s),l===0&&b_(s)}};var k_=e.version;if(k_!=="19.2.4")throw Error(i(527,k_,"19.2.4"));ae.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=h(o),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var yR={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yd.isDisabled&&yd.supportsFiber)try{Zn=yd.inject(yR),Yt=yd}catch{}}return eu.createRoot=function(s,o){if(!r(s))throw Error(i(299));var l=!1,c="",y=G0,_=H0,A=B0;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError)),o=T_(s,1,!1,null,null,l,c,null,y,_,A,D_),s[Si]=o.current,Ip(s),new Jp(o)},eu.hydrateRoot=function(s,o,l){if(!r(s))throw Error(i(299));var c=!1,y="",_=G0,A=H0,x=B0,O=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(x=l.onRecoverableError),l.formState!==void 0&&(O=l.formState)),o=T_(s,1,!0,o,l??null,c,y,O,_,A,x,D_),o.context=S_(null),l=o.current,c=Pn(),c=Or(c),y=Bs(c),y.callback=null,zs(l,y,c),l=c,o.current.lanes=l,Ur(o,l),Oi(o),s[Si]=o.current,Ip(s),new gd(o)},eu.version="19.2.4",eu}var z_;function RR(){if(z_)return $p.exports;z_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$p.exports=xR(),$p.exports}var bR=RR();const NR=aA(bR);uA();/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vu(){return vu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},vu.apply(this,arguments)}var cr;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(cr||(cr={}));const q_="popstate";function MR(n){n===void 0&&(n={});function e(r,a){let{pathname:u="/",search:d="",hash:p=""}=To(r.location.hash.substr(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),pm("",{pathname:u,search:d,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){let u=r.document.querySelector("base"),d="";if(u&&u.getAttribute("href")){let p=r.location.href,h=p.indexOf("#");d=h===-1?p:p.slice(0,h)}return d+"#"+(typeof a=="string"?a:Hd(a))}function i(r,a){lg(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return kR(e,t,i,n)}function Ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function lg(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DR(){return Math.random().toString(36).substr(2,8)}function J_(n,e){return{usr:n.state,key:n.key,idx:e}}function pm(n,e,t,i){return t===void 0&&(t=null),vu({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?To(e):e,{state:t,key:e&&e.key||i||DR()})}function Hd(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function To(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function kR(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:a=!1}=i,u=r.history,d=cr.Pop,p=null,h=v();h==null&&(h=0,u.replaceState(vu({},u.state,{idx:h}),""));function v(){return(u.state||{idx:null}).idx}function E(){d=cr.Pop;let k=v(),z=k==null?null:k-h;h=k,p&&p({action:d,location:L.location,delta:z})}function T(k,z){d=cr.Push;let Z=pm(L.location,k,z);t&&t(Z,k),h=v()+1;let j=J_(Z,h),oe=L.createHref(Z);try{u.pushState(j,"",oe)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;r.location.assign(oe)}a&&p&&p({action:d,location:L.location,delta:1})}function I(k,z){d=cr.Replace;let Z=pm(L.location,k,z);t&&t(Z,k),h=v();let j=J_(Z,h),oe=L.createHref(Z);u.replaceState(j,"",oe),a&&p&&p({action:d,location:L.location,delta:0})}function D(k){let z=r.location.origin!=="null"?r.location.origin:r.location.href,Z=typeof k=="string"?k:Hd(k);return Z=Z.replace(/ $/,"%20"),Ct(z,"No window.location.(origin|href) available to create URL for href: "+Z),new URL(Z,z)}let L={get action(){return d},get location(){return n(r,u)},listen(k){if(p)throw new Error("A history only accepts one active listener");return r.addEventListener(q_,E),p=k,()=>{r.removeEventListener(q_,E),p=null}},createHref(k){return e(r,k)},createURL:D,encodeLocation(k){let z=D(k);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:T,replace:I,go(k){return u.go(k)}};return L}var K_;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(K_||(K_={}));function PR(n,e,t){t===void 0&&(t="/");let i=typeof e=="string"?To(e):e,r=ug(i.pathname||"/",t);if(r==null)return null;let a=cA(n);VR(a);let u=null;for(let d=0;u==null&&d<a.length;++d){let p=YR(r);u=qR(a[d],p)}return u}function cA(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(a,u,d)=>{let p={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};p.relativePath.startsWith("/")&&(Ct(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let h=fr([i,p.relativePath]),v=t.concat(p);a.children&&a.children.length>0&&(Ct(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),cA(a.children,e,v,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:BR(h,a.index),routesMeta:v})};return n.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))r(a,u);else for(let p of dA(a.path))r(a,u,p)}),e}function dA(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let u=dA(i.join("/")),d=[];return d.push(...u.map(p=>p===""?a:[a,p].join("/"))),r&&d.push(...u),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function VR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:zR(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const UR=/^:[\w-]+$/,LR=3,OR=2,FR=1,GR=10,HR=-2,Y_=n=>n==="*";function BR(n,e){let t=n.split("/"),i=t.length;return t.some(Y_)&&(i+=HR),e&&(i+=OR),t.filter(r=>!Y_(r)).reduce((r,a)=>r+(UR.test(a)?LR:a===""?FR:GR),i)}function zR(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function qR(n,e){let{routesMeta:t}=n,i={},r="/",a=[];for(let u=0;u<t.length;++u){let d=t[u],p=u===t.length-1,h=r==="/"?e:e.slice(r.length)||"/",v=JR({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},h);if(!v)return null;Object.assign(i,v.params);let E=d.route;a.push({params:i,pathname:fr([r,v.pathname]),pathnameBase:XR(fr([r,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(r=fr([r,v.pathnameBase]))}return a}function JR(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=KR(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let a=r[0],u=a.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:i.reduce((h,v,E)=>{let{paramName:T,isOptional:I}=v;if(T==="*"){let L=d[E]||"";u=a.slice(0,a.length-L.length).replace(/(.)\/+$/,"$1")}const D=d[E];return I&&!D?h[T]=void 0:h[T]=(D||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:u,pattern:n}}function KR(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),lg(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function YR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lg(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function ug(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function $R(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?To(n):n;return{pathname:t?t.startsWith("/")?t:jR(t,e):e,search:WR(i),hash:ZR(r)}}function jR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Wp(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function QR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function cg(n,e){let t=QR(n);return e?t.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function dg(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=To(n):(r=vu({},n),Ct(!r.pathname||!r.pathname.includes("?"),Wp("?","pathname","search",r)),Ct(!r.pathname||!r.pathname.includes("#"),Wp("#","pathname","hash",r)),Ct(!r.search||!r.search.includes("#"),Wp("#","search","hash",r)));let a=n===""||r.pathname==="",u=a?"/":r.pathname,d;if(u==null)d=t;else{let E=e.length-1;if(!i&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),E-=1;r.pathname=T.join("/")}d=E>=0?e[E]:"/"}let p=$R(r,d),h=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(h||v)&&(p.pathname+="/"),p}const fr=n=>n.join("/").replace(/\/\/+/g,"/"),XR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),WR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ZR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function eb(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const fA=["post","put","patch","delete"];new Set(fA);const tb=["get",...fA];new Set(tb);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _u(){return _u=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_u.apply(this,arguments)}const fg=ne.createContext(null),nb=ne.createContext(null),wr=ne.createContext(null),_f=ne.createContext(null),Ir=ne.createContext({outlet:null,matches:[],isDataRoute:!1}),hA=ne.createContext(null);function ib(n,e){let{relative:t}=e===void 0?{}:e;La()||Ct(!1);let{basename:i,navigator:r}=ne.useContext(wr),{hash:a,pathname:u,search:d}=mA(n,{relative:t}),p=u;return i!=="/"&&(p=u==="/"?i:fr([i,u])),r.createHref({pathname:p,search:d,hash:a})}function La(){return ne.useContext(_f)!=null}function Oa(){return La()||Ct(!1),ne.useContext(_f).location}function pA(n){ne.useContext(wr).static||ne.useLayoutEffect(n)}function xr(){let{isDataRoute:n}=ne.useContext(Ir);return n?gb():sb()}function sb(){La()||Ct(!1);let n=ne.useContext(fg),{basename:e,future:t,navigator:i}=ne.useContext(wr),{matches:r}=ne.useContext(Ir),{pathname:a}=Oa(),u=JSON.stringify(cg(r,t.v7_relativeSplatPath)),d=ne.useRef(!1);return pA(()=>{d.current=!0}),ne.useCallback(function(h,v){if(v===void 0&&(v={}),!d.current)return;if(typeof h=="number"){i.go(h);return}let E=dg(h,JSON.parse(u),a,v.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:fr([e,E.pathname])),(v.replace?i.replace:i.push)(E,v.state,v)},[e,i,u,a,n])}function mA(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=ne.useContext(wr),{matches:r}=ne.useContext(Ir),{pathname:a}=Oa(),u=JSON.stringify(cg(r,i.v7_relativeSplatPath));return ne.useMemo(()=>dg(n,JSON.parse(u),a,t==="path"),[n,u,a,t])}function rb(n,e){return ob(n,e)}function ob(n,e,t,i){La()||Ct(!1);let{navigator:r}=ne.useContext(wr),{matches:a}=ne.useContext(Ir),u=a[a.length-1],d=u?u.params:{};u&&u.pathname;let p=u?u.pathnameBase:"/";u&&u.route;let h=Oa(),v;if(e){var E;let k=typeof e=="string"?To(e):e;p==="/"||(E=k.pathname)!=null&&E.startsWith(p)||Ct(!1),v=k}else v=h;let T=v.pathname||"/",I=T;if(p!=="/"){let k=p.replace(/^\//,"").split("/");I="/"+T.replace(/^\//,"").split("/").slice(k.length).join("/")}let D=PR(n,{pathname:I}),L=db(D&&D.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:fr([p,r.encodeLocation?r.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:fr([p,r.encodeLocation?r.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,t,i);return e&&L?ne.createElement(_f.Provider,{value:{location:_u({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:cr.Pop}},L):L}function ab(){let n=mb(),e=eb(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},e),t?ne.createElement("pre",{style:r},t):null,null)}const lb=ne.createElement(ab,null);class ub extends ne.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?ne.createElement(Ir.Provider,{value:this.props.routeContext},ne.createElement(hA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cb(n){let{routeContext:e,match:t,children:i}=n,r=ne.useContext(fg);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),ne.createElement(Ir.Provider,{value:e},i)}function db(n,e,t,i){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var a;if((a=t)!=null&&a.errors)n=t.matches;else return null}let u=n,d=(r=t)==null?void 0:r.errors;if(d!=null){let v=u.findIndex(E=>E.route.id&&(d==null?void 0:d[E.route.id]));v>=0||Ct(!1),u=u.slice(0,Math.min(u.length,v+1))}let p=!1,h=-1;if(t&&i&&i.v7_partialHydration)for(let v=0;v<u.length;v++){let E=u[v];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(h=v),E.route.id){let{loaderData:T,errors:I}=t,D=E.route.loader&&T[E.route.id]===void 0&&(!I||I[E.route.id]===void 0);if(E.route.lazy||D){p=!0,h>=0?u=u.slice(0,h+1):u=[u[0]];break}}}return u.reduceRight((v,E,T)=>{let I,D=!1,L=null,k=null;t&&(I=d&&E.route.id?d[E.route.id]:void 0,L=E.route.errorElement||lb,p&&(h<0&&T===0?(yb("route-fallback"),D=!0,k=null):h===T&&(D=!0,k=E.route.hydrateFallbackElement||null)));let z=e.concat(u.slice(0,T+1)),Z=()=>{let j;return I?j=L:D?j=k:E.route.Component?j=ne.createElement(E.route.Component,null):E.route.element?j=E.route.element:j=v,ne.createElement(cb,{match:E,routeContext:{outlet:v,matches:z,isDataRoute:t!=null},children:j})};return t&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?ne.createElement(ub,{location:t.location,revalidation:t.revalidation,component:L,error:I,children:Z(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):Z()},null)}var gA=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(gA||{}),yA=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(yA||{});function fb(n){let e=ne.useContext(fg);return e||Ct(!1),e}function hb(n){let e=ne.useContext(nb);return e||Ct(!1),e}function pb(n){let e=ne.useContext(Ir);return e||Ct(!1),e}function vA(n){let e=pb(),t=e.matches[e.matches.length-1];return t.route.id||Ct(!1),t.route.id}function mb(){var n;let e=ne.useContext(hA),t=hb(),i=vA();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function gb(){let{router:n}=fb(gA.UseNavigateStable),e=vA(yA.UseNavigateStable),t=ne.useRef(!1);return pA(()=>{t.current=!0}),ne.useCallback(function(r,a){a===void 0&&(a={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,_u({fromRouteId:e},a)))},[n,e])}const $_={};function yb(n,e,t){$_[n]||($_[n]=!0)}function j_(n){let{to:e,replace:t,state:i,relative:r}=n;La()||Ct(!1);let{future:a,static:u}=ne.useContext(wr),{matches:d}=ne.useContext(Ir),{pathname:p}=Oa(),h=xr(),v=dg(e,cg(d,a.v7_relativeSplatPath),p,r==="path"),E=JSON.stringify(v);return ne.useEffect(()=>h(JSON.parse(E),{replace:t,state:i,relative:r}),[h,E,r,t,i]),null}function hs(n){Ct(!1)}function vb(n){let{basename:e="/",children:t=null,location:i,navigationType:r=cr.Pop,navigator:a,static:u=!1,future:d}=n;La()&&Ct(!1);let p=e.replace(/^\/*/,"/"),h=ne.useMemo(()=>({basename:p,navigator:a,static:u,future:_u({v7_relativeSplatPath:!1},d)}),[p,d,a,u]);typeof i=="string"&&(i=To(i));let{pathname:v="/",search:E="",hash:T="",state:I=null,key:D="default"}=i,L=ne.useMemo(()=>{let k=ug(v,p);return k==null?null:{location:{pathname:k,search:E,hash:T,state:I,key:D},navigationType:r}},[p,v,E,T,I,D,r]);return L==null?null:ne.createElement(wr.Provider,{value:h},ne.createElement(_f.Provider,{children:t,value:L}))}function _b(n){let{children:e,location:t}=n;return rb(mm(e),t)}new Promise(()=>{});function mm(n,e){e===void 0&&(e=[]);let t=[];return ne.Children.forEach(n,(i,r)=>{if(!ne.isValidElement(i))return;let a=[...e,r];if(i.type===ne.Fragment){t.push.apply(t,mm(i.props.children,a));return}i.type!==hs&&Ct(!1),!i.props.index||!i.props.children||Ct(!1);let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=mm(i.props.children,a)),t.push(u)}),t}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gm(){return gm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},gm.apply(this,arguments)}function Eb(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,a;for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function Tb(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Sb(n,e){return n.button===0&&(!e||e==="_self")&&!Tb(n)}const Ab=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Cb="6";try{window.__reactRouterVersion=Cb}catch{}const wb="startTransition",Q_=AR[wb];function Ib(n){let{basename:e,children:t,future:i,window:r}=n,a=ne.useRef();a.current==null&&(a.current=MR({window:r,v5Compat:!0}));let u=a.current,[d,p]=ne.useState({action:u.action,location:u.location}),{v7_startTransition:h}=i||{},v=ne.useCallback(E=>{h&&Q_?Q_(()=>p(E)):p(E)},[p,h]);return ne.useLayoutEffect(()=>u.listen(v),[u,v]),ne.createElement(vb,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:u,future:i})}const xb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Rb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pa=ne.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:a,replace:u,state:d,target:p,to:h,preventScrollReset:v,unstable_viewTransition:E}=e,T=Eb(e,Ab),{basename:I}=ne.useContext(wr),D,L=!1;if(typeof h=="string"&&Rb.test(h)&&(D=h,xb))try{let j=new URL(window.location.href),oe=h.startsWith("//")?new URL(j.protocol+h):new URL(h),Q=ug(oe.pathname,I);oe.origin===j.origin&&Q!=null?h=Q+oe.search+oe.hash:L=!0}catch{}let k=ib(h,{relative:r}),z=bb(h,{replace:u,state:d,target:p,preventScrollReset:v,relative:r,unstable_viewTransition:E});function Z(j){i&&i(j),j.defaultPrevented||z(j)}return ne.createElement("a",gm({},T,{href:D||k,onClick:L||a?i:Z,ref:t,target:p}))});var X_;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(X_||(X_={}));var W_;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(W_||(W_={}));function bb(n,e){let{target:t,replace:i,state:r,preventScrollReset:a,relative:u,unstable_viewTransition:d}=e===void 0?{}:e,p=xr(),h=Oa(),v=mA(n,{relative:u});return ne.useCallback(E=>{if(Sb(E,t)){E.preventDefault();let T=i!==void 0?i:Hd(h)===Hd(v);p(n,{replace:T,state:r,preventScrollReset:a,relative:u,unstable_viewTransition:d})}},[h,p,v,i,r,t,n,a,u,d])}/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_A=(...n)=>n.filter((e,t,i)=>!!e&&i.indexOf(e)===t).join(" ");/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=ne.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:a,iconNode:u,...d},p)=>ne.createElement("svg",{ref:p,...Mb,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:_A("lucide",r),...d},[...u.map(([h,v])=>ne.createElement(h,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(n,e)=>{const t=ne.forwardRef(({className:i,...r},a)=>ne.createElement(Db,{ref:a,iconNode:e,className:_A(`lucide-${Nb(n)}`,i),...r}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=De("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=De("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=De("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=De("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=De("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=De("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=De("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=De("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=De("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=De("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=De("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=De("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=De("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=De("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=De("CloudLightning",[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=De("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=De("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=De("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=De("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=De("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=De("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=De("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=De("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=De("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=De("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=De("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=De("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=De("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=De("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=De("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=De("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=De("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=De("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=De("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=De("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=De("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=De("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=De("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=De("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=De("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=De("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),a1=()=>{};var tE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},l1=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=n[t++];e[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=n[t++],u=n[t++],d=n[t++],p=((r&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],u=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|u&63)}}return e.join("")},IA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const a=n[r],u=r+1<n.length,d=u?n[r+1]:0,p=r+2<n.length,h=p?n[r+2]:0,v=a>>2,E=(a&3)<<4|d>>4;let T=(d&15)<<2|h>>6,I=h&63;p||(I=64,u||(T=64)),i.push(t[v],t[E],t[T],t[I])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(wA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):l1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const a=t[n.charAt(r++)],d=r<n.length?t[n.charAt(r)]:0;++r;const h=r<n.length?t[n.charAt(r)]:64;++r;const E=r<n.length?t[n.charAt(r)]:64;if(++r,a==null||d==null||h==null||E==null)throw new u1;const T=a<<2|d>>4;if(i.push(T),h!==64){const I=d<<4&240|h>>2;if(i.push(I),E!==64){const D=h<<6&192|E;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class u1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c1=function(n){const e=wA(n);return IA.encodeByteArray(e,!0)},Kd=function(n){return c1(n).replace(/\./g,"")},xA=function(n){try{return IA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=()=>d1().__FIREBASE_DEFAULTS__,h1=()=>{if(typeof process>"u"||typeof tE>"u")return;const n=tE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},p1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&xA(n[1]);return e&&JSON.parse(e)},Sf=()=>{try{return a1()||f1()||h1()||p1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},RA=n=>{var e,t;return(t=(e=Sf())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},m1=n=>{const e=RA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},bA=()=>{var n;return(n=Sf())==null?void 0:n.config},NA=n=>{var e;return(e=Sf())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function MA(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Kd(JSON.stringify(t)),Kd(JSON.stringify(u)),""].join(".")}const du={};function v1(){const n={prod:[],emulator:[]};for(const e of Object.keys(du))du[e]?n.emulator.push(e):n.prod.push(e);return n}function _1(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let nE=!1;function DA(n,e){if(typeof window>"u"||typeof document>"u"||!Fa(window.location.host)||du[n]===e||du[n]||nE)return;du[n]=e;function t(T){return`__firebase__banner__${T}`}const i="__firebase__banner",a=v1().prod.length>0;function u(){const T=document.getElementById(i);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,I){T.setAttribute("width","24"),T.setAttribute("id",I),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function h(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{nE=!0,u()},T}function v(T,I){T.setAttribute("id",I),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=_1(i),I=t("text"),D=document.getElementById(I)||document.createElement("span"),L=t("learnmore"),k=document.getElementById(L)||document.createElement("a"),z=t("preprendIcon"),Z=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const j=T.element;d(j),v(k,L);const oe=h();p(Z,z),j.append(Z,D,k,oe),document.body.appendChild(j)}a?(D.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function T1(){var e;const n=(e=Sf())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function A1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function C1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function w1(){const n=ln();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function I1(){return!T1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x1(){try{return typeof indexedDB=="object"}catch{return!1}}function R1(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var a;e(((a=r.error)==null?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="FirebaseError";class Ss extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=b1,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mu.prototype.create)}}class Mu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,a=this.errors[e],u=a?N1(a,i):"Error",d=`${this.serviceName}: ${u} (${r}).`;return new Ss(r,d,i)}}function N1(n,e){return n.replace(M1,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const M1=/\{\$([^}]+)}/g;function D1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function vr(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const a=n[r],u=e[r];if(iE(a)&&iE(u)){if(!vr(a,u))return!1}else if(a!==u)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function iE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function su(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,a]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(a)}}),e}function ru(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function k1(n,e){const t=new P1(n,e);return t.subscribe.bind(t)}class P1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");V1(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=Zp),r.error===void 0&&(r.error=Zp),r.complete===void 0&&(r.complete=Zp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function V1(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Zp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(n){return n&&n._delegate?n._delegate:n}class po{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new g1;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(O1(e))try{this.getOrInitializeService({instanceIdentifier:uo})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(e=uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=uo){return this.instances.has(e)}getOptions(e=uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&u.resolve(r)}return r}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const a=this.instances.get(i);return a&&e(a,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:L1(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=uo){return this.component?this.component.multipleInstances?e:uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function L1(n){return n===uo?void 0:n}function O1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new U1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(qe||(qe={}));const G1={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},H1=qe.INFO,B1={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},z1=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=B1[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pg{constructor(e){this.name=e,this._logLevel=H1,this._logHandler=z1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const q1=(n,e)=>e.some(t=>n instanceof t);let sE,rE;function J1(){return sE||(sE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K1(){return rE||(rE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kA=new WeakMap,Em=new WeakMap,PA=new WeakMap,em=new WeakMap,mg=new WeakMap;function Y1(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(hr(n.result)),r()},u=()=>{i(n.error),r()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&kA.set(t,n)}).catch(()=>{}),mg.set(e,n),e}function $1(n){if(Em.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),r()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Em.set(n,e)}let Tm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Em.get(n);if(e==="objectStoreNames")return n.objectStoreNames||PA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return hr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function j1(n){Tm=n(Tm)}function Q1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(tm(this),e,...t);return PA.set(i,e.sort?e.sort():[e]),hr(i)}:K1().includes(n)?function(...e){return n.apply(tm(this),e),hr(kA.get(this))}:function(...e){return hr(n.apply(tm(this),e))}}function X1(n){return typeof n=="function"?Q1(n):(n instanceof IDBTransaction&&$1(n),q1(n,J1())?new Proxy(n,Tm):n)}function hr(n){if(n instanceof IDBRequest)return Y1(n);if(em.has(n))return em.get(n);const e=X1(n);return e!==n&&(em.set(n,e),mg.set(e,n)),e}const tm=n=>mg.get(n);function W1(n,e,{blocked:t,upgrade:i,blocking:r,terminated:a}={}){const u=indexedDB.open(n,e),d=hr(u);return i&&u.addEventListener("upgradeneeded",p=>{i(hr(u.result),p.oldVersion,p.newVersion,hr(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{a&&p.addEventListener("close",()=>a()),r&&p.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),d}const Z1=["get","getKey","getAll","getAllKeys","count"],eN=["put","add","delete","clear"],nm=new Map;function oE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(nm.get(e))return nm.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=eN.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Z1.includes(t)))return;const a=async function(u,...d){const p=this.transaction(u,r?"readwrite":"readonly");let h=p.store;return i&&(h=h.index(d.shift())),(await Promise.all([h[t](...d),r&&p.done]))[0]};return nm.set(e,a),a}j1(n=>({...n,get:(e,t,i)=>oE(e,t)||n.get(e,t,i),has:(e,t)=>!!oE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(nN(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function nN(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sm="@firebase/app",aE="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new pg("@firebase/app"),iN="@firebase/app-compat",sN="@firebase/analytics-compat",rN="@firebase/analytics",oN="@firebase/app-check-compat",aN="@firebase/app-check",lN="@firebase/auth",uN="@firebase/auth-compat",cN="@firebase/database",dN="@firebase/data-connect",fN="@firebase/database-compat",hN="@firebase/functions",pN="@firebase/functions-compat",mN="@firebase/installations",gN="@firebase/installations-compat",yN="@firebase/messaging",vN="@firebase/messaging-compat",_N="@firebase/performance",EN="@firebase/performance-compat",TN="@firebase/remote-config",SN="@firebase/remote-config-compat",AN="@firebase/storage",CN="@firebase/storage-compat",wN="@firebase/firestore",IN="@firebase/ai",xN="@firebase/firestore-compat",RN="firebase",bN="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="[DEFAULT]",NN={[Sm]:"fire-core",[iN]:"fire-core-compat",[rN]:"fire-analytics",[sN]:"fire-analytics-compat",[aN]:"fire-app-check",[oN]:"fire-app-check-compat",[lN]:"fire-auth",[uN]:"fire-auth-compat",[cN]:"fire-rtdb",[dN]:"fire-data-connect",[fN]:"fire-rtdb-compat",[hN]:"fire-fn",[pN]:"fire-fn-compat",[mN]:"fire-iid",[gN]:"fire-iid-compat",[yN]:"fire-fcm",[vN]:"fire-fcm-compat",[_N]:"fire-perf",[EN]:"fire-perf-compat",[TN]:"fire-rc",[SN]:"fire-rc-compat",[AN]:"fire-gcs",[CN]:"fire-gcs-compat",[wN]:"fire-fst",[xN]:"fire-fst-compat",[IN]:"fire-vertex","fire-js":"fire-js",[RN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd=new Map,MN=new Map,Cm=new Map;function lE(n,e){try{n.container.addComponent(e)}catch(t){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Na(n){const e=n.name;if(Cm.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;Cm.set(e,n);for(const t of Yd.values())lE(t,n);for(const t of MN.values())lE(t,n);return!0}function gg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function jn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new Mu("app","Firebase",DN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=bN;function VA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Am,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw pr.create("bad-app-name",{appName:String(r)});if(t||(t=bA()),!t)throw pr.create("no-options");const a=Yd.get(r);if(a){if(vr(t,a.options)&&vr(i,a.config))return a;throw pr.create("duplicate-app",{appName:r})}const u=new F1(r);for(const p of Cm.values())u.addComponent(p);const d=new kN(t,i,u);return Yd.set(r,d),d}function UA(n=Am){const e=Yd.get(n);if(!e&&n===Am&&bA())return VA();if(!e)throw pr.create("no-app",{appName:n});return e}function mr(n,e,t){let i=NN[n]??n;t&&(i+=`-${t}`);const r=i.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const u=[`Unable to register library "${i}" with version "${e}":`];r&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(u.join(" "));return}Na(new po(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="firebase-heartbeat-database",VN=1,Eu="firebase-heartbeat-store";let im=null;function LA(){return im||(im=W1(PN,VN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Eu)}catch(t){console.warn(t)}}}}).catch(n=>{throw pr.create("idb-open",{originalErrorMessage:n.message})})),im}async function UN(n){try{const t=(await LA()).transaction(Eu),i=await t.objectStore(Eu).get(OA(n));return await t.done,i}catch(e){if(e instanceof Ss)ys.warn(e.message);else{const t=pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ys.warn(t.message)}}}async function uE(n,e){try{const i=(await LA()).transaction(Eu,"readwrite");await i.objectStore(Eu).put(e,OA(n)),await i.done}catch(t){if(t instanceof Ss)ys.warn(t.message);else{const i=pr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ys.warn(i.message)}}}function OA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=1024,ON=30;class FN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new HN(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=cE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>ON){const u=BN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ys.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=cE(),{heartbeatsToSend:i,unsentEntries:r}=GN(this._heartbeatsCache.heartbeats),a=Kd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ys.warn(t),""}}}function cE(){return new Date().toISOString().substring(0,10)}function GN(n,e=LN){const t=[];let i=n.slice();for(const r of n){const a=t.find(u=>u.agent===r.agent);if(a){if(a.dates.push(r.date),dE(t)>e){a.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),dE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class HN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x1()?R1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await UN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return uE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return uE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function dE(n){return Kd(JSON.stringify({version:2,heartbeats:n})).length}function BN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(n){Na(new po("platform-logger",e=>new tN(e),"PRIVATE")),Na(new po("heartbeat",e=>new FN(e),"PRIVATE")),mr(Sm,aE,n),mr(Sm,aE,"esm2020"),mr("fire-js","")}zN("");var qN="firebase",JN="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr(qN,JN,"app");function FA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KN=FA,GA=new Mu("auth","Firebase",FA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d=new pg("@firebase/auth");function YN(n,...e){$d.logLevel<=qe.WARN&&$d.warn(`Auth (${Ga}): ${n}`,...e)}function bd(n,...e){$d.logLevel<=qe.ERROR&&$d.error(`Auth (${Ga}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(n,...e){throw yg(n,...e)}function Gi(n,...e){return yg(n,...e)}function HA(n,e,t){const i={...KN(),[e]:t};return new Mu("auth","Firebase",i).create(e,{appName:n.name})}function gs(n){return HA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yg(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return GA.create(n,...e)}function xe(n,e,...t){if(!n)throw yg(e,...t)}function ps(n){const e="INTERNAL ASSERTION FAILED: "+n;throw bd(e),new Error(e)}function vs(n,e){n||ps(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function $N(){return fE()==="http:"||fE()==="https:"}function fE(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($N()||A1()||"connection"in navigator)?navigator.onLine:!0}function QN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t){this.shortDelay=e,this.longDelay=t,vs(t>e,"Short delay should be less than long delay!"),this.isMobile=E1()||C1()}get(){return jN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(n,e){vs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZN=new ku(3e4,6e4);function Rr(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function br(n,e,t,i,r={}){return zA(n,r,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const d=Du({key:n.config.apiKey,...u}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const h={method:e,headers:p,...a};return S1()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&Fa(n.emulatorConfig.host)&&(h.credentials="include"),BA.fetch()(await qA(n,n.config.apiHost,t,d),h)})}async function zA(n,e,t){n._canInitEmulator=!1;const i={...XN,...e};try{const r=new tM(n),a=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw vd(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[p,h]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw vd(n,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw vd(n,"email-already-in-use",u);if(p==="USER_DISABLED")throw vd(n,"user-disabled",u);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw HA(n,v,h);mi(n,v)}}catch(r){if(r instanceof Ss)throw r;mi(n,"network-request-failed",{message:String(r)})}}async function Pu(n,e,t,i,r={}){const a=await br(n,e,t,i,r);return"mfaPendingCredential"in a&&mi(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function qA(n,e,t,i){const r=`${e}${t}?${i}`,a=n,u=a.config.emulator?vg(n.config,r):`${n.config.apiScheme}://${r}`;return WN.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function eM(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Gi(this.auth,"network-request-failed")),ZN.get())})}}function vd(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Gi(n,e,i);return r.customData._tokenResponse=t,r}function hE(n){return n!==void 0&&n.enterprise!==void 0}class nM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return eM(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function iM(n,e){return br(n,"GET","/v2/recaptchaConfig",Rr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sM(n,e){return br(n,"POST","/v1/accounts:delete",e)}async function jd(n,e){return br(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rM(n,e=!1){const t=wn(n),i=await t.getIdToken(e),r=_g(i);xe(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:r,token:i,authTime:fu(sm(r.auth_time)),issuedAtTime:fu(sm(r.iat)),expirationTime:fu(sm(r.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function sm(n){return Number(n)*1e3}function _g(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return bd("JWT malformed, contained fewer than 3 sections"),null;try{const r=xA(t);return r?JSON.parse(r):(bd("Failed to decode base64 JWT payload"),null)}catch(r){return bd("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function pE(n){const e=_g(n);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tu(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ss&&oM(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function oM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fu(this.lastLoginAt),this.creationTime=fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qd(n){var E;const e=n.auth,t=await n.getIdToken(),i=await Tu(n,jd(e,{idToken:t}));xe(i==null?void 0:i.users.length,e,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const a=(E=r.providerUserInfo)!=null&&E.length?JA(r.providerUserInfo):[],u=uM(n.providerData,a),d=n.isAnonymous,p=!(n.email&&r.passwordHash)&&!(u!=null&&u.length),h=d?p:!1,v={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:u,metadata:new Im(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(n,v)}async function lM(n){const e=wn(n);await Qd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uM(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function JA(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(n,e){const t=await zA(n,{},async()=>{const i=Du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=n.config,u=await qA(n,r,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return n.emulatorConfig&&Fa(n.emulatorConfig.host)&&(p.credentials="include"),BA.fetch()(u,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function dM(n,e){return br(n,"POST","/v2/accounts:revokeToken",Rr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=pE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:a}=await cM(e,t);this.updateTokensAndExpiration(i,r,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:a}=t,u=new Aa;return i&&(xe(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),r&&(xe(typeof r=="string","internal-error",{appName:e}),u.accessToken=r),a&&(xe(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Aa,this.toJSON())}_performRefresh(){return ps("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(n,e){xe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class di{constructor({uid:e,auth:t,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new aM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Im(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Tu(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return rM(this,e)}reload(){return lM(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new di({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Qd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(gs(this.auth));const e=await this.getIdToken();return await Tu(this,sM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,r=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,h=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:E,emailVerified:T,isAnonymous:I,providerData:D,stsTokenManager:L}=t;xe(E&&L,e,"internal-error");const k=Aa.fromJSON(this.name,L);xe(typeof E=="string",e,"internal-error"),rr(i,e.name),rr(r,e.name),xe(typeof T=="boolean",e,"internal-error"),xe(typeof I=="boolean",e,"internal-error"),rr(a,e.name),rr(u,e.name),rr(d,e.name),rr(p,e.name),rr(h,e.name),rr(v,e.name);const z=new di({uid:E,auth:e,email:r,emailVerified:T,displayName:i,isAnonymous:I,photoURL:u,phoneNumber:a,tenantId:d,stsTokenManager:k,createdAt:h,lastLoginAt:v});return D&&Array.isArray(D)&&(z.providerData=D.map(Z=>({...Z}))),p&&(z._redirectEventId=p),z}static async _fromIdTokenResponse(e,t,i=!1){const r=new Aa;r.updateFromServerResponse(t);const a=new di({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Qd(a),a}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];xe(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?JA(r.providerUserInfo):[],u=!(r.email&&r.passwordHash)&&!(a!=null&&a.length),d=new Aa;d.updateFromIdToken(i);const p=new di({uid:r.localId,auth:e,stsTokenManager:d,isAnonymous:u}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Im(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,h),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=new Map;function ms(n){vs(n instanceof Function,"Expected a class definition");let e=mE.get(n);return e?(vs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,mE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}KA.type="NONE";const gE=KA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(n,e,t){return`firebase:${n}:${e}:${t}`}class Ca{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:a}=this.auth;this.fullUserKey=Nd(this.userKey,r.apiKey,a),this.fullPersistenceKey=Nd("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await jd(this.auth,{idToken:e}).catch(()=>{});return t?di._fromGetAccountInfoResponse(this.auth,t,e):null}return di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ca(ms(gE),e,i);const r=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=r[0]||ms(gE);const u=Nd(i,e.config.apiKey,e.name);let d=null;for(const h of t)try{const v=await h._get(u);if(v){let E;if(typeof v=="string"){const T=await jd(e,{idToken:v}).catch(()=>{});if(!T)break;E=await di._fromGetAccountInfoResponse(e,T,v)}else E=di._fromJSON(e,v);h!==a&&(d=E),a=h;break}}catch{}const p=r.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new Ca(a,e,i):(a=p[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async h=>{if(h!==a)try{await h._remove(u)}catch{}})),new Ca(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WA(e))return"Blackberry";if(ZA(e))return"Webos";if($A(e))return"Safari";if((e.includes("chrome/")||jA(e))&&!e.includes("edge/"))return"Chrome";if(XA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function YA(n=ln()){return/firefox\//i.test(n)}function $A(n=ln()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jA(n=ln()){return/crios\//i.test(n)}function QA(n=ln()){return/iemobile/i.test(n)}function XA(n=ln()){return/android/i.test(n)}function WA(n=ln()){return/blackberry/i.test(n)}function ZA(n=ln()){return/webos/i.test(n)}function Eg(n=ln()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function fM(n=ln()){var e;return Eg(n)&&!!((e=window.navigator)!=null&&e.standalone)}function hM(){return w1()&&document.documentMode===10}function eC(n=ln()){return Eg(n)||XA(n)||ZA(n)||WA(n)||/windows phone/i.test(n)||QA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(n,e=[]){let t;switch(n){case"Browser":t=yE(ln());break;case"Worker":t=`${yE(ln())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ga}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((u,d)=>{try{const p=e(a);u(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mM(n,e={}){return br(n,"GET","/v2/passwordPolicy",Rr(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=6;class yM{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??gM,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vE(this),this.idTokenSubscription=new vE(this),this.beforeStateQueue=new pM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ms(t)),this._initializationPromise=this.queue(async()=>{var i,r,a;if(!this._deleted&&(this.persistenceManager=await Ca.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await jd(this,{idToken:e}),i=await di._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(jn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(a=this.redirectUser)==null?void 0:a._redirectEventId,d=i==null?void 0:i._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&(p!=null&&p.user)&&(i=p.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Qd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(gs(this));const t=e?wn(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ms(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mM(this),t=new yM(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await dM(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ms(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await Ca.create(this,[ms(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,r);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&YN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function So(n){return wn(n)}class vE{constructor(e){this.auth=e,this.observer=null,this.addObserver=k1(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _M(n){Af=n}function nC(n){return Af.loadJS(n)}function EM(){return Af.recaptchaEnterpriseScript}function TM(){return Af.gapiScript}function SM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class AM{constructor(){this.enterprise=new CM}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class CM{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const wM="recaptcha-enterprise",iC="NO_RECAPTCHA";class IM{constructor(e){this.type=wM,this.auth=So(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{iM(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const h=new nM(p);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}}).catch(p=>{d(p)})})}function r(a,u,d){const p=window.grecaptcha;hE(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(h=>{u(h)}).catch(()=>{u(iC)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AM().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{i(this.auth).then(d=>{if(!t&&hE(window.grecaptcha))r(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=EM();p.length!==0&&(p+=d),nC(p).then(()=>{r(d,a,u)}).catch(h=>{u(h)})}}).catch(d=>{u(d)})})}}async function _E(n,e,t,i=!1,r=!1){const a=new IM(n);let u;if(r)u=iC;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,h=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function xm(n,e,t,i,r){var a;if((a=n._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await _E(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await _E(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(n,e){const t=gg(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),a=t.getOptions();if(vr(a,e??{}))return r;mi(r,"already-initialized")}return t.initialize({options:e})}function RM(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(ms);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function bM(n,e,t){const i=So(n);xe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,a=sC(e),{host:u,port:d}=NM(e),p=d===null?"":`:${d}`,h={url:`${a}//${u}${p}/`},v=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){xe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),xe(vr(h,i.config.emulator)&&vr(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,Fa(u)?(MA(`${a}//${u}${p}`),DA("Auth",!0)):MM()}function sC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function NM(n){const e=sC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const a=r[1];return{host:a,port:EE(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:EE(u)}}}function EE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function MM(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ps("not implemented")}_getIdTokenResponse(e){return ps("not implemented")}_linkToIdToken(e,t){return ps("not implemented")}_getReauthenticationResolver(e){return ps("not implemented")}}async function DM(n,e){return br(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kM(n,e){return Pu(n,"POST","/v1/accounts:signInWithPassword",Rr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(n,e){return Pu(n,"POST","/v1/accounts:signInWithEmailLink",Rr(n,e))}async function VM(n,e){return Pu(n,"POST","/v1/accounts:signInWithEmailLink",Rr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends Tg{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Su(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Su(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xm(e,t,"signInWithPassword",kM);case"emailLink":return PM(e,{email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xm(e,i,"signUpPassword",DM);case"emailLink":return VM(e,{idToken:t,email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wa(n,e){return Pu(n,"POST","/v1/accounts:signInWithIdp",Rr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM="http://localhost";class mo extends Tg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):mi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...a}=t;if(!i||!r)return null;const u=new mo(i,r);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return wa(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,wa(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wa(e,t)}buildRequest(){const e={requestUri:UM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Du(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OM(n){const e=su(ru(n)).link,t=e?su(ru(e)).deep_link_id:null,i=su(ru(n)).deep_link_id;return(i?su(ru(i)).link:null)||i||t||e||n}class Sg{constructor(e){const t=su(ru(e)),i=t.apiKey??null,r=t.oobCode??null,a=LM(t.mode??null);xe(i&&r&&a,"argument-error"),this.apiKey=i,this.operation=a,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=OM(e);try{return new Sg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.providerId=Ha.PROVIDER_ID}static credential(e,t){return Su._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Sg.parseLink(t);return xe(i,"argument-error"),Su._fromEmailAndCode(e,i.code,i.tenantId)}}Ha.PROVIDER_ID="password";Ha.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ha.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends rC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends Vu{constructor(){super("facebook.com")}static credential(e){return mo._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.FACEBOOK_SIGN_IN_METHOD="facebook.com";or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return mo._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ar.credential(t,i)}catch{return null}}}ar.GOOGLE_SIGN_IN_METHOD="google.com";ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends Vu{constructor(){super("github.com")}static credential(e){return mo._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends Vu{constructor(){super("twitter.com")}static credential(e,t){return mo._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ur.credential(t,i)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FM(n,e){return Pu(n,"POST","/v1/accounts:signUp",Rr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const a=await di._fromIdTokenResponse(e,i,r),u=TE(i);return new go({user:a,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=TE(i);return new go({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function TE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd extends Ss{constructor(e,t,i,r){super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Xd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new Xd(e,t,i,r)}}function oC(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Xd._fromErrorAndOperation(n,a,e,i):a})}async function GM(n,e,t=!1){const i=await Tu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return go._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HM(n,e,t=!1){const{auth:i}=n;if(jn(i.app))return Promise.reject(gs(i));const r="reauthenticate";try{const a=await Tu(n,oC(i,r,e,n),t);xe(a.idToken,i,"internal-error");const u=_g(a.idToken);xe(u,i,"internal-error");const{sub:d}=u;return xe(n.uid===d,i,"user-mismatch"),go._forOperation(n,r,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&mi(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC(n,e,t=!1){if(jn(n.app))return Promise.reject(gs(n));const i="signIn",r=await oC(n,i,e),a=await go._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(a.user),a}async function BM(n,e){return aC(So(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(n){const e=So(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zM(n,e,t){if(jn(n.app))return Promise.reject(gs(n));const i=So(n),u=await xm(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FM).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&lC(n),p}),d=await go._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(d.user),d}function qM(n,e,t){return jn(n.app)?Promise.reject(gs(n)):BM(wn(n),Ha.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&lC(n),i})}function JM(n,e,t,i){return wn(n).onIdTokenChanged(e,t,i)}function KM(n,e,t){return wn(n).beforeAuthStateChanged(e,t)}const Wd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Wd,"1"),this.storage.removeItem(Wd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=1e3,$M=10;class cC extends uC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,p)=>{this.notifyListeners(u,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);hM()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,$M):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},YM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}cC.type="LOCAL";const jM=cC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC extends uC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}dC.type="SESSION";const fC=dC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new Cf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:a}=t.data,u=this.handlersMap[r];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const d=Array.from(u).map(async h=>h(t.origin,a)),p=await QM(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,u;return new Promise((d,p)=>{const h=Ag("",20);r.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);u={messageChannel:r,onMessage(E){const T=E;if(T.data.eventId===h)switch(T.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(T.data.response);break;default:clearTimeout(v),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(u),r.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[r.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(){return window}function WM(n){Hi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function ZM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function e2(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function t2(){return hC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="firebaseLocalStorageDb",n2=1,Zd="firebaseLocalStorage",mC="fbase_key";class Uu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function wf(n,e){return n.transaction([Zd],e?"readwrite":"readonly").objectStore(Zd)}function i2(){const n=indexedDB.deleteDatabase(pC);return new Uu(n).toPromise()}function Rm(){const n=indexedDB.open(pC,n2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Zd,{keyPath:mC})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Zd)?e(i):(i.close(),await i2(),e(await Rm()))})})}async function SE(n,e,t){const i=wf(n,!0).put({[mC]:e,value:t});return new Uu(i).toPromise()}async function s2(n,e){const t=wf(n,!1).get(e),i=await new Uu(t).toPromise();return i===void 0?null:i.value}function AE(n,e){const t=wf(n,!0).delete(e);return new Uu(t).toPromise()}const r2=800,o2=3;class gC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>o2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cf._getInstance(t2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await ZM(),!this.activeServiceWorker)return;this.sender=new XM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||e2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rm();return await SE(e,Wd,"1"),await AE(e,Wd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>SE(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>s2(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>AE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=wf(r,!1).getAll();return new Uu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),r2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gC.type="LOCAL";const a2=gC;new ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(n,e){return e?ms(e):(xe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg extends Tg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function u2(n){return aC(n.auth,new Cg(n),n.bypassAuthState)}function c2(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),HM(t,new Cg(n),n.bypassAuthState)}async function d2(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),GM(t,new Cg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,t,i,r,a=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return u2;case"linkViaPopup":case"linkViaRedirect":return d2;case"reauthViaPopup":case"reauthViaRedirect":return c2;default:mi(this.auth,"internal-error")}}resolve(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=new ku(2e3,1e4);class Ea extends yC{constructor(e,t,i,r,a){super(e,t,r,a),this.provider=i,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){vs(this.filter.length===1,"Popup operations only handle one event");const e=Ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,f2.get())};e()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="pendingRedirect",Md=new Map;class p2 extends yC{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Md.get(this.auth._key());if(!e){try{const i=await m2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Md.set(this.auth._key(),e)}return this.bypassAuthState||Md.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function m2(n,e){const t=v2(e),i=y2(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function g2(n,e){Md.set(n._key(),e)}function y2(n){return ms(n._redirectPersistence)}function v2(n){return Nd(h2,n.config.apiKey,n.name)}async function _2(n,e,t=!1){if(jn(n.app))return Promise.reject(gs(n));const i=So(n),r=l2(i,e),u=await new p2(i,r,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=600*1e3;class T2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!S2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!vC(e)){const r=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError(Gi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E2&&this.cachedEventUids.clear(),this.cachedEventUids.has(CE(e))}saveEventToCache(e){this.cachedEventUids.add(CE(e)),this.lastProcessedEventTime=Date.now()}}function CE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function vC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function S2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A2(n,e={}){return br(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,w2=/^https?/;async function I2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await A2(n);for(const t of e)try{if(x2(t))return}catch{}mi(n,"unauthorized-domain")}function x2(n){const e=wm(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!w2.test(t))return!1;if(C2.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=new ku(3e4,6e4);function wE(){const n=Hi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function b2(n){return new Promise((e,t)=>{var r,a,u;function i(){wE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wE(),t(Gi(n,"network-request-failed"))},timeout:R2.get()})}if((a=(r=Hi().gapi)==null?void 0:r.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((u=Hi().gapi)!=null&&u.load)i();else{const d=SM("iframefcb");return Hi()[d]=()=>{gapi.load?i():t(Gi(n,"network-request-failed"))},nC(`${TM()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Dd=null,e})}let Dd=null;function N2(n){return Dd=Dd||b2(n),Dd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=new ku(5e3,15e3),D2="__/auth/iframe",k2="emulator/auth/iframe",P2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U2(n){const e=n.config;xe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?vg(e,k2):`https://${n.config.authDomain}/${D2}`,i={apiKey:e.apiKey,appName:n.name,v:Ga},r=V2.get(n.config.apiHost);r&&(i.eid=r);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Du(i).slice(1)}`}async function L2(n){const e=await N2(n),t=Hi().gapi;return xe(t,n,"internal-error"),e.open({where:document.body,url:U2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P2,dontclear:!0},i=>new Promise(async(r,a)=>{await i.restyle({setHideOnLeave:!1});const u=Gi(n,"network-request-failed"),d=Hi().setTimeout(()=>{a(u)},M2.get());function p(){Hi().clearTimeout(d),r(i)}i.ping(p).then(p,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},F2=500,G2=600,H2="_blank",B2="http://localhost";class IE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z2(n,e,t,i=F2,r=G2){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p={...O2,width:i.toString(),height:r.toString(),top:a,left:u},h=ln().toLowerCase();t&&(d=jA(h)?H2:t),YA(h)&&(e=e||B2,p.scrollbars="yes");const v=Object.entries(p).reduce((T,[I,D])=>`${T}${I}=${D},`,"");if(fM(h)&&d!=="_self")return q2(e||"",d),new IE(null);const E=window.open(e||"",d,v);xe(E,n,"popup-blocked");try{E.focus()}catch{}return new IE(E)}function q2(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="__/auth/handler",K2="emulator/auth/handler",Y2=encodeURIComponent("fac");async function xE(n,e,t,i,r,a){xe(n.config.authDomain,n,"auth-domain-config-required"),xe(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ga,eventId:r};if(e instanceof rC){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",D1(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))u[v]=E}if(e instanceof Vu){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),h=p?`#${Y2}=${encodeURIComponent(p)}`:"";return`${$2(n)}?${Du(d).slice(1)}${h}`}function $2({config:n}){return n.emulator?vg(n,K2):`https://${n.authDomain}/${J2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="webStorageSupport";class j2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fC,this._completeRedirectFn=_2,this._overrideRedirectResult=g2}async _openPopup(e,t,i,r){var u;vs((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const a=await xE(e,t,i,wm(),r);return z2(e,a,Ag())}async _openRedirect(e,t,i,r){await this._originValidation(e);const a=await xE(e,t,i,wm(),r);return WM(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:a}=this.eventManagers[t];return r?Promise.resolve(r):(vs(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await L2(e),i=new T2(e);return t.register("authEvent",r=>(xe(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rm,{type:rm},r=>{var u;const a=(u=r==null?void 0:r[0])==null?void 0:u[rm];a!==void 0&&t(!!a),mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=I2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return eC()||$A()||Eg()}}const Q2=j2;var RE="@firebase/auth",bE="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Z2(n){Na(new po("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;xe(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tC(n)},h=new vM(i,r,a,p);return RM(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Na(new po("auth-internal",e=>{const t=So(e.getProvider("auth").getImmediate());return(i=>new X2(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(RE,bE,W2(n)),mr(RE,bE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=300,tD=NA("authIdTokenMaxAge")||eD;let NE=null;const nD=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>tD)return;const r=t==null?void 0:t.token;NE!==r&&(NE=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function iD(n=UA()){const e=gg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=xM(n,{popupRedirectResolver:Q2,persistence:[a2,jM,fC]}),i=NA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=nD(a.toString());KM(t,u,()=>u(t.currentUser)),JM(t,d=>u(d))}}const r=RA("auth");return r&&bM(t,`http://${r}`),t}function sD(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}_M({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const a=Gi("internal-error");a.customData=r,t(a)},i.type="text/javascript",i.charset="UTF-8",sD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Z2("Browser");var ME=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gr,_C;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,b){function N(){}N.prototype=b.prototype,M.F=b.prototype,M.prototype=new N,M.prototype.constructor=M,M.D=function(V,U,H){for(var P=Array(arguments.length-2),he=2;he<arguments.length;he++)P[he-2]=arguments[he];return b.prototype[U].apply(V,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(M,b,N){N||(N=0);const V=Array(16);if(typeof b=="string")for(var U=0;U<16;++U)V[U]=b.charCodeAt(N++)|b.charCodeAt(N++)<<8|b.charCodeAt(N++)<<16|b.charCodeAt(N++)<<24;else for(U=0;U<16;++U)V[U]=b[N++]|b[N++]<<8|b[N++]<<16|b[N++]<<24;b=M.g[0],N=M.g[1],U=M.g[2];let H=M.g[3],P;P=b+(H^N&(U^H))+V[0]+3614090360&4294967295,b=N+(P<<7&4294967295|P>>>25),P=H+(U^b&(N^U))+V[1]+3905402710&4294967295,H=b+(P<<12&4294967295|P>>>20),P=U+(N^H&(b^N))+V[2]+606105819&4294967295,U=H+(P<<17&4294967295|P>>>15),P=N+(b^U&(H^b))+V[3]+3250441966&4294967295,N=U+(P<<22&4294967295|P>>>10),P=b+(H^N&(U^H))+V[4]+4118548399&4294967295,b=N+(P<<7&4294967295|P>>>25),P=H+(U^b&(N^U))+V[5]+1200080426&4294967295,H=b+(P<<12&4294967295|P>>>20),P=U+(N^H&(b^N))+V[6]+2821735955&4294967295,U=H+(P<<17&4294967295|P>>>15),P=N+(b^U&(H^b))+V[7]+4249261313&4294967295,N=U+(P<<22&4294967295|P>>>10),P=b+(H^N&(U^H))+V[8]+1770035416&4294967295,b=N+(P<<7&4294967295|P>>>25),P=H+(U^b&(N^U))+V[9]+2336552879&4294967295,H=b+(P<<12&4294967295|P>>>20),P=U+(N^H&(b^N))+V[10]+4294925233&4294967295,U=H+(P<<17&4294967295|P>>>15),P=N+(b^U&(H^b))+V[11]+2304563134&4294967295,N=U+(P<<22&4294967295|P>>>10),P=b+(H^N&(U^H))+V[12]+1804603682&4294967295,b=N+(P<<7&4294967295|P>>>25),P=H+(U^b&(N^U))+V[13]+4254626195&4294967295,H=b+(P<<12&4294967295|P>>>20),P=U+(N^H&(b^N))+V[14]+2792965006&4294967295,U=H+(P<<17&4294967295|P>>>15),P=N+(b^U&(H^b))+V[15]+1236535329&4294967295,N=U+(P<<22&4294967295|P>>>10),P=b+(U^H&(N^U))+V[1]+4129170786&4294967295,b=N+(P<<5&4294967295|P>>>27),P=H+(N^U&(b^N))+V[6]+3225465664&4294967295,H=b+(P<<9&4294967295|P>>>23),P=U+(b^N&(H^b))+V[11]+643717713&4294967295,U=H+(P<<14&4294967295|P>>>18),P=N+(H^b&(U^H))+V[0]+3921069994&4294967295,N=U+(P<<20&4294967295|P>>>12),P=b+(U^H&(N^U))+V[5]+3593408605&4294967295,b=N+(P<<5&4294967295|P>>>27),P=H+(N^U&(b^N))+V[10]+38016083&4294967295,H=b+(P<<9&4294967295|P>>>23),P=U+(b^N&(H^b))+V[15]+3634488961&4294967295,U=H+(P<<14&4294967295|P>>>18),P=N+(H^b&(U^H))+V[4]+3889429448&4294967295,N=U+(P<<20&4294967295|P>>>12),P=b+(U^H&(N^U))+V[9]+568446438&4294967295,b=N+(P<<5&4294967295|P>>>27),P=H+(N^U&(b^N))+V[14]+3275163606&4294967295,H=b+(P<<9&4294967295|P>>>23),P=U+(b^N&(H^b))+V[3]+4107603335&4294967295,U=H+(P<<14&4294967295|P>>>18),P=N+(H^b&(U^H))+V[8]+1163531501&4294967295,N=U+(P<<20&4294967295|P>>>12),P=b+(U^H&(N^U))+V[13]+2850285829&4294967295,b=N+(P<<5&4294967295|P>>>27),P=H+(N^U&(b^N))+V[2]+4243563512&4294967295,H=b+(P<<9&4294967295|P>>>23),P=U+(b^N&(H^b))+V[7]+1735328473&4294967295,U=H+(P<<14&4294967295|P>>>18),P=N+(H^b&(U^H))+V[12]+2368359562&4294967295,N=U+(P<<20&4294967295|P>>>12),P=b+(N^U^H)+V[5]+4294588738&4294967295,b=N+(P<<4&4294967295|P>>>28),P=H+(b^N^U)+V[8]+2272392833&4294967295,H=b+(P<<11&4294967295|P>>>21),P=U+(H^b^N)+V[11]+1839030562&4294967295,U=H+(P<<16&4294967295|P>>>16),P=N+(U^H^b)+V[14]+4259657740&4294967295,N=U+(P<<23&4294967295|P>>>9),P=b+(N^U^H)+V[1]+2763975236&4294967295,b=N+(P<<4&4294967295|P>>>28),P=H+(b^N^U)+V[4]+1272893353&4294967295,H=b+(P<<11&4294967295|P>>>21),P=U+(H^b^N)+V[7]+4139469664&4294967295,U=H+(P<<16&4294967295|P>>>16),P=N+(U^H^b)+V[10]+3200236656&4294967295,N=U+(P<<23&4294967295|P>>>9),P=b+(N^U^H)+V[13]+681279174&4294967295,b=N+(P<<4&4294967295|P>>>28),P=H+(b^N^U)+V[0]+3936430074&4294967295,H=b+(P<<11&4294967295|P>>>21),P=U+(H^b^N)+V[3]+3572445317&4294967295,U=H+(P<<16&4294967295|P>>>16),P=N+(U^H^b)+V[6]+76029189&4294967295,N=U+(P<<23&4294967295|P>>>9),P=b+(N^U^H)+V[9]+3654602809&4294967295,b=N+(P<<4&4294967295|P>>>28),P=H+(b^N^U)+V[12]+3873151461&4294967295,H=b+(P<<11&4294967295|P>>>21),P=U+(H^b^N)+V[15]+530742520&4294967295,U=H+(P<<16&4294967295|P>>>16),P=N+(U^H^b)+V[2]+3299628645&4294967295,N=U+(P<<23&4294967295|P>>>9),P=b+(U^(N|~H))+V[0]+4096336452&4294967295,b=N+(P<<6&4294967295|P>>>26),P=H+(N^(b|~U))+V[7]+1126891415&4294967295,H=b+(P<<10&4294967295|P>>>22),P=U+(b^(H|~N))+V[14]+2878612391&4294967295,U=H+(P<<15&4294967295|P>>>17),P=N+(H^(U|~b))+V[5]+4237533241&4294967295,N=U+(P<<21&4294967295|P>>>11),P=b+(U^(N|~H))+V[12]+1700485571&4294967295,b=N+(P<<6&4294967295|P>>>26),P=H+(N^(b|~U))+V[3]+2399980690&4294967295,H=b+(P<<10&4294967295|P>>>22),P=U+(b^(H|~N))+V[10]+4293915773&4294967295,U=H+(P<<15&4294967295|P>>>17),P=N+(H^(U|~b))+V[1]+2240044497&4294967295,N=U+(P<<21&4294967295|P>>>11),P=b+(U^(N|~H))+V[8]+1873313359&4294967295,b=N+(P<<6&4294967295|P>>>26),P=H+(N^(b|~U))+V[15]+4264355552&4294967295,H=b+(P<<10&4294967295|P>>>22),P=U+(b^(H|~N))+V[6]+2734768916&4294967295,U=H+(P<<15&4294967295|P>>>17),P=N+(H^(U|~b))+V[13]+1309151649&4294967295,N=U+(P<<21&4294967295|P>>>11),P=b+(U^(N|~H))+V[4]+4149444226&4294967295,b=N+(P<<6&4294967295|P>>>26),P=H+(N^(b|~U))+V[11]+3174756917&4294967295,H=b+(P<<10&4294967295|P>>>22),P=U+(b^(H|~N))+V[2]+718787259&4294967295,U=H+(P<<15&4294967295|P>>>17),P=N+(H^(U|~b))+V[9]+3951481745&4294967295,M.g[0]=M.g[0]+b&4294967295,M.g[1]=M.g[1]+(U+(P<<21&4294967295|P>>>11))&4294967295,M.g[2]=M.g[2]+U&4294967295,M.g[3]=M.g[3]+H&4294967295}i.prototype.v=function(M,b){b===void 0&&(b=M.length);const N=b-this.blockSize,V=this.C;let U=this.h,H=0;for(;H<b;){if(U==0)for(;H<=N;)r(this,M,H),H+=this.blockSize;if(typeof M=="string"){for(;H<b;)if(V[U++]=M.charCodeAt(H++),U==this.blockSize){r(this,V),U=0;break}}else for(;H<b;)if(V[U++]=M[H++],U==this.blockSize){r(this,V),U=0;break}}this.h=U,this.o+=b},i.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var b=1;b<M.length-8;++b)M[b]=0;b=this.o*8;for(var N=M.length-8;N<M.length;++N)M[N]=b&255,b/=256;for(this.v(M),M=Array(16),b=0,N=0;N<4;++N)for(let V=0;V<32;V+=8)M[b++]=this.g[N]>>>V&255;return M};function a(M,b){var N=d;return Object.prototype.hasOwnProperty.call(N,M)?N[M]:N[M]=b(M)}function u(M,b){this.h=b;const N=[];let V=!0;for(let U=M.length-1;U>=0;U--){const H=M[U]|0;V&&H==b||(N[U]=H,V=!1)}this.g=N}var d={};function p(M){return-128<=M&&M<128?a(M,function(b){return new u([b|0],b<0?-1:0)}):new u([M|0],M<0?-1:0)}function h(M){if(isNaN(M)||!isFinite(M))return E;if(M<0)return k(h(-M));const b=[];let N=1;for(let V=0;M>=N;V++)b[V]=M/N|0,N*=4294967296;return new u(b,0)}function v(M,b){if(M.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(M.charAt(0)=="-")return k(v(M.substring(1),b));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=h(Math.pow(b,8));let V=E;for(let H=0;H<M.length;H+=8){var U=Math.min(8,M.length-H);const P=parseInt(M.substring(H,H+U),b);U<8?(U=h(Math.pow(b,U)),V=V.j(U).add(h(P))):(V=V.j(N),V=V.add(h(P)))}return V}var E=p(0),T=p(1),I=p(16777216);n=u.prototype,n.m=function(){if(L(this))return-k(this).m();let M=0,b=1;for(let N=0;N<this.g.length;N++){const V=this.i(N);M+=(V>=0?V:4294967296+V)*b,b*=4294967296}return M},n.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(D(this))return"0";if(L(this))return"-"+k(this).toString(M);const b=h(Math.pow(M,6));var N=this;let V="";for(;;){const U=oe(N,b).g;N=z(N,U.j(b));let H=((N.g.length>0?N.g[0]:N.h)>>>0).toString(M);if(N=U,D(N))return H+V;for(;H.length<6;)H="0"+H;V=H+V}},n.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function D(M){if(M.h!=0)return!1;for(let b=0;b<M.g.length;b++)if(M.g[b]!=0)return!1;return!0}function L(M){return M.h==-1}n.l=function(M){return M=z(this,M),L(M)?-1:D(M)?0:1};function k(M){const b=M.g.length,N=[];for(let V=0;V<b;V++)N[V]=~M.g[V];return new u(N,~M.h).add(T)}n.abs=function(){return L(this)?k(this):this},n.add=function(M){const b=Math.max(this.g.length,M.g.length),N=[];let V=0;for(let U=0;U<=b;U++){let H=V+(this.i(U)&65535)+(M.i(U)&65535),P=(H>>>16)+(this.i(U)>>>16)+(M.i(U)>>>16);V=P>>>16,H&=65535,P&=65535,N[U]=P<<16|H}return new u(N,N[N.length-1]&-2147483648?-1:0)};function z(M,b){return M.add(k(b))}n.j=function(M){if(D(this)||D(M))return E;if(L(this))return L(M)?k(this).j(k(M)):k(k(this).j(M));if(L(M))return k(this.j(k(M)));if(this.l(I)<0&&M.l(I)<0)return h(this.m()*M.m());const b=this.g.length+M.g.length,N=[];for(var V=0;V<2*b;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(let U=0;U<M.g.length;U++){const H=this.i(V)>>>16,P=this.i(V)&65535,he=M.i(U)>>>16,Ce=M.i(U)&65535;N[2*V+2*U]+=P*Ce,Z(N,2*V+2*U),N[2*V+2*U+1]+=H*Ce,Z(N,2*V+2*U+1),N[2*V+2*U+1]+=P*he,Z(N,2*V+2*U+1),N[2*V+2*U+2]+=H*he,Z(N,2*V+2*U+2)}for(M=0;M<b;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=b;M<2*b;M++)N[M]=0;return new u(N,0)};function Z(M,b){for(;(M[b]&65535)!=M[b];)M[b+1]+=M[b]>>>16,M[b]&=65535,b++}function j(M,b){this.g=M,this.h=b}function oe(M,b){if(D(b))throw Error("division by zero");if(D(M))return new j(E,E);if(L(M))return b=oe(k(M),b),new j(k(b.g),k(b.h));if(L(b))return b=oe(M,k(b)),new j(k(b.g),b.h);if(M.g.length>30){if(L(M)||L(b))throw Error("slowDivide_ only works with positive integers.");for(var N=T,V=b;V.l(M)<=0;)N=Q(N),V=Q(V);var U=fe(N,1),H=fe(V,1);for(V=fe(V,2),N=fe(N,2);!D(V);){var P=H.add(V);P.l(M)<=0&&(U=U.add(N),H=P),V=fe(V,1),N=fe(N,1)}return b=z(M,U.j(b)),new j(U,b)}for(U=E;M.l(b)>=0;){for(N=Math.max(1,Math.floor(M.m()/b.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),H=h(N),P=H.j(b);L(P)||P.l(M)>0;)N-=V,H=h(N),P=H.j(b);D(H)&&(H=T),U=U.add(H),M=z(M,P)}return new j(U,M)}n.B=function(M){return oe(this,M).h},n.and=function(M){const b=Math.max(this.g.length,M.g.length),N=[];for(let V=0;V<b;V++)N[V]=this.i(V)&M.i(V);return new u(N,this.h&M.h)},n.or=function(M){const b=Math.max(this.g.length,M.g.length),N=[];for(let V=0;V<b;V++)N[V]=this.i(V)|M.i(V);return new u(N,this.h|M.h)},n.xor=function(M){const b=Math.max(this.g.length,M.g.length),N=[];for(let V=0;V<b;V++)N[V]=this.i(V)^M.i(V);return new u(N,this.h^M.h)};function Q(M){const b=M.g.length+1,N=[];for(let V=0;V<b;V++)N[V]=M.i(V)<<1|M.i(V-1)>>>31;return new u(N,M.h)}function fe(M,b){const N=b>>5;b%=32;const V=M.g.length-N,U=[];for(let H=0;H<V;H++)U[H]=b>0?M.i(H+N)>>>b|M.i(H+N+1)<<32-b:M.i(H+N);return new u(U,M.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,_C=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=h,u.fromString=v,gr=u}).apply(typeof ME<"u"?ME:typeof self<"u"?self:typeof window<"u"?window:{});var _d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var EC,ou,TC,kd,bm,SC,AC,CC;(function(){var n,e=Object.defineProperty;function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof _d=="object"&&_d];for(var S=0;S<g.length;++S){var w=g[S];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function r(g,S){if(S)e:{var w=i;g=g.split(".");for(var R=0;R<g.length-1;R++){var q=g[R];if(!(q in w))break e;w=w[q]}g=g[g.length-1],R=w[g],S=S(R),S!=R&&S!=null&&e(w,g,{configurable:!0,writable:!0,value:S})}}r("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(g){return g||function(S){var w=[],R;for(R in S)Object.prototype.hasOwnProperty.call(S,R)&&w.push([R,S[R]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function d(g){var S=typeof g;return S=="object"&&g!=null||S=="function"}function p(g,S,w){return g.call.apply(g.bind,arguments)}function h(g,S,w){return h=p,h.apply(null,arguments)}function v(g,S){var w=Array.prototype.slice.call(arguments,1);return function(){var R=w.slice();return R.push.apply(R,arguments),g.apply(this,R)}}function E(g,S){function w(){}w.prototype=S.prototype,g.Z=S.prototype,g.prototype=new w,g.prototype.constructor=g,g.Ob=function(R,q,X){for(var de=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)de[Ue-2]=arguments[Ue];return S.prototype[q].apply(R,de)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function I(g){const S=g.length;if(S>0){const w=Array(S);for(let R=0;R<S;R++)w[R]=g[R];return w}return[]}function D(g,S){for(let R=1;R<arguments.length;R++){const q=arguments[R];var w=typeof q;if(w=w!="object"?w:q?Array.isArray(q)?"array":w:"null",w=="array"||w=="object"&&typeof q.length=="number"){w=g.length||0;const X=q.length||0;g.length=w+X;for(let de=0;de<X;de++)g[w+de]=q[de]}else g.push(q)}}class L{constructor(S,w){this.i=S,this.j=w,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function k(g){u.setTimeout(()=>{throw g},0)}function z(){var g=M;let S=null;return g.g&&(S=g.g,g.g=g.g.next,g.g||(g.h=null),S.next=null),S}class Z{constructor(){this.h=this.g=null}add(S,w){const R=j.get();R.set(S,w),this.h?this.h.next=R:this.g=R,this.h=R}}var j=new L(()=>new oe,g=>g.reset());class oe{constructor(){this.next=this.g=this.h=null}set(S,w){this.h=S,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,fe=!1,M=new Z,b=()=>{const g=Promise.resolve(void 0);Q=()=>{g.then(N)}};function N(){for(var g;g=z();){try{g.h.call(g.g)}catch(w){k(w)}var S=j;S.j(g),S.h<100&&(S.h++,g.next=S.g,S.g=g)}fe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(g,S){this.type=g,this.g=this.target=S,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,S=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const w=()=>{};u.addEventListener("test",w,S),u.removeEventListener("test",w,S)}catch{}return g})();function P(g){return/^[\s\xa0]*$/.test(g)}function he(g,S){U.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,S)}E(he,U),he.prototype.init=function(g,S){const w=this.type=g.type,R=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=S,S=g.relatedTarget,S||(w=="mouseover"?S=g.fromElement:w=="mouseout"&&(S=g.toElement)),this.relatedTarget=S,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),K=0;function ae(g,S,w,R,q){this.listener=g,this.proxy=null,this.src=S,this.type=w,this.capture=!!R,this.ha=q,this.key=++K,this.da=this.fa=!1}function pe(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function be(g,S,w){for(const R in g)S.call(w,g[R],R,g)}function ke(g,S){for(const w in g)S.call(void 0,g[w],w,g)}function F(g){const S={};for(const w in g)S[w]=g[w];return S}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(g,S){let w,R;for(let q=1;q<arguments.length;q++){R=arguments[q];for(w in R)g[w]=R[w];for(let X=0;X<te.length;X++)w=te[X],Object.prototype.hasOwnProperty.call(R,w)&&(g[w]=R[w])}}function me(g){this.src=g,this.g={},this.h=0}me.prototype.add=function(g,S,w,R,q){const X=g.toString();g=this.g[X],g||(g=this.g[X]=[],this.h++);const de=ye(g,S,R,q);return de>-1?(S=g[de],w||(S.fa=!1)):(S=new ae(S,this.src,X,!!R,q),S.fa=w,g.push(S)),S};function ue(g,S){const w=S.type;if(w in g.g){var R=g.g[w],q=Array.prototype.indexOf.call(R,S,void 0),X;(X=q>=0)&&Array.prototype.splice.call(R,q,1),X&&(pe(S),g.g[w].length==0&&(delete g.g[w],g.h--))}}function ye(g,S,w,R){for(let q=0;q<g.length;++q){const X=g[q];if(!X.da&&X.listener==S&&X.capture==!!w&&X.ha==R)return q}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),We={};function Oe(g,S,w,R,q){if(Array.isArray(S)){for(let X=0;X<S.length;X++)Oe(g,S[X],w,R,q);return null}return w=Xa(w),g&&g[Ce]?g.J(S,w,d(R)?!!R.capture:!1,q):mn(g,S,w,!1,R,q)}function mn(g,S,w,R,q,X){if(!S)throw Error("Invalid event type");const de=d(q)?!!q.capture:!!q;let Ue=kr(g);if(Ue||(g[Se]=Ue=new me(g)),w=Ue.add(S,w,R,de,X),w.proxy)return w;if(R=wt(),w.proxy=R,R.src=g,R.listener=w,g.addEventListener)H||(q=de),q===void 0&&(q=!1),g.addEventListener(S.toString(),R,q);else if(g.attachEvent)g.attachEvent(yi(S.toString()),R);else if(g.addListener&&g.removeListener)g.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return w}function wt(){function g(w){return S.call(g.src,g.listener,w)}const S=ja;return g}function ws(g,S,w,R,q){if(Array.isArray(S))for(var X=0;X<S.length;X++)ws(g,S[X],w,R,q);else R=d(R)?!!R.capture:!!R,w=Xa(w),g&&g[Ce]?(g=g.i,X=String(S).toString(),X in g.g&&(S=g.g[X],w=ye(S,w,R,q),w>-1&&(pe(S[w]),Array.prototype.splice.call(S,w,1),S.length==0&&(delete g.g[X],g.h--)))):g&&(g=kr(g))&&(S=g.g[S.toString()],g=-1,S&&(g=ye(S,w,R,q)),(w=g>-1?S[g]:null)&&Io(w))}function Io(g){if(typeof g!="number"&&g&&!g.da){var S=g.src;if(S&&S[Ce])ue(S.i,g);else{var w=g.type,R=g.proxy;S.removeEventListener?S.removeEventListener(w,R,g.capture):S.detachEvent?S.detachEvent(yi(w),R):S.addListener&&S.removeListener&&S.removeListener(R),(w=kr(S))?(ue(w,g),w.h==0&&(w.src=null,S[Se]=null)):pe(g)}}}function yi(g){return g in We?We[g]:We[g]="on"+g}function ja(g,S){if(g.da)g=!0;else{S=new he(S,this);const w=g.listener,R=g.ha||g.src;g.fa&&Io(g),g=w.call(R,S)}return g}function kr(g){return g=g[Se],g instanceof me?g:null}var Qa="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xa(g){return typeof g=="function"?g:(g[Qa]||(g[Qa]=function(S){return g.handleEvent(S)}),g[Qa])}function It(){V.call(this),this.i=new me(this),this.M=this,this.G=null}E(It,V),It.prototype[Ce]=!0,It.prototype.removeEventListener=function(g,S,w,R){ws(this,g,S,w,R)};function Lt(g,S){var w,R=g.G;if(R)for(w=[];R;R=R.G)w.push(R);if(g=g.M,R=S.type||S,typeof S=="string")S=new U(S,g);else if(S instanceof U)S.target=S.target||g;else{var q=S;S=new U(R,g),ce(S,q)}q=!0;let X,de;if(w)for(de=w.length-1;de>=0;de--)X=S.g=w[de],q=Is(X,R,!0,S)&&q;if(X=S.g=g,q=Is(X,R,!0,S)&&q,q=Is(X,R,!1,S)&&q,w)for(de=0;de<w.length;de++)X=S.g=w[de],q=Is(X,R,!1,S)&&q}It.prototype.N=function(){if(It.Z.N.call(this),this.i){var g=this.i;for(const S in g.g){const w=g.g[S];for(let R=0;R<w.length;R++)pe(w[R]);delete g.g[S],g.h--}}this.G=null},It.prototype.J=function(g,S,w,R){return this.i.add(String(g),S,!1,w,R)},It.prototype.K=function(g,S,w,R){return this.i.add(String(g),S,!0,w,R)};function Is(g,S,w,R){if(S=g.i.g[String(S)],!S)return!0;S=S.concat();let q=!0;for(let X=0;X<S.length;++X){const de=S[X];if(de&&!de.da&&de.capture==w){const Ue=de.listener,Et=de.ha||de.src;de.fa&&ue(g.i,de),q=Ue.call(Et,R)!==!1&&q}}return q&&!R.defaultPrevented}function $f(g,S){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=h(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:u.setTimeout(g,S||0)}function zu(g){g.g=$f(()=>{g.g=null,g.i&&(g.i=!1,zu(g))},g.l);const S=g.h;g.h=null,g.m.apply(null,S)}class un extends V{constructor(S,w){super(),this.m=S,this.l=w,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:zu(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(g){V.call(this),this.h=g,this.g={}}E(Pr,V);var Wa=[];function Za(g){be(g.g,function(S,w){this.g.hasOwnProperty(w)&&Io(S)},g),g.g={}}Pr.prototype.N=function(){Pr.Z.N.call(this),Za(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xs=u.JSON.stringify,jf=u.JSON.parse,qu=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function Ju(){}function Ku(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){U.call(this,"d")}E(Yt,U);function Un(){U.call(this,"c")}E(Un,U);var _t={},Yu=null;function xo(){return Yu=Yu||new It}_t.Ia="serverreachability";function $u(g){U.call(this,_t.Ia,g)}E($u,U);function vi(g){const S=xo();Lt(S,new $u(S))}_t.STAT_EVENT="statevent";function Vr(g,S){U.call(this,_t.STAT_EVENT,g),this.stat=S}E(Vr,U);function xt(g){const S=xo();Lt(S,new Vr(S,g))}_t.Ja="timingevent";function _i(g,S){U.call(this,_t.Ja,g),this.size=S}E(_i,U);function Ei(g,S){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},S)}function ei(){this.g=!0}ei.prototype.ua=function(){this.g=!1};function Qf(g,S,w,R,q,X){g.info(function(){if(g.g)if(X){var de="",Ue=X.split("&");for(let Ze=0;Ze<Ue.length;Ze++){var Et=Ue[Ze].split("=");if(Et.length>1){const ht=Et[0];Et=Et[1];const Gn=ht.split("_");de=Gn.length>=2&&Gn[1]=="type"?de+(ht+"="+Et+"&"):de+(ht+"=redacted&")}}}else de=null;else de=X;return"XMLHTTP REQ ("+R+") [attempt "+q+"]: "+S+`
`+w+`
`+de})}function ju(g,S,w,R,q,X,de){g.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+q+"]: "+S+`
`+w+`
`+X+" "+de})}function Ti(g,S,w,R){g.info(function(){return"XMLHTTP TEXT ("+S+"): "+Xf(g,w)+(R?" "+R:"")})}function Ur(g,S){g.info(function(){return"TIMEOUT: "+S})}ei.prototype.info=function(){};function Xf(g,S){if(!g.g)return S;if(!S)return null;try{const X=JSON.parse(S);if(X){for(g=0;g<X.length;g++)if(Array.isArray(X[g])){var w=X[g];if(!(w.length<2)){var R=w[1];if(Array.isArray(R)&&!(R.length<1)){var q=R[0];if(q!="noop"&&q!="stop"&&q!="close")for(let de=1;de<R.length;de++)R[de]=""}}}}return xs(X)}catch{return S}}var Lr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},el={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},tl;function Or(){}E(Or,Ju),Or.prototype.g=function(){return new XMLHttpRequest},tl=new Or;function $i(g){return encodeURIComponent(String(g))}function Qu(g){var S=1;g=g.split(":");const w=[];for(;S>0&&g.length;)w.push(g.shift()),S--;return g.length&&w.push(g.join(":")),w}function ti(g,S,w,R){this.j=g,this.i=S,this.l=w,this.S=R||1,this.V=new Pr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var Rt={},Bt={};function Si(g,S,w){g.M=1,g.A=Fr(Nt(S)),g.u=w,g.R=!0,Ro(g,null)}function Ro(g,S){g.F=Date.now(),Ai(g),g.B=Nt(g.A);var w=g.B,R=g.S;Array.isArray(R)||(R=[String(R)]),Do(w.i,"t",R),g.C=0,w=g.j.L,g.h=new ni,g.g=dc(g.j,w?S:null,!g.u),g.P>0&&(g.O=new un(h(g.Y,g,g.g),g.P)),S=g.V,w=g.g,R=g.ba;var q="readystatechange";Array.isArray(q)||(q&&(Wa[0]=q.toString()),q=Wa);for(let X=0;X<q.length;X++){const de=Oe(w,q[X],R||S.handleEvent,!1,S.h||S);if(!de)break;S.g[de.key]=de}S=g.J?F(g.J):{},g.u?(g.v||(g.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,S)):(g.v="GET",g.g.ea(g.B,g.v,null,S)),vi(),Qf(g.i,g.v,g.B,g.l,g.S,g.u)}ti.prototype.ba=function(g){g=g.target;const S=this.O;S&&ri(g)==3?S.j():this.Y(g)},ti.prototype.Y=function(g){try{if(g==this.g)e:{const Ue=ri(this.g),Et=this.g.ya(),Ze=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||Ue!=4||Et==7||(Et==8||Ze<=0?vi(3):vi(2)),Ci(this);var S=this.g.ca();this.X=S;var w=Wf(this);if(this.o=S==200,ju(this.i,this.v,this.B,this.l,this.S,Ue,S),this.o){if(this.U&&!this.L){t:{if(this.g){var R,q=this.g;if((R=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(R)){var X=R;break t}}X=null}if(g=X)Ti(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,g);else{this.o=!1,this.m=3,xt(12),In(this),Ln(this);break e}}if(this.R){g=!0;let ht;for(;!this.K&&this.C<w.length;)if(ht=Wu(this,w),ht==Bt){Ue==4&&(this.m=4,xt(14),g=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==Rt){this.m=4,xt(15),Ti(this.i,this.l,w,"[Invalid Chunk]"),g=!1;break}else Ti(this.i,this.l,ht,null),wi(this,ht);if(Xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||w.length!=0||this.h.h||(this.m=1,xt(16),g=!1),this.o=this.o&&g,!g)Ti(this.i,this.l,w,"[Invalid Chunked Response]"),In(this),Ln(this);else if(w.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),gl(de),de.P=!0,xt(11))}}else Ti(this.i,this.l,w,null),wi(this,w);Ue==4&&In(this),this.o&&!this.K&&(Ue==4?ac(this.j,this):(this.o=!1,Ai(this)))}else Qi(this.g),S==400&&w.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),In(this),Ln(this)}}}catch{}finally{}};function Wf(g){if(!Xu(g))return g.g.la();const S=$t(g.g);if(S==="")return"";let w="";const R=S.length,q=ri(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return In(g),Ln(g),"";g.h.i=new u.TextDecoder}for(let X=0;X<R;X++)g.h.h=!0,w+=g.h.i.decode(S[X],{stream:!(q&&X==R-1)});return S.length=0,g.h.g+=w,g.C=0,g.h.g}function Xu(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function Wu(g,S){var w=g.C,R=S.indexOf(`
`,w);return R==-1?Bt:(w=Number(S.substring(w,R)),isNaN(w)?Rt:(R+=1,R+w>S.length?Bt:(S=S.slice(R,R+w),g.C=R+w,S)))}ti.prototype.cancel=function(){this.K=!0,In(this)};function Ai(g){g.T=Date.now()+g.H,bo(g,g.H)}function bo(g,S){if(g.D!=null)throw Error("WatchDog timer not null");g.D=Ei(h(g.aa,g),S)}function Ci(g){g.D&&(u.clearTimeout(g.D),g.D=null)}ti.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Ur(this.i,this.B),this.M!=2&&(vi(),xt(17)),In(this),this.m=2,Ln(this)):bo(this,this.T-g)};function Ln(g){g.j.I==0||g.K||ac(g.j,g)}function In(g){Ci(g);var S=g.O;S&&typeof S.dispose=="function"&&S.dispose(),g.O=null,Za(g.V),g.g&&(S=g.g,g.g=null,S.abort(),S.dispose())}function wi(g,S){try{var w=g.j;if(w.I!=0&&(w.g==g||xi(w.h,g))){if(!g.L&&xi(w.h,g)&&w.I==3){try{var R=w.Ba.g.parse(S)}catch{R=null}if(Array.isArray(R)&&R.length==3){var q=R;if(q[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<g.F)Lo(w),Vs(w);else break e;Kr(w),xt(18)}}else w.xa=q[1],0<w.xa-w.K&&q[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Ei(h(w.Va,w),6e3));Ii(w.h)<=1&&w.ta&&(w.ta=void 0)}else ki(w,11)}else if((g.L||w.g==g)&&Lo(w),!P(S))for(q=w.Ba.g.parse(S),S=0;S<q.length;S++){let Ze=q[S];const ht=Ze[0];if(!(ht<=w.K))if(w.K=ht,Ze=Ze[1],w.I==2)if(Ze[0]=="c"){w.M=Ze[1],w.ba=Ze[2];const Gn=Ze[3];Gn!=null&&(w.ka=Gn,w.j.info("VER="+w.ka));const Pi=Ze[4];Pi!=null&&(w.za=Pi,w.j.info("SVER="+w.za));const oi=Ze[5];oi!=null&&typeof oi=="number"&&oi>0&&(R=1.5*oi,w.O=R,w.j.info("backChannelRequestTimeoutMs_="+R)),R=w;const ai=g.g;if(ai){const Yr=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yr){var X=R.h;X.g||Yr.indexOf("spdy")==-1&&Yr.indexOf("quic")==-1&&Yr.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(sl(X,X.h),X.h=null))}if(R.G){const Oo=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;Oo&&(R.wa=Oo,nt(R.J,R.G,Oo))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-g.F,w.j.info("Handshake RTT: "+w.T+"ms")),R=w;var de=g;if(R.na=cc(R,R.L?R.ba:null,R.W),de.L){rl(R.h,de);var Ue=de,Et=R.O;Et&&(Ue.H=Et),Ue.D&&(Ci(Ue),Ai(Ue)),R.g=de}else rc(R);w.i.length>0&&Di(w)}else Ze[0]!="stop"&&Ze[0]!="close"||ki(w,7);else w.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?ki(w,7):pl(w):Ze[0]!="noop"&&w.l&&w.l.qa(Ze),w.A=0)}}vi(4)}catch{}}var bt=class{constructor(g,S){this.g=g,this.map=S}};function nl(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function il(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Ii(g){return g.h?1:g.g?g.g.size:0}function xi(g,S){return g.h?g.h==S:g.g?g.g.has(S):!1}function sl(g,S){g.g?g.g.add(S):g.h=S}function rl(g,S){g.h&&g.h==S?g.h=null:g.g&&g.g.has(S)&&g.g.delete(S)}nl.prototype.cancel=function(){if(this.i=ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function ol(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let S=g.i;for(const w of g.g.values())S=S.concat(w.G);return S}return I(g.i)}var Zu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function No(g,S){if(g){g=g.split("&");for(let w=0;w<g.length;w++){const R=g[w].indexOf("=");let q,X=null;R>=0?(q=g[w].substring(0,R),X=g[w].substring(R+1)):q=g[w],S(q,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function xn(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;g instanceof xn?(this.l=g.l,zt(this,g.j),this.o=g.o,this.g=g.g,Rs(this,g.u),this.h=g.h,al(this,ic(g.i)),this.m=g.m):g&&(S=String(g).match(Zu))?(this.l=!1,zt(this,S[1]||"",!0),this.o=Ri(S[2]||""),this.g=Ri(S[3]||"",!0),Rs(this,S[4]),this.h=Ri(S[5]||"",!0),al(this,S[6]||"",!0),this.m=Ri(S[7]||"")):(this.l=!1,this.i=new Ns(null,this.l))}xn.prototype.toString=function(){const g=[];var S=this.j;S&&g.push(Gr(S,Mo,!0),":");var w=this.g;return(w||S=="file")&&(g.push("//"),(S=this.o)&&g.push(Gr(S,Mo,!0),"@"),g.push($i(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&g.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&g.push("/"),g.push(Gr(w,w.charAt(0)=="/"?ll:ec,!0))),(w=this.i.toString())&&g.push("?",w),(w=this.m)&&g.push("#",Gr(w,tc)),g.join("")},xn.prototype.resolve=function(g){const S=Nt(this);let w=!!g.j;w?zt(S,g.j):w=!!g.o,w?S.o=g.o:w=!!g.g,w?S.g=g.g:w=g.u!=null;var R=g.h;if(w)Rs(S,g.u);else if(w=!!g.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var q=S.h.lastIndexOf("/");q!=-1&&(R=S.h.slice(0,q+1)+R)}if(q=R,q==".."||q==".")R="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){R=q.lastIndexOf("/",0)==0,q=q.split("/");const X=[];for(let de=0;de<q.length;){const Ue=q[de++];Ue=="."?R&&de==q.length&&X.push(""):Ue==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),R&&de==q.length&&X.push("")):(X.push(Ue),R=!0)}R=X.join("/")}else R=q}return w?S.h=R:w=g.i.toString()!=="",w?al(S,ic(g.i)):w=!!g.m,w&&(S.m=g.m),S};function Nt(g){return new xn(g)}function zt(g,S,w){g.j=w?Ri(S,!0):S,g.j&&(g.j=g.j.replace(/:$/,""))}function Rs(g,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);g.u=S}else g.u=null}function al(g,S,w){S instanceof Ns?(g.i=S,ko(g.i,g.l)):(w||(S=Gr(S,bs)),g.i=new Ns(S,g.l))}function nt(g,S,w){g.i.set(S,w)}function Fr(g){return nt(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Ri(g,S){return g?S?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Gr(g,S,w){return typeof g=="string"?(g=encodeURI(g).replace(S,gn),w&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function gn(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Mo=/[#\/\?@]/g,ec=/[#\?:]/g,ll=/[#\?]/g,bs=/[#\?@]/g,tc=/#/g;function Ns(g,S){this.h=this.g=null,this.i=g||null,this.j=!!S}function yn(g){g.g||(g.g=new Map,g.h=0,g.i&&No(g.i,function(S,w){g.add(decodeURIComponent(S.replace(/\+/g," ")),w)}))}n=Ns.prototype,n.add=function(g,S){yn(this),this.i=null,g=Ms(this,g);let w=this.g.get(g);return w||this.g.set(g,w=[]),w.push(S),this.h+=1,this};function nc(g,S){yn(g),S=Ms(g,S),g.g.has(S)&&(g.i=null,g.h-=g.g.get(S).length,g.g.delete(S))}function ul(g,S){return yn(g),S=Ms(g,S),g.g.has(S)}n.forEach=function(g,S){yn(this),this.g.forEach(function(w,R){w.forEach(function(q){g.call(S,q,R,this)},this)},this)};function cl(g,S){yn(g);let w=[];if(typeof S=="string")ul(g,S)&&(w=w.concat(g.g.get(Ms(g,S))));else for(g=Array.from(g.g.values()),S=0;S<g.length;S++)w=w.concat(g[S]);return w}n.set=function(g,S){return yn(this),this.i=null,g=Ms(this,g),ul(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[S]),this.h+=1,this},n.get=function(g,S){return g?(g=cl(this,g),g.length>0?String(g[0]):S):S};function Do(g,S,w){nc(g,S),w.length>0&&(g.i=null,g.g.set(Ms(g,S),I(w)),g.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],S=Array.from(this.g.keys());for(let R=0;R<S.length;R++){var w=S[R];const q=$i(w);w=cl(this,w);for(let X=0;X<w.length;X++){let de=q;w[X]!==""&&(de+="="+$i(w[X])),g.push(de)}}return this.i=g.join("&")};function ic(g){const S=new Ns;return S.i=g.i,g.g&&(S.g=new Map(g.g),S.h=g.h),S}function Ms(g,S){return S=String(S),g.j&&(S=S.toLowerCase()),S}function ko(g,S){S&&!g.j&&(yn(g),g.i=null,g.g.forEach(function(w,R){const q=R.toLowerCase();R!=q&&(nc(this,R),Do(this,q,w))},g)),g.j=S}function ii(g,S){const w=new ei;if(u.Image){const R=new Image;R.onload=v(On,w,"TestLoadImage: loaded",!0,S,R),R.onerror=v(On,w,"TestLoadImage: error",!1,S,R),R.onabort=v(On,w,"TestLoadImage: abort",!1,S,R),R.ontimeout=v(On,w,"TestLoadImage: timeout",!1,S,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=g}else S(!1)}function dl(g,S){const w=new ei,R=new AbortController,q=setTimeout(()=>{R.abort(),On(w,"TestPingServer: timeout",!1,S)},1e4);fetch(g,{signal:R.signal}).then(X=>{clearTimeout(q),X.ok?On(w,"TestPingServer: ok",!0,S):On(w,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(q),On(w,"TestPingServer: error",!1,S)})}function On(g,S,w,R,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),R(w)}catch{}}function Ds(){this.g=new qu}function bi(g){this.i=g.Sb||null,this.h=g.ab||!1}E(bi,Ju),bi.prototype.g=function(){return new Hr(this.i,this.h)};function Hr(g,S){It.call(this),this.H=g,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Hr,It),n=Hr.prototype,n.open=function(g,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=S,this.readyState=1,si(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(S.body=g),(this.H||u).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ks(this)),this.readyState=0},n.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Po(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function Po(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}n.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var S=g.value?g.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!g.done}))&&(this.response=this.responseText+=S)}g.done?ks(this):si(this),this.readyState==3&&Po(this)}},n.Oa=function(g){this.g&&(this.response=this.responseText=g,ks(this))},n.Na=function(g){this.g&&(this.response=g,ks(this))},n.ga=function(){this.g&&ks(this)};function ks(g){g.readyState=4,g.l=null,g.j=null,g.B=null,si(g)}n.setRequestHeader=function(g,S){this.A.append(g,S)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],S=this.h.entries();for(var w=S.next();!w.done;)w=w.value,g.push(w[0]+": "+w[1]),w=S.next();return g.join(`\r
`)};function si(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Fn(g){let S="";return be(g,function(w,R){S+=R,S+=":",S+=w,S+=`\r
`}),S}function Br(g,S,w){e:{for(R in w){var R=!1;break e}R=!0}R||(w=Fn(w),typeof g=="string"?w!=null&&$i(w):nt(g,S,w))}function rt(g){It.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(rt,It);var Ni=/^https?$/i,fl=["POST","PUT"];n=rt.prototype,n.Fa=function(g){this.H=g},n.ea=function(g,S,w,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);S=S?S.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():tl.g(),this.g.onreadystatechange=T(h(this.Ca,this));try{this.B=!0,this.g.open(S,String(g),!0),this.B=!1}catch(X){zr(this,X);return}if(g=w||"",w=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var q in R)w.set(q,R[q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const X of R.keys())w.set(X,R.get(X));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(w.keys()).find(X=>X.toLowerCase()=="content-type"),q=u.FormData&&g instanceof u.FormData,!(Array.prototype.indexOf.call(fl,S,void 0)>=0)||R||q||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,de]of w)this.g.setRequestHeader(X,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(X){zr(this,X)}};function zr(g,S){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=S,g.o=5,hl(g),ji(g)}function hl(g){g.A||(g.A=!0,Lt(g,"complete"),Lt(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,Lt(this,"complete"),Lt(this,"abort"),ji(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),rt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?qr(this):this.Xa())},n.Xa=function(){qr(this)};function qr(g){if(g.h&&typeof a<"u"){if(g.v&&ri(g)==4)setTimeout(g.Ca.bind(g),0);else if(Lt(g,"readystatechange"),ri(g)==4){g.h=!1;try{const X=g.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var w;if(!(w=S)){var R;if(R=X===0){let de=String(g.D).match(Zu)[1]||null;!de&&u.self&&u.self.location&&(de=u.self.location.protocol.slice(0,-1)),R=!Ni.test(de?de.toLowerCase():"")}w=R}if(w)Lt(g,"complete"),Lt(g,"success");else{g.o=6;try{var q=ri(g)>2?g.g.statusText:""}catch{q=""}g.l=q+" ["+g.ca()+"]",hl(g)}}finally{ji(g)}}}}function ji(g,S){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const w=g.g;g.g=null,S||Lt(g,"ready");try{w.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ri(g){return g.g?g.g.readyState:0}n.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(g){if(this.g){var S=this.g.responseText;return g&&S.indexOf(g)==0&&(S=S.substring(g.length)),jf(S)}};function $t(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(g){const S={};g=(g.g&&ri(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<g.length;R++){if(P(g[R]))continue;var w=Qu(g[R]);const q=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const X=S[q]||[];S[q]=X,X.push(w)}ke(S,function(R){return R.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mi(g,S,w){return w&&w.internalChannelParams&&w.internalChannelParams[g]||S}function Ps(g){this.za=0,this.i=[],this.j=new ei,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mi("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mi("baseRetryDelayMs",5e3,g),this.Za=Mi("retryDelaySeedMs",1e4,g),this.Ta=Mi("forwardChannelMaxRetries",2,g),this.va=Mi("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new nl(g&&g.concurrentRequestLimit),this.Ba=new Ds,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ps.prototype,n.ka=8,n.I=1,n.connect=function(g,S,w,R){xt(0),this.W=g,this.H=S||{},w&&R!==void 0&&(this.H.OSID=w,this.H.OAID=R),this.F=this.X,this.J=cc(this,null,this.W),Di(this)};function pl(g){if(Vo(g),g.I==3){var S=g.V++,w=Nt(g.J);if(nt(w,"SID",g.M),nt(w,"RID",S),nt(w,"TYPE","terminate"),Jr(g,w),S=new ti(g,g.j,S),S.M=2,S.A=Fr(Nt(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(S.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=S.A,w=!0),w||(S.g=dc(S.j,null),S.g.ea(S.A)),S.F=Date.now(),Ai(S)}uc(g)}function Vs(g){g.g&&(gl(g),g.g.cancel(),g.g=null)}function Vo(g){Vs(g),g.v&&(u.clearTimeout(g.v),g.v=null),Lo(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&u.clearTimeout(g.m),g.m=null)}function Di(g){if(!il(g.h)&&!g.m){g.m=!0;var S=g.Ea;Q||b(),fe||(Q(),fe=!0),M.add(S,g),g.D=0}}function Uo(g,S){return Ii(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=S.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=Ei(h(g.Ea,g,S),lc(g,g.D)),g.D++,!0)}n.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const q=new ti(this,this.j,g);let X=this.o;if(this.U&&(X?(X=F(X),ce(X,this.U)):X=this.U),this.u!==null||this.R||(q.J=X,X=null),this.S)e:{for(var S=0,w=0;w<this.i.length;w++){t:{var R=this.i[w];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(S+=R,S>4096){S=w;break e}if(S===4096||w===this.i.length-1){S=w+1;break e}}S=1e3}else S=1e3;S=sc(this,q,S),w=Nt(this.J),nt(w,"RID",g),nt(w,"CVER",22),this.G&&nt(w,"X-HTTP-Session-Id",this.G),Jr(this,w),X&&(this.R?S="headers="+$i(Fn(X))+"&"+S:this.u&&Br(w,this.u,X)),sl(this.h,q),this.Ra&&nt(w,"TYPE","init"),this.S?(nt(w,"$req",S),nt(w,"SID","null"),q.U=!0,Si(q,w,null)):Si(q,w,S),this.I=2}}else this.I==3&&(g?ml(this,g):this.i.length==0||il(this.h)||ml(this))};function ml(g,S){var w;S?w=S.l:w=g.V++;const R=Nt(g.J);nt(R,"SID",g.M),nt(R,"RID",w),nt(R,"AID",g.K),Jr(g,R),g.u&&g.o&&Br(R,g.u,g.o),w=new ti(g,g.j,w,g.D+1),g.u===null&&(w.J=g.o),S&&(g.i=S.G.concat(g.i)),S=sc(g,w,1e3),w.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),sl(g.h,w),Si(w,R,S)}function Jr(g,S){g.H&&be(g.H,function(w,R){nt(S,R,w)}),g.l&&be({},function(w,R){nt(S,R,w)})}function sc(g,S,w){w=Math.min(g.i.length,w);const R=g.l?h(g.l.Ka,g.l,g):null;e:{var q=g.i;let Ue=-1;for(;;){const Et=["count="+w];Ue==-1?w>0?(Ue=q[0].g,Et.push("ofs="+Ue)):Ue=0:Et.push("ofs="+Ue);let Ze=!0;for(let ht=0;ht<w;ht++){var X=q[ht].g;const Gn=q[ht].map;if(X-=Ue,X<0)Ue=Math.max(0,q[ht].g-100),Ze=!1;else try{X="req"+X+"_"||"";try{var de=Gn instanceof Map?Gn:Object.entries(Gn);for(const[Pi,oi]of de){let ai=oi;d(oi)&&(ai=xs(oi)),Et.push(X+Pi+"="+encodeURIComponent(ai))}}catch(Pi){throw Et.push(X+"type="+encodeURIComponent("_badmap")),Pi}}catch{R&&R(Gn)}}if(Ze){de=Et.join("&");break e}}de=void 0}return g=g.i.splice(0,w),S.G=g,de}function rc(g){if(!g.g&&!g.v){g.Y=1;var S=g.Da;Q||b(),fe||(Q(),fe=!0),M.add(S,g),g.A=0}}function Kr(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=Ei(h(g.Da,g),lc(g,g.A)),g.A++,!0)}n.Da=function(){if(this.v=null,oc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=Ei(h(this.Wa,this),g)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),Vs(this),oc(this))};function gl(g){g.B!=null&&(u.clearTimeout(g.B),g.B=null)}function oc(g){g.g=new ti(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var S=Nt(g.na);nt(S,"RID","rpc"),nt(S,"SID",g.M),nt(S,"AID",g.K),nt(S,"CI",g.F?"0":"1"),!g.F&&g.ia&&nt(S,"TO",g.ia),nt(S,"TYPE","xmlhttp"),Jr(g,S),g.u&&g.o&&Br(S,g.u,g.o),g.O&&(g.g.H=g.O);var w=g.g;g=g.ba,w.M=1,w.A=Fr(Nt(S)),w.u=null,w.R=!0,Ro(w,g)}n.Va=function(){this.C!=null&&(this.C=null,Vs(this),Kr(this),xt(19))};function Lo(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function ac(g,S){var w=null;if(g.g==S){Lo(g),gl(g),g.g=null;var R=2}else if(xi(g.h,S))w=S.G,rl(g.h,S),R=1;else return;if(g.I!=0){if(S.o)if(R==1){w=S.u?S.u.length:0,S=Date.now()-S.F;var q=g.D;R=xo(),Lt(R,new _i(R,w)),Di(g)}else rc(g);else if(q=S.m,q==3||q==0&&S.X>0||!(R==1&&Uo(g,S)||R==2&&Kr(g)))switch(w&&w.length>0&&(S=g.h,S.i=S.i.concat(w)),q){case 1:ki(g,5);break;case 4:ki(g,10);break;case 3:ki(g,6);break;default:ki(g,2)}}}function lc(g,S){let w=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(w*=2),w*S}function ki(g,S){if(g.j.info("Error code "+S),S==2){var w=h(g.bb,g),R=g.Ua;const q=!R;R=new xn(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||zt(R,"https"),Fr(R),q?ii(R.toString(),w):dl(R.toString(),w)}else xt(2);g.I=0,g.l&&g.l.pa(S),uc(g),Vo(g)}n.bb=function(g){g?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function uc(g){if(g.I=0,g.ja=[],g.l){const S=ol(g.h);(S.length!=0||g.i.length!=0)&&(D(g.ja,S),D(g.ja,g.i),g.h.i.length=0,I(g.i),g.i.length=0),g.l.oa()}}function cc(g,S,w){var R=w instanceof xn?Nt(w):new xn(w);if(R.g!="")S&&(R.g=S+"."+R.g),Rs(R,R.u);else{var q=u.location;R=q.protocol,S=S?S+"."+q.hostname:q.hostname,q=+q.port;const X=new xn(null);R&&zt(X,R),S&&(X.g=S),q&&Rs(X,q),w&&(X.h=w),R=X}return w=g.G,S=g.wa,w&&S&&nt(R,w,S),nt(R,"VER",g.ka),Jr(g,R),R}function dc(g,S,w){if(S&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=g.Aa&&!g.ma?new rt(new bi({ab:w})):new rt(g.ma),S.Fa(g.L),S}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function fc(){}n=fc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Us(){}Us.prototype.g=function(g,S){return new cn(g,S)};function cn(g,S){It.call(this),this.g=new Ps(S),this.l=g,this.h=S&&S.messageUrlParams||null,g=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(g?g["X-WebChannel-Content-Type"]=S.messageContentType:g={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(g?g["X-WebChannel-Client-Profile"]=S.sa:g={"X-WebChannel-Client-Profile":S.sa}),this.g.U=g,(g=S&&S.Qb)&&!P(g)&&(this.g.u=g),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!P(S)&&(this.g.G=S,g=this.h,g!==null&&S in g&&(g=this.h,S in g&&delete g[S])),this.j=new Xi(this)}E(cn,It),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){pl(this.g)},cn.prototype.o=function(g){var S=this.g;if(typeof g=="string"){var w={};w.__data__=g,g=w}else this.v&&(w={},w.__data__=xs(g),g=w);S.i.push(new bt(S.Ya++,g)),S.I==3&&Di(S)},cn.prototype.N=function(){this.g.l=null,delete this.j,pl(this.g),delete this.g,cn.Z.N.call(this)};function hc(g){Yt.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var S=g.__sm__;if(S){e:{for(const w in S){g=w;break e}g=void 0}(this.i=g)&&(g=this.i,S=S!==null&&g in S?S[g]:void 0),this.data=S}else this.data=g}E(hc,Yt);function pc(){Un.call(this),this.status=1}E(pc,Un);function Xi(g){this.g=g}E(Xi,fc),Xi.prototype.ra=function(){Lt(this.g,"a")},Xi.prototype.qa=function(g){Lt(this.g,new hc(g))},Xi.prototype.pa=function(g){Lt(this.g,new pc)},Xi.prototype.oa=function(){Lt(this.g,"b")},Us.prototype.createWebChannel=Us.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,CC=function(){return new Us},AC=function(){return xo()},SC=_t,bm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Lr.NO_ERROR=0,Lr.TIMEOUT=8,Lr.HTTP_ERROR=6,kd=Lr,el.COMPLETE="complete",TC=el,Ku.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",It.prototype.listen=It.prototype.J,ou=Ku,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,EC=rt}).apply(typeof _d<"u"?_d:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ba="12.9.0";function rD(n){Ba=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new pg("@firebase/firestore");function ma(){return yo.logLevel}function ve(n,...e){if(yo.logLevel<=qe.DEBUG){const t=e.map(wg);yo.debug(`Firestore (${Ba}): ${n}`,...t)}}function _s(n,...e){if(yo.logLevel<=qe.ERROR){const t=e.map(wg);yo.error(`Firestore (${Ba}): ${n}`,...t)}}function vo(n,...e){if(yo.logLevel<=qe.WARN){const t=e.map(wg);yo.warn(`Firestore (${Ba}): ${n}`,...t)}}function wg(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,wC(n,i,t)}function wC(n,e,t){let i=`FIRESTORE (${Ba}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw _s(i),new Error(i)}function tt(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||wC(e,r,i)}function Ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Ss{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(rn.UNAUTHENTICATED)))}shutdown(){}}class aD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class lD{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){tt(this.o===void 0,42304);let i=this.i;const r=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let a=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new yr,e.enqueueRetryable((()=>r(this.currentUser)))};const u=()=>{const p=a;e.enqueueRetryable((async()=>{await p.promise,await r(this.currentUser)}))},d=p=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new yr)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(tt(typeof i.accessToken=="string",31837,{l:i}),new IC(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class uD{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class cD{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new uD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class DE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){tt(this.o===void 0,3512);const i=a=>{a.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ve("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const r=a=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>r(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?r(a):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new DE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(tt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new DE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=fD(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%62))}return i}}function Je(n,e){return n<e?-1:n>e?1:0}function Nm(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const r=n.charAt(i),a=e.charAt(i);if(r!==a)return om(r)===om(a)?Je(r,a):om(r)?1:-1}return Je(n.length,e.length)}const hD=55296,pD=57343;function om(n){const e=n.charCodeAt(0);return e>=hD&&e<=pD}function Ma(n,e,t){return n.length===e.length&&n.every(((i,r)=>t(i,e[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="__name__";class Fi{constructor(e,t,i){t===void 0?t=0:t>e.length&&Re(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Re(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Fi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fi?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=Fi.compareSegments(e.get(r),t.get(r));if(a!==0)return a}return Je(e.length,t.length)}static compareSegments(e,t){const i=Fi.isNumericId(e),r=Fi.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?Fi.extractNumericId(e).compare(Fi.extractNumericId(t)):Nm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gr.fromString(e.substring(4,e.length-2))}}class mt extends Fi{construct(e,t,i){return new mt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Te(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((r=>r.length>0)))}return new mt(t)}static emptyPath(){return new mt([])}}const mD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Fi{construct(e,t,i){return new en(e,t,i)}static isValidIdentifier(e){return mD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kE}static keyField(){return new en([kE])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(i.length===0)throw new Te(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const d=e[r];if(d==="\\"){if(r+1===e.length)throw new Te(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Te(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,r+=2}else d==="`"?(u=!u,r++):d!=="."||u?(i+=d,r++):(a(),r++)}if(a(),u)throw new Te(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(mt.fromString(e))}static fromName(e){return new we(mt.fromString(e).popFirst(5))}static empty(){return new we(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new mt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(n,e,t){if(!t)throw new Te(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function yD(n,e,t,i){if(e===!0&&i===!0)throw new Te(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function PE(n){if(!we.isDocumentKey(n))throw new Te(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xC(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function xg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re(12329,{type:typeof n})}function _o(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=xg(n);throw new Te(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(n,e){const t={typeString:n};return e&&(t.value=e),t}function Lu(n,e){if(!xC(n))throw new Te(le.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const r=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const u=n[i];if(r&&typeof u!==r){t=`JSON field '${i}' must be a ${r}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${i}' field to equal '${a.value}'`;break}}if(t)throw new Te(le.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=-62135596800,UE=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*UE);return new ft(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<VE)throw new Te(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/UE}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lu(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-VE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Ut("string",ft._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new ft(0,0))}static max(){return new Me(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=-1;function vD(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Me.fromTimestamp(i===1e9?new ft(t+1,0):new ft(t,i));return new _r(r,we.empty(),e)}function _D(n){return new _r(n.readTime,n.key,Au)}class _r{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new _r(Me.min(),we.empty(),Au)}static max(){return new _r(Me.max(),we.empty(),Au)}}function ED(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==TD)throw n;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re(((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):re.reject(t)}static resolve(e){return new re(((t,i)=>{t(e)}))}static reject(e){return new re(((t,i)=>{i(e)}))}static waitFor(e){return new re(((t,i)=>{let r=0,a=0,u=!1;e.forEach((d=>{++r,d.next((()=>{++a,u&&a===r&&t()}),(p=>i(p)))})),u=!0,a===r&&t()}))}static or(e){let t=re.resolve(!1);for(const i of e)t=t.next((r=>r?re.resolve(r):i()));return t}static forEach(e,t){const i=[];return e.forEach(((r,a)=>{i.push(t.call(this,r,a))})),this.waitFor(i)}static mapArray(e,t){return new re(((i,r)=>{const a=e.length,u=new Array(a);let d=0;for(let p=0;p<a;p++){const h=p;t(e[h]).next((v=>{u[h]=v,++d,d===a&&i(u)}),(v=>r(v)))}}))}static doWhile(e,t){return new re(((i,r)=>{const a=()=>{e()===!0?t().next((()=>{a()}),r):i()};a()}))}}function AD(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function qa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}If.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg=-1;function xf(n){return n==null}function ef(n){return n===0&&1/n==-1/0}function CD(n){return typeof n=="number"&&Number.isInteger(n)&&!ef(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="";function wD(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=LE(e)),e=ID(n.get(t),e);return LE(e)}function ID(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="";break;case RC:t+="";break;default:t+=a}}return t}function LE(n){return n+RC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Nr(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function bC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ed(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ed(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ed(this.root,e,this.comparator,!0)}}class Ed{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??Zt.RED,this.left=r??Zt.EMPTY,this.right=a??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new Zt(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):a===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return Zt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,t,i,r,a){return this}insert(e,t,i){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new FE(this.data.getIterator())}getIteratorFrom(e){return new FE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ht(this.comparator);return t.data=e,t}}class FE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Vn([])}unionWith(e){let t=new Ht(en.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Vn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ma(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new NC("Invalid base64 string: "+a):a}})(e);return new tn(t)}static fromUint8Array(e){const t=(function(r){let a="";for(let u=0;u<r.length;++u)a+=String.fromCharCode(r[u]);return a})(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const xD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(n){if(tt(!!n,39018),typeof n=="string"){let e=0;const t=xD.exec(n);if(tt(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:At(n.seconds),nanos:At(n.nanos)}}function At(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Tr(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="server_timestamp",DC="__type__",kC="__previous_value__",PC="__local_write_time__";function bg(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[DC])==null?void 0:i.stringValue)===MC}function Rf(n){const e=n.mapValue.fields[kC];return bg(e)?Rf(e):e}function Cu(n){const e=Er(n.mapValue.fields[PC].timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,t,i,r,a,u,d,p,h,v,E){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=h,this.isUsingEmulator=v,this.apiKey=E}}const tf="(default)";class wu{constructor(e,t){this.projectId=e,this.database=t||tf}static empty(){return new wu("","")}get isDefaultDatabase(){return this.database===tf}isEqual(e){return e instanceof wu&&e.projectId===this.projectId&&e.database===this.database}}function bD(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new Te(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(n.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="__type__",ND="__max__",Td={mapValue:{}},UC="__vector__",nf="value";function Sr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bg(n)?4:DD(n)?9007199254740991:MD(n)?10:11:Re(28295,{value:n})}function Ki(n,e){if(n===e)return!0;const t=Sr(n);if(t!==Sr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cu(n).isEqual(Cu(e));case 3:return(function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const u=Er(r.timestampValue),d=Er(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(r,a){return Tr(r.bytesValue).isEqual(Tr(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(r,a){return At(r.geoPointValue.latitude)===At(a.geoPointValue.latitude)&&At(r.geoPointValue.longitude)===At(a.geoPointValue.longitude)})(n,e);case 2:return(function(r,a){if("integerValue"in r&&"integerValue"in a)return At(r.integerValue)===At(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const u=At(r.doubleValue),d=At(a.doubleValue);return u===d?ef(u)===ef(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return Ma(n.arrayValue.values||[],e.arrayValue.values||[],Ki);case 10:case 11:return(function(r,a){const u=r.mapValue.fields||{},d=a.mapValue.fields||{};if(OE(u)!==OE(d))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(d[p]===void 0||!Ki(u[p],d[p])))return!1;return!0})(n,e);default:return Re(52216,{left:n})}}function Iu(n,e){return(n.values||[]).find((t=>Ki(t,e)))!==void 0}function Da(n,e){if(n===e)return 0;const t=Sr(n),i=Sr(e);if(t!==i)return Je(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Je(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const d=At(a.integerValue||a.doubleValue),p=At(u.integerValue||u.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(n,e);case 3:return GE(n.timestampValue,e.timestampValue);case 4:return GE(Cu(n),Cu(e));case 5:return Nm(n.stringValue,e.stringValue);case 6:return(function(a,u){const d=Tr(a),p=Tr(u);return d.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const d=a.split("/"),p=u.split("/");for(let h=0;h<d.length&&h<p.length;h++){const v=Je(d[h],p[h]);if(v!==0)return v}return Je(d.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const d=Je(At(a.latitude),At(u.latitude));return d!==0?d:Je(At(a.longitude),At(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return HE(n.arrayValue,e.arrayValue);case 10:return(function(a,u){var T,I,D,L;const d=a.fields||{},p=u.fields||{},h=(T=d[nf])==null?void 0:T.arrayValue,v=(I=p[nf])==null?void 0:I.arrayValue,E=Je(((D=h==null?void 0:h.values)==null?void 0:D.length)||0,((L=v==null?void 0:v.values)==null?void 0:L.length)||0);return E!==0?E:HE(h,v)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Td.mapValue&&u===Td.mapValue)return 0;if(a===Td.mapValue)return 1;if(u===Td.mapValue)return-1;const d=a.fields||{},p=Object.keys(d),h=u.fields||{},v=Object.keys(h);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const T=Nm(p[E],v[E]);if(T!==0)return T;const I=Da(d[p[E]],h[v[E]]);if(I!==0)return I}return Je(p.length,v.length)})(n.mapValue,e.mapValue);default:throw Re(23264,{he:t})}}function GE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Je(n,e);const t=Er(n),i=Er(e),r=Je(t.seconds,i.seconds);return r!==0?r:Je(t.nanos,i.nanos)}function HE(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const a=Da(t[r],i[r]);if(a)return a}return Je(t.length,i.length)}function ka(n){return Mm(n)}function Mm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Er(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Tr(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return we.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",r=!0;for(const a of t.values||[])r?r=!1:i+=",",i+=Mm(a);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let r="{",a=!0;for(const u of i)a?a=!1:r+=",",r+=`${u}:${Mm(t.fields[u])}`;return r+"}"})(n.mapValue):Re(61005,{value:n})}function Pd(n){switch(Sr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rf(n);return e?16+Pd(e):16;case 5:return 2*n.stringValue.length;case 6:return Tr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,a)=>r+Pd(a)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return Nr(i.fields,((a,u)=>{r+=a.length+Pd(u)})),r})(n.mapValue);default:throw Re(13486,{value:n})}}function Dm(n){return!!n&&"integerValue"in n}function Ng(n){return!!n&&"arrayValue"in n}function BE(n){return!!n&&"nullValue"in n}function zE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vd(n){return!!n&&"mapValue"in n}function MD(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[VC])==null?void 0:i.stringValue)===UC}function hu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Nr(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=hu(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hu(n.arrayValue.values[t]);return e}return{...n}}function DD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ND}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Vd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hu(t)}setAll(e){let t=en.emptyPath(),i={},r=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,r),i={},r=[],t=d.popLast()}u?i[d.lastSegment()]=hu(u):r.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());Vd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ki(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Vd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Nr(t,((r,a)=>e[r]=a));for(const r of i)delete e[r]}clone(){return new Cn(hu(this.value))}}function LC(n){const e=[];return Nr(n.fields,((t,i)=>{const r=new en([t]);if(Vd(i)){const a=LC(i.mapValue).fields;if(a.length===0)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)})),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,t,i,r,a,u,d){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new on(e,0,Me.min(),Me.min(),Me.min(),Cn.empty(),0)}static newFoundDocument(e,t,i,r){return new on(e,1,t,Me.min(),i,r,0)}static newNoDocument(e,t){return new on(e,2,t,Me.min(),Me.min(),Cn.empty(),0)}static newUnknownDocument(e,t){return new on(e,3,t,Me.min(),Me.min(),Cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t){this.position=e,this.inclusive=t}}function qE(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(a.field.isKeyField()?i=we.comparator(we.fromName(u.referenceValue),t.key):i=Da(u,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function JE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ki(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t="asc"){this.field=e,this.dir=t}}function kD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{}class Ft extends OC{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new VD(e,t,i):t==="array-contains"?new OD(e,i):t==="in"?new FD(e,i):t==="not-in"?new GD(e,i):t==="array-contains-any"?new HD(e,i):new Ft(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new UD(e,i):new LD(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Da(t,this.value)):t!==null&&Sr(this.value)===Sr(t)&&this.matchesComparison(Da(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yi extends OC{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Yi(e,t)}matches(e){return FC(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function FC(n){return n.op==="and"}function GC(n){return PD(n)&&FC(n)}function PD(n){for(const e of n.filters)if(e instanceof Yi)return!1;return!0}function km(n){if(n instanceof Ft)return n.field.canonicalString()+n.op.toString()+ka(n.value);if(GC(n))return n.filters.map((e=>km(e))).join(",");{const e=n.filters.map((t=>km(t))).join(",");return`${n.op}(${e})`}}function HC(n,e){return n instanceof Ft?(function(i,r){return r instanceof Ft&&i.op===r.op&&i.field.isEqual(r.field)&&Ki(i.value,r.value)})(n,e):n instanceof Yi?(function(i,r){return r instanceof Yi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((a,u,d)=>a&&HC(u,r.filters[d])),!0):!1})(n,e):void Re(19439)}function BC(n){return n instanceof Ft?(function(t){return`${t.field.canonicalString()} ${t.op} ${ka(t.value)}`})(n):n instanceof Yi?(function(t){return t.op.toString()+" {"+t.getFilters().map(BC).join(" ,")+"}"})(n):"Filter"}class VD extends Ft{constructor(e,t,i){super(e,t,i),this.key=we.fromName(i.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class UD extends Ft{constructor(e,t){super(e,"in",t),this.keys=zC("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class LD extends Ft{constructor(e,t){super(e,"not-in",t),this.keys=zC("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function zC(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((i=>we.fromName(i.referenceValue)))}class OD extends Ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ng(t)&&Iu(t.arrayValue,this.value)}}class FD extends Ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Iu(this.value.arrayValue,t)}}class GD extends Ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(Iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Iu(this.value.arrayValue,t)}}class HD extends Ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ng(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Iu(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,t=null,i=[],r=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=d,this.Te=null}}function KE(n,e=null,t=[],i=[],r=null,a=null,u=null){return new BD(n,e,t,i,r,a,u)}function Mg(n){const e=Ve(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>km(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),xf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>ka(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>ka(i))).join(",")),e.Te=t}return e.Te}function Dg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!kD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!HC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!JE(n.startAt,e.startAt)&&JE(n.endAt,e.endAt)}function Pm(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t=null,i=[],r=[],a=null,u="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function zD(n,e,t,i,r,a,u,d){return new bf(n,e,t,i,r,a,u,d)}function kg(n){return new bf(n)}function YE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function qD(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function JD(n){return n.collectionGroup!==null}function pu(n){const e=Ve(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Ht(en.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((h=>{h.isInequality()&&(d=d.add(h.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new rf(a,i))})),t.has(en.keyField().canonicalString())||e.Ie.push(new rf(en.keyField(),i))}return e.Ie}function Bi(n){const e=Ve(n);return e.Ee||(e.Ee=KD(e,pu(n))),e.Ee}function KD(n,e){if(n.limitType==="F")return KE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((r=>{const a=r.dir==="desc"?"asc":"desc";return new rf(r.field,a)}));const t=n.endAt?new sf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new sf(n.startAt.position,n.startAt.inclusive):null;return KE(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Vm(n,e,t){return new bf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Nf(n,e){return Dg(Bi(n),Bi(e))&&n.limitType===e.limitType}function qC(n){return`${Mg(Bi(n))}|lt:${n.limitType}`}function ga(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((r=>BC(r))).join(", ")}]`),xf(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((r=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(r))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>ka(r))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>ka(r))).join(",")),`Target(${i})`})(Bi(n))}; limitType=${n.limitType})`}function Mf(n,e){return e.isFoundDocument()&&(function(i,r){const a=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):we.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(n,e)&&(function(i,r){for(const a of pu(i))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(i,r){for(const a of i.filters)if(!a.matches(r))return!1;return!0})(n,e)&&(function(i,r){return!(i.startAt&&!(function(u,d,p){const h=qE(u,d,p);return u.inclusive?h<=0:h<0})(i.startAt,pu(i),r)||i.endAt&&!(function(u,d,p){const h=qE(u,d,p);return u.inclusive?h>=0:h>0})(i.endAt,pu(i),r))})(n,e)}function YD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function JC(n){return(e,t)=>{let i=!1;for(const r of pu(n)){const a=$D(r,e,t);if(a!==0)return a;i=i||r.field.isKeyField()}return 0}}function $D(n,e,t){const i=n.field.isKeyField()?we.comparator(e.key,t.key):(function(a,u,d){const p=u.data.field(a),h=d.data.field(a);return p!==null&&h!==null?Da(p,h):Re(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Re(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,a]of i)if(this.equalsFn(r,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Nr(this.inner,((t,i)=>{for(const[r,a]of i)e(r,a)}))}isEmpty(){return bC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=new gt(we.comparator);function Es(){return jD}const KC=new gt(we.comparator);function au(...n){let e=KC;for(const t of n)e=e.insert(t.key,t);return e}function YC(n){let e=KC;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function fo(){return mu()}function $C(){return mu()}function mu(){return new Ao((n=>n.toString()),((n,e)=>n.isEqual(e)))}const QD=new gt(we.comparator),XD=new Ht(we.comparator);function Ke(...n){let e=XD;for(const t of n)e=e.add(t);return e}const WD=new Ht(Je);function ZD(){return WD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ef(e)?"-0":e}}function jC(n){return{integerValue:""+n}}function ek(n,e){return CD(e)?jC(e):Pg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(){this._=void 0}}function tk(n,e,t){return n instanceof of?(function(r,a){const u={fields:{[DC]:{stringValue:MC},[PC]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&bg(a)&&(a=Rf(a)),a&&(u.fields[kC]=a),{mapValue:u}})(t,e):n instanceof Pa?XC(n,e):n instanceof xu?WC(n,e):(function(r,a){const u=QC(r,a),d=$E(u)+$E(r.Ae);return Dm(u)&&Dm(r.Ae)?jC(d):Pg(r.serializer,d)})(n,e)}function nk(n,e,t){return n instanceof Pa?XC(n,e):n instanceof xu?WC(n,e):t}function QC(n,e){return n instanceof af?(function(i){return Dm(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class of extends Df{}class Pa extends Df{constructor(e){super(),this.elements=e}}function XC(n,e){const t=ZC(e);for(const i of n.elements)t.some((r=>Ki(r,i)))||t.push(i);return{arrayValue:{values:t}}}class xu extends Df{constructor(e){super(),this.elements=e}}function WC(n,e){let t=ZC(e);for(const i of n.elements)t=t.filter((r=>!Ki(r,i)));return{arrayValue:{values:t}}}class af extends Df{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function $E(n){return At(n.integerValue||n.doubleValue)}function ZC(n){return Ng(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,t){this.field=e,this.transform=t}}function sk(n,e){return n.field.isEqual(e.field)&&(function(i,r){return i instanceof Pa&&r instanceof Pa||i instanceof xu&&r instanceof xu?Ma(i.elements,r.elements,Ki):i instanceof af&&r instanceof af?Ki(i.Ae,r.Ae):i instanceof of&&r instanceof of})(n.transform,e.transform)}class rk{constructor(e,t){this.version=e,this.transformResults=t}}class zi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zi}static exists(e){return new zi(void 0,e)}static updateTime(e){return new zi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ud(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class kf{}function ew(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new nw(n.key,zi.none()):new Ou(n.key,n.data,zi.none());{const t=n.data,i=Cn.empty();let r=new Ht(en.comparator);for(let a of e.fields)if(!r.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?i.delete(a):i.set(a,u),r=r.add(a)}return new Mr(n.key,i,new Vn(r.toArray()),zi.none())}}function ok(n,e,t){n instanceof Ou?(function(r,a,u){const d=r.value.clone(),p=QE(r.fieldTransforms,a,u.transformResults);d.setAll(p),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof Mr?(function(r,a,u){if(!Ud(r.precondition,a))return void a.convertToUnknownDocument(u.version);const d=QE(r.fieldTransforms,a,u.transformResults),p=a.data;p.setAll(tw(r)),p.setAll(d),a.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(n,e,t):(function(r,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function gu(n,e,t,i){return n instanceof Ou?(function(a,u,d,p){if(!Ud(a.precondition,u))return d;const h=a.value.clone(),v=XE(a.fieldTransforms,p,u);return h.setAll(v),u.convertToFoundDocument(u.version,h).setHasLocalMutations(),null})(n,e,t,i):n instanceof Mr?(function(a,u,d,p){if(!Ud(a.precondition,u))return d;const h=XE(a.fieldTransforms,p,u),v=u.data;return v.setAll(tw(a)),v.setAll(h),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((E=>E.field)))})(n,e,t,i):(function(a,u,d){return Ud(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function ak(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=QC(i.transform,r||null);a!=null&&(t===null&&(t=Cn.empty()),t.set(i.field,a))}return t||null}function jE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ma(i,r,((a,u)=>sk(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ou extends kf{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Mr extends kf{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function tw(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function QE(n,e,t){const i=new Map;tt(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,d=e.data.field(a.field);i.set(a.field,nk(u,d,t[r]))}return i}function XE(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,tk(a,u,e))}return i}class nw extends kf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lk extends kf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&ok(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=gu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=gu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=$C();return this.mutations.forEach((r=>{const a=e.get(r.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(r.key)?null:d;const p=ew(u,d);p!==null&&i.set(r.key,p),u.isValidDocument()||u.convertToNoDocument(Me.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&Ma(this.mutations,e.mutations,((t,i)=>jE(t,i)))&&Ma(this.baseMutations,e.baseMutations,((t,i)=>jE(t,i)))}}class Vg{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){tt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=(function(){return QD})();const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new Vg(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,$e;function fk(n){switch(n){case le.OK:return Re(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Re(15467,{code:n})}}function iw(n){if(n===void 0)return _s("GRPC error has no .code"),le.UNKNOWN;switch(n){case Vt.OK:return le.OK;case Vt.CANCELLED:return le.CANCELLED;case Vt.UNKNOWN:return le.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return le.INTERNAL;case Vt.UNAVAILABLE:return le.UNAVAILABLE;case Vt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Vt.NOT_FOUND:return le.NOT_FOUND;case Vt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Vt.ABORTED:return le.ABORTED;case Vt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Vt.DATA_LOSS:return le.DATA_LOSS;default:return Re(39323,{code:n})}}($e=Vt||(Vt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=new gr([4294967295,4294967295],0);function WE(n){const e=hk().encode(n),t=new _C;return t.update(e),new Uint8Array(t.digest())}function ZE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new gr([t,i],0),new gr([r,a],0)]}class Ug{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new lu(`Invalid padding: ${t}`);if(i<0)throw new lu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new lu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new lu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=gr.fromNumber(this.ge)}ye(e,t,i){let r=e.add(t.multiply(gr.fromNumber(i)));return r.compare(pk)===1&&(r=new gr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=WE(e),[i,r]=ZE(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,r,a);if(!this.we(u))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Ug(a,r,t);return i.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const t=WE(e),[i,r]=ZE(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,r,a);this.be(u)}}be(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Fu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Pf(Me.min(),r,new gt(Je),Es(),Ke())}}class Fu{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Fu(i,t,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t,i,r){this.Se=e,this.removedTargetIds=t,this.key=i,this.De=r}}class sw{constructor(e,t){this.targetId=e,this.Ce=t}}class rw{constructor(e,t,i=tn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class eT{constructor(){this.ve=0,this.Fe=tT(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),t=Ke(),i=Ke();return this.Fe.forEach(((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Re(38017,{changeType:a})}})),new Fu(this.Me,this.xe,e,t,i)}Ke(){this.Oe=!1,this.Fe=tT()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class mk{constructor(e){this.Ge=e,this.ze=new Map,this.je=Es(),this.He=Sd(),this.Je=Sd(),this.Ze=new gt(Je)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,r)=>{this.rt(r)&&t(r)}))}st(e){const t=e.targetId,i=e.Ce.count,r=this.ot(t);if(r){const a=r.target;if(Pm(a))if(i===0){const u=new we(a.path);this.et(t,u,on.newNoDocument(u,Me.min()))}else tt(i===1,20013,{expectedCount:i});else{const u=this._t(t);if(u!==i){const d=this.ut(e),p=d?this.ct(d,e,u):1;if(p!==0){this.it(t);const h=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,h)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:a=0}=t;let u,d;try{u=Tr(i).toUint8Array()}catch(p){if(p instanceof NC)return vo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Ug(u,r,a)}catch(p){return vo(p instanceof lu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let r=0;return i.forEach((a=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),r++)})),r}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const d=this.ot(u);if(d){if(a.current&&Pm(d.target)){const p=new we(d.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,on.newNoDocument(p,e))}a.Be&&(t.set(u,a.ke()),a.Ke())}}));let i=Ke();this.Je.forEach(((a,u)=>{let d=!0;u.forEachWhile((p=>{const h=this.ot(p);return!h||h.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const r=new Pf(e,t,this.Ze,this.je,i);return this.je=Es(),this.He=Sd(),this.Je=Sd(),this.Ze=new gt(Je),r}Ye(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,i),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.qe(t,1):r.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new eT,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Ht(Je),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Ht(Je),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new eT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Sd(){return new gt(we.comparator)}function tT(){return new gt(we.comparator)}const gk={asc:"ASCENDING",desc:"DESCENDING"},yk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vk={and:"AND",or:"OR"};class _k{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Um(n,e){return n.useProto3Json||xf(e)?e:{value:e}}function lf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ow(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Ek(n,e){return lf(n,e.toTimestamp())}function qi(n){return tt(!!n,49232),Me.fromTimestamp((function(t){const i=Er(t);return new ft(i.seconds,i.nanos)})(n))}function Lg(n,e){return Lm(n,e).canonicalString()}function Lm(n,e){const t=(function(r){return new mt(["projects",r.projectId,"databases",r.database])})(n).child("documents");return e===void 0?t:t.child(e)}function aw(n){const e=mt.fromString(n);return tt(fw(e),10190,{key:e.toString()}),e}function Om(n,e){return Lg(n.databaseId,e.path)}function am(n,e){const t=aw(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(uw(t))}function lw(n,e){return Lg(n.databaseId,e)}function Tk(n){const e=aw(n);return e.length===4?mt.emptyPath():uw(e)}function Fm(n){return new mt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function uw(n){return tt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function nT(n,e,t){return{name:Om(n,e),fields:t.value.mapValue.fields}}function Sk(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Re(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],a=(function(h,v){return h.useProto3Json?(tt(v===void 0||typeof v=="string",58123),tn.fromBase64String(v||"")):(tt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),tn.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(h){const v=h.code===void 0?le.UNKNOWN:iw(h.code);return new Te(v,h.message||"")})(u);t=new rw(i,r,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=am(n,i.document.name),a=qi(i.document.updateTime),u=i.document.createTime?qi(i.document.createTime):Me.min(),d=new Cn({mapValue:{fields:i.document.fields}}),p=on.newFoundDocument(r,a,u,d),h=i.targetIds||[],v=i.removedTargetIds||[];t=new Ld(h,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=am(n,i.document),a=i.readTime?qi(i.readTime):Me.min(),u=on.newNoDocument(r,a),d=i.removedTargetIds||[];t=new Ld([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=am(n,i.document),a=i.removedTargetIds||[];t=new Ld([],a,r,null)}else{if(!("filter"in e))return Re(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:a}=i,u=new dk(r,a),d=i.targetId;t=new sw(d,u)}}return t}function Ak(n,e){let t;if(e instanceof Ou)t={update:nT(n,e.key,e.value)};else if(e instanceof nw)t={delete:Om(n,e.key)};else if(e instanceof Mr)t={update:nT(n,e.key,e.data),updateMask:Dk(e.fieldMask)};else{if(!(e instanceof lk))return Re(16599,{dt:e.type});t={verify:Om(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(a,u){const d=u.transform;if(d instanceof of)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Pa)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof xu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof af)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Re(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(r,a){return a.updateTime!==void 0?{updateTime:Ek(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Re(27497)})(n,e.precondition)),t}function Ck(n,e){return n&&n.length>0?(tt(e!==void 0,14353),n.map((t=>(function(r,a){let u=r.updateTime?qi(r.updateTime):qi(a);return u.isEqual(Me.min())&&(u=qi(a)),new rk(u,r.transformResults||[])})(t,e)))):[]}function wk(n,e){return{documents:[lw(n,e.path)]}}function Ik(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=lw(n,r);const a=(function(h){if(h.length!==0)return dw(Yi.create(h,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(h){if(h.length!==0)return h.map((v=>(function(T){return{field:ya(T.field),direction:bk(T.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=Um(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:t,parent:r}}function xk(n){let e=Tk(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){tt(i===1,65062);const v=t.from[0];v.allDescendants?r=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=(function(E){const T=cw(E);return T instanceof Yi&&GC(T)?T.getFilters():[T]})(t.where));let u=[];t.orderBy&&(u=(function(E){return E.map((T=>(function(D){return new rf(va(D.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(T)))})(t.orderBy));let d=null;t.limit&&(d=(function(E){let T;return T=typeof E=="object"?E.value:E,xf(T)?null:T})(t.limit));let p=null;t.startAt&&(p=(function(E){const T=!!E.before,I=E.values||[];return new sf(I,T)})(t.startAt));let h=null;return t.endAt&&(h=(function(E){const T=!E.before,I=E.values||[];return new sf(I,T)})(t.endAt)),zD(e,r,u,a,d,"F",p,h)}function Rk(n,e){const t=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:r})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function cw(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=va(t.unaryFilter.field);return Ft.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=va(t.unaryFilter.field);return Ft.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=va(t.unaryFilter.field);return Ft.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=va(t.unaryFilter.field);return Ft.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ft.create(va(t.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Yi.create(t.compositeFilter.filters.map((i=>cw(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(t.compositeFilter.op))})(n):Re(30097,{filter:n})}function bk(n){return gk[n]}function Nk(n){return yk[n]}function Mk(n){return vk[n]}function ya(n){return{fieldPath:n.canonicalString()}}function va(n){return en.fromServerFormat(n.fieldPath)}function dw(n){return n instanceof Ft?(function(t){if(t.op==="=="){if(zE(t.value))return{unaryFilter:{field:ya(t.field),op:"IS_NAN"}};if(BE(t.value))return{unaryFilter:{field:ya(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(zE(t.value))return{unaryFilter:{field:ya(t.field),op:"IS_NOT_NAN"}};if(BE(t.value))return{unaryFilter:{field:ya(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ya(t.field),op:Nk(t.op),value:t.value}}})(n):n instanceof Yi?(function(t){const i=t.getFilters().map((r=>dw(r)));return i.length===1?i[0]:{compositeFilter:{op:Mk(t.op),filters:i}}})(n):Re(54877,{filter:n})}function Dk(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function fw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function hw(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,t,i,r,a=Me.min(),u=Me.min(),d=tn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.yt=e}}function Pk(n){const e=xk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Vm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.Sn=new Uk}addToCollectionParentIndex(e,t){return this.Sn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(_r.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(_r.min())}updateCollectionGroup(e,t,i){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class Uk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Ht(mt.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ht(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pw=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(pw,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Va(0)}static ar(){return new Va(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="LruGarbageCollector",Lk=1048576;function rT([n,e],[t,i]){const r=Je(n,t);return r===0?Je(e,i):r}class Ok{constructor(e){this.Pr=e,this.buffer=new Ht(rT),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();rT(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Fk{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ve(sT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){qa(t)?ve(sT,"Ignoring IndexedDB error during garbage collection: ",t):await za(t)}await this.Ar(3e5)}))}}class Gk{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return re.resolve(If.ce);const i=new Ok(t);return this.Vr.forEachTarget(e,(r=>i.Er(r.sequenceNumber))).next((()=>this.Vr.mr(e,(r=>i.Er(r))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(iT)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iT):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let i,r,a,u,d,p,h;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),r=this.params.maximumSequenceNumbersToCollect):r=E,u=Date.now(),this.nthSequenceNumber(e,r)))).next((E=>(i=E,d=Date.now(),this.removeTargets(e,i,t)))).next((E=>(a=E,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(h=Date.now(),ma()<=qe.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${r} in `+(d-u)+`ms
	Removed ${a} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(h-p)+`ms
Total Duration: ${h-v}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:E}))))}}function Hk(n,e){return new Gk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.changes=new Ao((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?re.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(i=r,this.remoteDocumentCache.getEntry(e,t)))).next((r=>(i!==null&&gu(i.mutation,r,Vn.empty(),ft.now()),r)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Ke()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Ke()){const r=fo();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,i).next((a=>{let u=au();return a.forEach(((d,p)=>{u=u.insert(d,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const i=fo();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Ke())))}populateOverlays(e,t,i){const r=[];return i.forEach((a=>{t.has(a)||r.push(a)})),this.documentOverlayCache.getOverlays(e,r).next((a=>{a.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,i,r){let a=Es();const u=mu(),d=(function(){return mu()})();return t.forEach(((p,h)=>{const v=i.get(h.key);r.has(h.key)&&(v===void 0||v.mutation instanceof Mr)?a=a.insert(h.key,h):v!==void 0?(u.set(h.key,v.mutation.getFieldMask()),gu(v.mutation,h,v.mutation.getFieldMask(),ft.now())):u.set(h.key,Vn.empty())})),this.recalculateAndSaveOverlays(e,a).next((p=>(p.forEach(((h,v)=>u.set(h,v))),t.forEach(((h,v)=>d.set(h,new zk(v,u.get(h)??null)))),d)))}recalculateAndSaveOverlays(e,t){const i=mu();let r=new gt(((u,d)=>u-d)),a=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((p=>{const h=t.get(p);if(h===null)return;let v=i.get(p)||Vn.empty();v=d.applyToLocalView(h,v),i.set(p,v);const E=(r.get(d.batchId)||Ke()).add(p);r=r.insert(d.batchId,E)}))})).next((()=>{const u=[],d=r.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),h=p.key,v=p.value,E=$C();v.forEach((T=>{if(!a.has(T)){const I=ew(t.get(T),i.get(T));I!==null&&E.set(T,I),a=a.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,h,E))}return re.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,r){return qD(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):JD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next((a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):re.resolve(fo());let d=Au,p=a;return u.next((h=>re.forEach(h,((v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),a.get(v)?re.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{p=p.insert(v,T)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,p,h,Ke()))).next((v=>({batchId:d,changes:YC(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next((i=>{let r=au();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const a=t.collectionGroup;let u=au();return this.indexManager.getCollectionParents(e,a).next((d=>re.forEach(d,(p=>{const h=(function(E,T){return new bf(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,i,r).next((v=>{v.forEach(((E,T)=>{u=u.insert(E,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,i,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,r)))).next((u=>{a.forEach(((p,h)=>{const v=h.getKey();u.get(v)===null&&(u=u.insert(v,on.newInvalidDocument(v)))}));let d=au();return u.forEach(((p,h)=>{const v=a.get(p);v!==void 0&&gu(v.mutation,h,Vn.empty(),ft.now()),Mf(t,h)&&(d=d.insert(p,h))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return re.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(r){return{id:r.id,version:r.version,createTime:qi(r.createTime)}})(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(r){return{name:r.name,query:Pk(r.bundledQuery),readTime:qi(r.readTime)}})(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this.overlays=new gt(we.comparator),this.Lr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const i=fo();return re.forEach(t,(r=>this.getOverlay(e,r).next((a=>{a!==null&&i.set(r,a)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((r,a)=>{this.bt(e,t,a)})),re.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Lr.get(i);return r!==void 0&&(r.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(i)),re.resolve()}getOverlaysForCollection(e,t,i){const r=fo(),a=t.length+1,u=new we(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const p=d.getNext().value,h=p.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===a&&p.largestBatchId>i&&r.set(p.getKey(),p)}return re.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new gt(((h,v)=>h-v));const u=this.overlays.getIterator();for(;u.hasNext();){const h=u.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>i){let v=a.get(h.largestBatchId);v===null&&(v=fo(),a=a.insert(h.largestBatchId,v)),v.set(h.getKey(),h)}}const d=fo(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((h,v)=>d.set(h,v))),!(d.size()>=r)););return re.resolve(d)}bt(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const u=this.Lr.get(r.largestBatchId).delete(i.key);this.Lr.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new ck(t,i));let a=this.Lr.get(t);a===void 0&&(a=Ke(),this.Lr.set(t,a)),this.Lr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(){this.kr=new Ht(Jt.Kr),this.qr=new Ht(Jt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const i=new Jt(e,t);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new Jt(e,t))}Qr(e,t){e.forEach((i=>this.removeReference(i,t)))}Gr(e){const t=new we(new mt([])),i=new Jt(t,e),r=new Jt(t,e+1),a=[];return this.qr.forEachInRange([i,r],(u=>{this.Wr(u),a.push(u.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new we(new mt([])),i=new Jt(t,e),r=new Jt(t,e+1);let a=Ke();return this.qr.forEachInRange([i,r],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new Jt(e,0),i=this.kr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Jt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return we.comparator(e.key,t.key)||Je(e.Hr,t.Hr)}static Ur(e,t){return Je(e.Hr,t.Hr)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Ht(Jt.Kr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new uk(a,t,i,r);this.mutationQueue.push(u);for(const d of r)this.Jr=this.Jr.add(new Jt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,t){return re.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.Xr(i),a=r<0?0:r;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Rg:this.Yn-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Jt(t,0),r=new Jt(t,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([i,r],(u=>{const d=this.Zr(u.Hr);a.push(d)})),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ht(Je);return t.forEach((r=>{const a=new Jt(r,0),u=new Jt(r,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,u],(d=>{i=i.add(d.Hr)}))})),re.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;we.isDocumentKey(a)||(a=a.child(""));const u=new Jt(new we(a),0);let d=new Ht(Je);return this.Jr.forEachWhile((p=>{const h=p.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(d=d.add(p.Hr)),!0)}),u),re.resolve(this.Yr(d))}Yr(e){const t=[];return e.forEach((i=>{const r=this.Zr(i);r!==null&&t.push(r)})),t}removeMutationBatch(e,t){tt(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return re.forEach(t.mutations,(r=>{const a=new Jt(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,t){const i=new Jt(t,0),r=this.Jr.firstAfterOrEqual(i);return re.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.ti=e,this.docs=(function(){return new gt(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,u=this.ti(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return re.resolve(i?i.document.mutableCopy():on.newInvalidDocument(t))}getEntries(e,t){let i=Es();return t.forEach((r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():on.newInvalidDocument(r))})),re.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=Es();const u=t.path,d=new we(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:h,value:{document:v}}=p.getNext();if(!u.isPrefixOf(h.path))break;h.path.length>u.length+1||ED(_D(v),i)<=0||(r.has(v.key)||Mf(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,t,i,r){Re(9500)}ni(e,t){return re.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new Qk(this)}getSize(e){return re.resolve(this.size)}}class Qk extends Bk{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?t.push(this.Mr.addEntry(e,r)):this.Mr.removeEntry(i)})),re.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.persistence=e,this.ri=new Ao((t=>Mg(t)),Dg),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.ii=0,this.si=new Og,this.targetCount=0,this.oi=Va._r()}forEachTarget(e,t){return this.ri.forEach(((i,r)=>t(r))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ii&&(this.ii=t),re.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Va(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.lr(t),re.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.ri.forEach(((u,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.ri.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),r++)})),re.waitFor(a).next((()=>r))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const i=this.ri.get(t)||null;return re.resolve(i)}addMatchingKeys(e,t,i){return this.si.$r(t,i),re.resolve()}removeMatchingKeys(e,t,i){this.si.Qr(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach((u=>{a.push(r.markPotentiallyOrphaned(e,u))})),re.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),re.resolve()}getMatchingKeysForTargetId(e,t){const i=this.si.jr(t);return re.resolve(i)}containsKey(e,t){return re.resolve(this.si.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,t){this._i={},this.overlays={},this.ai=new If(0),this.ui=!1,this.ui=!0,this.ci=new Yk,this.referenceDelegate=e(this),this.li=new Xk(this),this.indexManager=new Vk,this.remoteDocumentCache=(function(r){return new jk(r)})((i=>this.referenceDelegate.hi(i))),this.serializer=new kk(t),this.Pi=new Jk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Kk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this._i[e.toKey()];return i||(i=new $k(t,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,i){ve("MemoryPersistence","Starting transaction:",e);const r=new Wk(this.ai.next());return this.referenceDelegate.Ti(),i(r).next((a=>this.referenceDelegate.Ii(r).next((()=>a)))).toPromise().then((a=>(r.raiseOnCommittedEvent(),a)))}Ei(e,t){return re.or(Object.values(this._i).map((i=>()=>i.containsKey(e,t))))}}class Wk extends SD{constructor(e){super(),this.currentSequenceNumber=e}}class Fg{constructor(e){this.persistence=e,this.Ri=new Og,this.Ai=null}static Vi(e){return new Fg(e)}get di(){if(this.Ai)return this.Ai;throw Re(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.di.delete(i.toString()),re.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.di.add(i.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),re.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((r=>this.di.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((r=>{r.forEach((a=>this.di.add(a.toString())))})).next((()=>i.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.di,(i=>{const r=we.fromPath(i);return this.mi(e,r).next((a=>{a||t.removeEntry(r,Me.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return re.or([()=>re.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class uf{constructor(e,t){this.persistence=e,this.fi=new Ao((i=>wD(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=Hk(this,t)}static Vi(e,t){return new uf(e,t)}Ti(){}Ii(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((r=>i+r))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}mr(e,t){return re.forEach(this.fi,((i,r)=>this.wr(e,i,r).next((a=>a?re.resolve():t(r)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ni(e,(u=>this.wr(e,u,t).next((d=>{d||(i++,a.removeEntry(u,Me.min()))})))).next((()=>a.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),re.resolve()}removeReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),re.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Pd(e.data.value)),t}wr(e,t,i){return re.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.fi.get(t);return re.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Ts=i,this.Is=r}static Es(e,t){let i=Ke(),r=Ke();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new Gg(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return I1()?8:AD(ln())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,r){const a={result:null};return this.gs(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ps(e,t,r,i).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new Zk;return this.ys(e,t,u).next((d=>{if(a.result=d,this.As)return this.ws(e,t,u,d.size)}))})).next((()=>a.result))}ws(e,t,i,r){return i.documentReadCount<this.Vs?(ma()<=qe.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",ga(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),re.resolve()):(ma()<=qe.DEBUG&&ve("QueryEngine","Query:",ga(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ds*r?(ma()<=qe.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",ga(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bi(t))):re.resolve())}gs(e,t){if(YE(t))return re.resolve(null);let i=Bi(t);return this.indexManager.getIndexType(e,i).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=Vm(t,null,"F"),i=Bi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const u=Ke(...a);return this.fs.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,i).next((p=>{const h=this.bs(t,d);return this.Ss(t,h,u,p.readTime)?this.gs(e,Vm(t,null,"F")):this.Ds(e,h,t,p)}))))})))))}ps(e,t,i,r){return YE(t)||r.isEqual(Me.min())?re.resolve(null):this.fs.getDocuments(e,i).next((a=>{const u=this.bs(t,a);return this.Ss(t,u,i,r)?re.resolve(null):(ma()<=qe.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ga(t)),this.Ds(e,u,t,vD(r,Au)).next((d=>d)))}))}bs(e,t){let i=new Ht(JC(e));return t.forEach(((r,a)=>{Mf(e,a)&&(i=i.add(a))})),i}Ss(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}ys(e,t,i){return ma()<=qe.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",ga(t)),this.fs.getDocumentsMatchingQuery(e,t,_r.min(),i)}Ds(e,t,i,r){return this.fs.getDocumentsMatchingQuery(e,i,r).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg="LocalStore",tP=3e8;class nP{constructor(e,t,i,r){this.persistence=e,this.Cs=t,this.serializer=r,this.vs=new gt(Je),this.Fs=new Ao((a=>Mg(a)),Dg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qk(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function iP(n,e,t,i){return new nP(n,e,t,i)}async function gw(n,e){const t=Ve(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next((a=>(r=a,t.Os(e),t.mutationQueue.getAllMutationBatches(i)))).next((a=>{const u=[],d=[];let p=Ke();for(const h of r){u.push(h.batchId);for(const v of h.mutations)p=p.add(v.key)}for(const h of a){d.push(h.batchId);for(const v of h.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next((h=>({Ns:h,removedBatchIds:u,addedBatchIds:d})))}))}))}function sP(n,e){const t=Ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=e.batch.keys(),a=t.xs.newChangeBuffer({trackRemovals:!0});return(function(d,p,h,v){const E=h.batch,T=E.keys();let I=re.resolve();return T.forEach((D=>{I=I.next((()=>v.getEntry(p,D))).next((L=>{const k=h.docVersions.get(D);tt(k!==null,48541),L.version.compareTo(k)<0&&(E.applyToRemoteDocument(L,h),L.isValidDocument()&&(L.setReadTime(h.commitVersion),v.addEntry(L)))}))})),I.next((()=>d.mutationQueue.removeMutationBatch(p,E)))})(t,i,e,a).next((()=>a.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let p=Ke();for(let h=0;h<d.mutationResults.length;++h)d.mutationResults[h].transformResults.length>0&&(p=p.add(d.batch.mutations[h].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(i,r)))}))}function yw(n){const e=Ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function rP(n,e){const t=Ve(n),i=e.snapshotVersion;let r=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});r=t.vs;const d=[];e.targetChanges.forEach(((v,E)=>{const T=r.get(E);if(!T)return;d.push(t.li.removeMatchingKeys(a,v.removedDocuments,E).next((()=>t.li.addMatchingKeys(a,v.addedDocuments,E))));let I=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?I=I.withResumeToken(tn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,i)),r=r.insert(E,I),(function(L,k,z){return L.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=tP?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(T,I,v)&&d.push(t.li.updateTargetData(a,I))}));let p=Es(),h=Ke();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))})),d.push(oP(a,u,e.documentUpdates).next((v=>{p=v.Bs,h=v.Ls}))),!i.isEqual(Me.min())){const v=t.li.getLastRemoteSnapshotVersion(a).next((E=>t.li.setTargetsMetadata(a,a.currentSequenceNumber,i)));d.push(v)}return re.waitFor(d).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,p,h))).next((()=>p))})).then((a=>(t.vs=r,a)))}function oP(n,e,t){let i=Ke(),r=Ke();return t.forEach((a=>i=i.add(a))),e.getEntries(n,i).next((a=>{let u=Es();return t.forEach(((d,p)=>{const h=a.get(d);p.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(d)),p.isNoDocument()&&p.version.isEqual(Me.min())?(e.removeEntry(d,p.readTime),u=u.insert(d,p)):!h.isValidDocument()||p.version.compareTo(h.version)>0||p.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(p),u=u.insert(d,p)):ve(Hg,"Ignoring outdated watch update for ",d,". Current version:",h.version," Watch version:",p.version)})),{Bs:u,Ls:r}}))}function aP(n,e){const t=Ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Rg),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function lP(n,e){const t=Ve(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return t.li.getTargetData(i,e).next((a=>a?(r=a,re.resolve(r)):t.li.allocateTargetId(i).next((u=>(r=new dr(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.li.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=t.vs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.vs=t.vs.insert(i.targetId,i),t.Fs.set(e,i.targetId)),i}))}async function Gm(n,e,t){const i=Ve(n),r=i.vs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,(u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!qa(u))throw u;ve(Hg,`Failed to update sequence numbers for target ${e}: ${u}`)}i.vs=i.vs.remove(e),i.Fs.delete(r.target)}function oT(n,e,t){const i=Ve(n);let r=Me.min(),a=Ke();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,h,v){const E=Ve(p),T=E.Fs.get(v);return T!==void 0?re.resolve(E.vs.get(T)):E.li.getTargetData(h,v)})(i,u,Bi(e)).next((d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(u,d.targetId).next((p=>{a=p}))})).next((()=>i.Cs.getDocumentsMatchingQuery(u,e,t?r:Me.min(),t?a:Ke()))).next((d=>(uP(i,YD(e),d),{documents:d,ks:a})))))}function uP(n,e,t){let i=n.Ms.get(e)||Me.min();t.forEach(((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),n.Ms.set(e,i)}class aT{constructor(){this.activeTargetIds=ZD()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cP{constructor(){this.vo=new aT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,i){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new aT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="ConnectivityMonitor";class uT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ve(lT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ve(lT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad=null;function Hm(){return Ad===null?Ad=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ad++,"0x"+Ad.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="RestConnection",fP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class hP{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${i}/databases/${r}`,this.$o=this.databaseId.database===tf?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(e,t,i,r,a){const u=Hm(),d=this.Qo(e,t.toUriEncodedString());ve(lm,`Sending RPC '${e}' ${u}:`,d,i);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,r,a);const{host:h}=new URL(d),v=Fa(h);return this.zo(e,d,p,i,v).then((E=>(ve(lm,`Received RPC '${e}' ${u}: `,E),E)),(E=>{throw vo(lm,`RPC '${e}' ${u} failed with error: `,E,"url: ",d,"request:",i),E}))}jo(e,t,i,r,a,u){return this.Wo(e,t,i,r,a)}Go(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ba})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((r,a)=>e[a]=r)),i&&i.headers.forEach(((r,a)=>e[a]=r))}Qo(e,t){const i=fP[e];let r=`${this.qo}/v1/${t}:${i}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection",tu=(n,e,t)=>{n.listen(e,(i=>{try{t(i)}catch(r){setTimeout((()=>{throw r}),0)}}))};class Ia extends hP{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ia.c_){const e=AC();tu(e,SC.STAT_EVENT,(t=>{t.stat===bm.PROXY?ve(sn,"STAT_EVENT: detected buffering proxy"):t.stat===bm.NOPROXY&&ve(sn,"STAT_EVENT: detected no buffering proxy")})),Ia.c_=!0}}zo(e,t,i,r,a){const u=Hm();return new Promise(((d,p)=>{const h=new EC;h.setWithCredentials(!0),h.listenOnce(TC.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case kd.NO_ERROR:const E=h.getResponseJson();ve(sn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),d(E);break;case kd.TIMEOUT:ve(sn,`RPC '${e}' ${u} timed out`),p(new Te(le.DEADLINE_EXCEEDED,"Request time out"));break;case kd.HTTP_ERROR:const T=h.getStatus();if(ve(sn,`RPC '${e}' ${u} failed with status:`,T,"response text:",h.getResponseText()),T>0){let I=h.getResponseJson();Array.isArray(I)&&(I=I[0]);const D=I==null?void 0:I.error;if(D&&D.status&&D.message){const L=(function(z){const Z=z.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(Z)>=0?Z:le.UNKNOWN})(D.status);p(new Te(L,D.message))}else p(new Te(le.UNKNOWN,"Server responded with status "+h.getStatus()))}else p(new Te(le.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:u,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{ve(sn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(r);ve(sn,`RPC '${e}' ${u} sending request:`,r),h.send(t,"POST",v,i,15)}))}T_(e,t,i){const r=Hm(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const h=a.join("");ve(sn,`Creating RPC '${e}' stream ${r}: ${h}`,d);const v=u.createWebChannel(h,d);this.I_(v);let E=!1,T=!1;const I=new pP({Ho:D=>{T?ve(sn,`Not sending because RPC '${e}' stream ${r} is closed:`,D):(E||(ve(sn,`Opening RPC '${e}' stream ${r} transport.`),v.open(),E=!0),ve(sn,`RPC '${e}' stream ${r} sending:`,D),v.send(D))},Jo:()=>v.close()});return tu(v,ou.EventType.OPEN,(()=>{T||(ve(sn,`RPC '${e}' stream ${r} transport opened.`),I.i_())})),tu(v,ou.EventType.CLOSE,(()=>{T||(T=!0,ve(sn,`RPC '${e}' stream ${r} transport closed`),I.o_(),this.E_(v))})),tu(v,ou.EventType.ERROR,(D=>{T||(T=!0,vo(sn,`RPC '${e}' stream ${r} transport errored. Name:`,D.name,"Message:",D.message),I.o_(new Te(le.UNAVAILABLE,"The operation could not be completed")))})),tu(v,ou.EventType.MESSAGE,(D=>{var L;if(!T){const k=D.data[0];tt(!!k,16349);const z=k,Z=(z==null?void 0:z.error)||((L=z[0])==null?void 0:L.error);if(Z){ve(sn,`RPC '${e}' stream ${r} received error:`,Z);const j=Z.status;let oe=(function(M){const b=Vt[M];if(b!==void 0)return iw(b)})(j),Q=Z.message;j==="NOT_FOUND"&&Q.includes("database")&&Q.includes("does not exist")&&Q.includes(this.databaseId.database)&&vo(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),oe===void 0&&(oe=le.INTERNAL,Q="Unknown error status: "+j+" with message "+Z.message),T=!0,I.o_(new Te(oe,Q)),v.close()}else ve(sn,`RPC '${e}' stream ${r} received:`,k),I.__(k)}})),Ia.u_(),setTimeout((()=>{I.s_()}),0),I}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,i){super.Go(e,t,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return CC()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(n){return new Ia(n)}function um(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(n){return new _k(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ia.c_=!1;class vw{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Ci=e,this.timerId=t,this.R_=i,this.A_=r,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-i);r>0&&ve("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="PersistentStream";class _w{constructor(e,t,i,r,a,u,d,p){this.Ci=e,this.b_=i,this.S_=r,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(_s(t.toString()),_s("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===t&&this.G_(i,r)}),(i=>{e((()=>{const r=new Te(le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(e,t){const i=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.H_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(cT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(ve(cT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gP extends _w{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Sk(this.serializer,e),i=(function(a){if(!("targetChange"in a))return Me.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Me.min():u.readTime?qi(u.readTime):Me.min()})(e);return this.listener.J_(t,i)}Z_(e){const t={};t.database=Fm(this.serializer),t.addTarget=(function(a,u){let d;const p=u.target;if(d=Pm(p)?{documents:wk(a,p)}:{query:Ik(a,p).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=ow(a,u.resumeToken);const h=Um(a,u.expectedCount);h!==null&&(d.expectedCount=h)}else if(u.snapshotVersion.compareTo(Me.min())>0){d.readTime=lf(a,u.snapshotVersion.toTimestamp());const h=Um(a,u.expectedCount);h!==null&&(d.expectedCount=h)}return d})(this.serializer,e);const i=Rk(this.serializer,e);i&&(t.labels=i),this.K_(t)}X_(e){const t={};t.database=Fm(this.serializer),t.removeTarget=e,this.K_(t)}}class yP extends _w{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Ck(e.writeResults,e.commitTime),i=qi(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Fm(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>Ak(this.serializer,i)))};this.K_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{}class _P extends vP{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Te(le.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Wo(e,Lm(t,i),r,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(le.UNKNOWN,a.toString())}))}jo(e,t,i,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.jo(e,Lm(t,i),r,u,d,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Te(le.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function EP(n,e,t,i){return new _P(n,e,t,i)}class TP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_s(t),this.aa=!1):ve("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="RemoteStore";class SP{constructor(e,t,i,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((u=>{i.enqueueAndForget((async()=>{Co(this)&&(ve(Eo,"Restarting streams for network reachability change."),await(async function(p){const h=Ve(p);h.Ea.add(4),await Gu(h),h.Va.set("Unknown"),h.Ea.delete(4),await Uf(h)})(this))}))})),this.Va=new TP(i,r)}}async function Uf(n){if(Co(n))for(const e of n.Ra)await e(!0)}async function Gu(n){for(const e of n.Ra)await e(!1)}function Ew(n,e){const t=Ve(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Jg(t)?qg(t):Ja(t).O_()&&zg(t,e))}function Bg(n,e){const t=Ve(n),i=Ja(t);t.Ia.delete(e),i.O_()&&Tw(t,e),t.Ia.size===0&&(i.O_()?i.L_():Co(t)&&t.Va.set("Unknown"))}function zg(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ja(n).Z_(e)}function Tw(n,e){n.da.$e(e),Ja(n).X_(e)}function qg(n){n.da=new mk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Ja(n).start(),n.Va.ua()}function Jg(n){return Co(n)&&!Ja(n).x_()&&n.Ia.size>0}function Co(n){return Ve(n).Ea.size===0}function Sw(n){n.da=void 0}async function AP(n){n.Va.set("Online")}async function CP(n){n.Ia.forEach(((e,t)=>{zg(n,e)}))}async function wP(n,e){Sw(n),Jg(n)?(n.Va.ha(e),qg(n)):n.Va.set("Unknown")}async function IP(n,e,t){if(n.Va.set("Online"),e instanceof rw&&e.state===2&&e.cause)try{await(async function(r,a){const u=a.cause;for(const d of a.targetIds)r.Ia.has(d)&&(await r.remoteSyncer.rejectListen(d,u),r.Ia.delete(d),r.da.removeTarget(d))})(n,e)}catch(i){ve(Eo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await cf(n,i)}else if(e instanceof Ld?n.da.Xe(e):e instanceof sw?n.da.st(e):n.da.tt(e),!t.isEqual(Me.min()))try{const i=await yw(n.localStore);t.compareTo(i)>=0&&await(function(a,u){const d=a.da.Tt(u);return d.targetChanges.forEach(((p,h)=>{if(p.resumeToken.approximateByteSize()>0){const v=a.Ia.get(h);v&&a.Ia.set(h,v.withResumeToken(p.resumeToken,u))}})),d.targetMismatches.forEach(((p,h)=>{const v=a.Ia.get(p);if(!v)return;a.Ia.set(p,v.withResumeToken(tn.EMPTY_BYTE_STRING,v.snapshotVersion)),Tw(a,p);const E=new dr(v.target,p,h,v.sequenceNumber);zg(a,E)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(i){ve(Eo,"Failed to raise snapshot:",i),await cf(n,i)}}async function cf(n,e,t){if(!qa(e))throw e;n.Ea.add(1),await Gu(n),n.Va.set("Offline"),t||(t=()=>yw(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ve(Eo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Uf(n)}))}function Aw(n,e){return e().catch((t=>cf(n,t,e)))}async function Lf(n){const e=Ve(n),t=Ar(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Rg;for(;xP(e);)try{const r=await aP(e.localStore,i);if(r===null){e.Ta.length===0&&t.L_();break}i=r.batchId,RP(e,r)}catch(r){await cf(e,r)}Cw(e)&&ww(e)}function xP(n){return Co(n)&&n.Ta.length<10}function RP(n,e){n.Ta.push(e);const t=Ar(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function Cw(n){return Co(n)&&!Ar(n).x_()&&n.Ta.length>0}function ww(n){Ar(n).start()}async function bP(n){Ar(n).ra()}async function NP(n){const e=Ar(n);for(const t of n.Ta)e.ea(t.mutations)}async function MP(n,e,t){const i=n.Ta.shift(),r=Vg.from(i,e,t);await Aw(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await Lf(n)}async function DP(n,e){e&&Ar(n).Y_&&await(async function(i,r){if((function(u){return fk(u)&&u!==le.ABORTED})(r.code)){const a=i.Ta.shift();Ar(i).B_(),await Aw(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r))),await Lf(i)}})(n,e),Cw(n)&&ww(n)}async function dT(n,e){const t=Ve(n);t.asyncQueue.verifyOperationInProgress(),ve(Eo,"RemoteStore received new credentials");const i=Co(t);t.Ea.add(3),await Gu(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Uf(t)}async function kP(n,e){const t=Ve(n);e?(t.Ea.delete(2),await Uf(t)):e||(t.Ea.add(2),await Gu(t),t.Va.set("Unknown"))}function Ja(n){return n.ma||(n.ma=(function(t,i,r){const a=Ve(t);return a.sa(),new gP(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)})(n.datastore,n.asyncQueue,{Zo:AP.bind(null,n),Yo:CP.bind(null,n),t_:wP.bind(null,n),J_:IP.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),Jg(n)?qg(n):n.Va.set("Unknown")):(await n.ma.stop(),Sw(n))}))),n.ma}function Ar(n){return n.fa||(n.fa=(function(t,i,r){const a=Ve(t);return a.sa(),new yP(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:bP.bind(null,n),t_:DP.bind(null,n),ta:NP.bind(null,n),na:MP.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Lf(n)):(await n.fa.stop(),n.Ta.length>0&&(ve(Eo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,d=new Kg(e,t,u,r,a);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yg(n,e){if(_s("AsyncQueue",`${e}: ${n}`),qa(n))return new Te(le.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{static emptySet(e){return new xa(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||we.comparator(t.key,i.key):(t,i)=>we.comparator(t.key,i.key),this.keyedMap=au(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new xa;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(){this.ga=new gt(we.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Re(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Ua{constructor(e,t,i,r,a,u,d,p,h){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=h}static fromInitialDocuments(e,t,i,r,a){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new Ua(e,t,xa.emptySet(t),u,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class VP{constructor(){this.queries=hT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const r=Ve(t),a=r.queries;r.queries=hT(),a.forEach(((u,d)=>{for(const p of d.ba)p.onError(i)}))})(this,new Te(le.ABORTED,"Firestore shutting down"))}}function hT(){return new Ao((n=>qC(n)),Nf)}async function UP(n,e){const t=Ve(n);let i=3;const r=e.query;let a=t.queries.get(r);a?!a.Sa()&&e.Da()&&(i=2):(a=new PP,i=e.Da()?0:1);try{switch(i){case 0:a.wa=await t.onListen(r,!0);break;case 1:a.wa=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(u){const d=Yg(u,`Initialization of query '${ga(e.query)}' failed`);return void e.onError(d)}t.queries.set(r,a),a.ba.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&$g(t)}async function LP(n,e){const t=Ve(n),i=e.query;let r=3;const a=t.queries.get(i);if(a){const u=a.ba.indexOf(e);u>=0&&(a.ba.splice(u,1),a.ba.length===0?r=e.Da()?0:1:!a.Sa()&&e.Da()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function OP(n,e){const t=Ve(n);let i=!1;for(const r of e){const a=r.query,u=t.queries.get(a);if(u){for(const d of u.ba)d.Fa(r)&&(i=!0);u.wa=r}}i&&$g(t)}function FP(n,e,t){const i=Ve(n),r=i.queries.get(e);if(r)for(const a of r.ba)a.onError(t);i.queries.delete(e)}function $g(n){n.Ca.forEach((e=>{e.next()}))}var Bm,pT;(pT=Bm||(Bm={})).Ma="default",pT.Cache="cache";class GP{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Ua(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this.key=e}}class xw{constructor(e){this.key=e}}class HP{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ke(),this.mutatedKeys=Ke(),this.eu=JC(e),this.tu=new xa(this.eu)}get nu(){return this.Za}ru(e,t){const i=t?t.iu:new fT,r=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,d=!1;const p=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((v,E)=>{const T=r.get(v),I=Mf(this.query,E)?E:null,D=!!T&&this.mutatedKeys.has(T.key),L=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let k=!1;T&&I?T.data.isEqual(I.data)?D!==L&&(i.track({type:3,doc:I}),k=!0):this.su(T,I)||(i.track({type:2,doc:I}),k=!0,(p&&this.eu(I,p)>0||h&&this.eu(I,h)<0)&&(d=!0)):!T&&I?(i.track({type:0,doc:I}),k=!0):T&&!I&&(i.track({type:1,doc:T}),k=!0,(p||h)&&(d=!0)),k&&(I?(u=u.add(I),a=L?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{tu:u,iu:i,Ss:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,E)=>(function(I,D){const L=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Vt:k})}};return L(I)-L(D)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(i),r=r??!1;const d=t&&!r?this._u():[],p=this.Ya.size===0&&this.current&&!r?1:0,h=p!==this.Xa;return this.Xa=p,u.length!==0||h?{snapshot:new Ua(this.query,e.tu,a,u,e.mutatedKeys,p===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ke(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const t=[];return e.forEach((i=>{this.Ya.has(i)||t.push(new xw(i))})),this.Ya.forEach((i=>{e.has(i)||t.push(new Iw(i))})),t}cu(e){this.Za=e.ks,this.Ya=Ke();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ua.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const jg="SyncEngine";class BP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class zP{constructor(e){this.key=e,this.hu=!1}}class qP{constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ao((d=>qC(d)),Nf),this.Iu=new Map,this.Eu=new Set,this.Ru=new gt(we.comparator),this.Au=new Map,this.Vu=new Og,this.du={},this.mu=new Map,this.fu=Va.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JP(n,e,t=!0){const i=kw(n);let r;const a=i.Tu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.lu()):r=await Rw(i,e,t,!0),r}async function KP(n,e){const t=kw(n);await Rw(t,e,!0,!1)}async function Rw(n,e,t,i){const r=await lP(n.localStore,Bi(e)),a=r.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return i&&(d=await YP(n,e,a,u==="current",r.resumeToken)),n.isPrimaryClient&&t&&Ew(n.remoteStore,r),d}async function YP(n,e,t,i,r){n.pu=(E,T,I)=>(async function(L,k,z,Z){let j=k.view.ru(z);j.Ss&&(j=await oT(L.localStore,k.query,!1).then((({documents:M})=>k.view.ru(M,j))));const oe=Z&&Z.targetChanges.get(k.targetId),Q=Z&&Z.targetMismatches.get(k.targetId)!=null,fe=k.view.applyChanges(j,L.isPrimaryClient,oe,Q);return gT(L,k.targetId,fe.au),fe.snapshot})(n,E,T,I);const a=await oT(n.localStore,e,!0),u=new HP(e,a.ks),d=u.ru(a.documents),p=Fu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),h=u.applyChanges(d,n.isPrimaryClient,p);gT(n,t,h.au);const v=new BP(e,t,u);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),h.snapshot}async function $P(n,e,t){const i=Ve(n),r=i.Tu.get(e),a=i.Iu.get(r.targetId);if(a.length>1)return i.Iu.set(r.targetId,a.filter((u=>!Nf(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Gm(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),t&&Bg(i.remoteStore,r.targetId),zm(i,r.targetId)})).catch(za)):(zm(i,r.targetId),await Gm(i.localStore,r.targetId,!0))}async function jP(n,e){const t=Ve(n),i=t.Tu.get(e),r=t.Iu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Bg(t.remoteStore,i.targetId))}async function QP(n,e,t){const i=iV(n);try{const r=await(function(u,d){const p=Ve(u),h=ft.now(),v=d.reduce(((I,D)=>I.add(D.key)),Ke());let E,T;return p.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let D=Es(),L=Ke();return p.xs.getEntries(I,v).next((k=>{D=k,D.forEach(((z,Z)=>{Z.isValidDocument()||(L=L.add(z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(I,D))).next((k=>{E=k;const z=[];for(const Z of d){const j=ak(Z,E.get(Z.key).overlayedDocument);j!=null&&z.push(new Mr(Z.key,j,LC(j.value.mapValue),zi.exists(!0)))}return p.mutationQueue.addMutationBatch(I,h,z,d)})).next((k=>{T=k;const z=k.applyToLocalDocumentSet(E,L);return p.documentOverlayCache.saveOverlays(I,k.batchId,z)}))})).then((()=>({batchId:T.batchId,changes:YC(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),(function(u,d,p){let h=u.du[u.currentUser.toKey()];h||(h=new gt(Je)),h=h.insert(d,p),u.du[u.currentUser.toKey()]=h})(i,r.batchId,t),await Hu(i,r.changes),await Lf(i.remoteStore)}catch(r){const a=Yg(r,"Failed to persist write");t.reject(a)}}async function bw(n,e){const t=Ve(n);try{const i=await rP(t.localStore,e);e.targetChanges.forEach(((r,a)=>{const u=t.Au.get(a);u&&(tt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?u.hu=!0:r.modifiedDocuments.size>0?tt(u.hu,14607):r.removedDocuments.size>0&&(tt(u.hu,42227),u.hu=!1))})),await Hu(t,i,e)}catch(i){await za(i)}}function mT(n,e,t){const i=Ve(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.Tu.forEach(((a,u)=>{const d=u.view.va(e);d.snapshot&&r.push(d.snapshot)})),(function(u,d){const p=Ve(u);p.onlineState=d;let h=!1;p.queries.forEach(((v,E)=>{for(const T of E.ba)T.va(d)&&(h=!0)})),h&&$g(p)})(i.eventManager,e),r.length&&i.Pu.J_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function XP(n,e,t){const i=Ve(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Au.get(e),a=r&&r.key;if(a){let u=new gt(we.comparator);u=u.insert(a,on.newNoDocument(a,Me.min()));const d=Ke().add(a),p=new Pf(Me.min(),new Map,new gt(Je),u,d);await bw(i,p),i.Ru=i.Ru.remove(a),i.Au.delete(e),Qg(i)}else await Gm(i.localStore,e,!1).then((()=>zm(i,e,t))).catch(za)}async function WP(n,e){const t=Ve(n),i=e.batch.batchId;try{const r=await sP(t.localStore,e);Mw(t,i,null),Nw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Hu(t,r)}catch(r){await za(r)}}async function ZP(n,e,t){const i=Ve(n);try{const r=await(function(u,d){const p=Ve(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let v;return p.mutationQueue.lookupMutationBatch(h,d).next((E=>(tt(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(h,E)))).next((()=>p.mutationQueue.performConsistencyCheck(h))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(h,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,v))).next((()=>p.localDocuments.getDocuments(h,v)))}))})(i.localStore,e);Mw(i,e,t),Nw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Hu(i,r)}catch(r){await za(r)}}function Nw(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Mw(n,e,t){const i=Ve(n);let r=i.du[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.du[i.currentUser.toKey()]=r}}function zm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((i=>{n.Vu.containsKey(i)||Dw(n,i)}))}function Dw(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(Bg(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),Qg(n))}function gT(n,e,t){for(const i of t)i instanceof Iw?(n.Vu.addReference(i.key,e),eV(n,i)):i instanceof xw?(ve(jg,"Document no longer in limbo: "+i.key),n.Vu.removeReference(i.key,e),n.Vu.containsKey(i.key)||Dw(n,i.key)):Re(19791,{wu:i})}function eV(n,e){const t=e.key,i=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(i)||(ve(jg,"New document in limbo: "+t),n.Eu.add(i),Qg(n))}function Qg(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new we(mt.fromString(e)),i=n.fu.next();n.Au.set(i,new zP(t)),n.Ru=n.Ru.insert(t,i),Ew(n.remoteStore,new dr(Bi(kg(t.path)),i,"TargetPurposeLimboResolution",If.ce))}}async function Hu(n,e,t){const i=Ve(n),r=[],a=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,p)=>{u.push(i.pu(p,e,t).then((h=>{var v;if((h||t)&&i.isPrimaryClient){const E=h?!h.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))==null?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(h){r.push(h);const E=Gg.Es(p.targetId,h);a.push(E)}})))})),await Promise.all(u),i.Pu.J_(r),await(async function(p,h){const v=Ve(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>re.forEach(h,(T=>re.forEach(T.Ts,(I=>v.persistence.referenceDelegate.addReference(E,T.targetId,I))).next((()=>re.forEach(T.Is,(I=>v.persistence.referenceDelegate.removeReference(E,T.targetId,I)))))))))}catch(E){if(!qa(E))throw E;ve(Hg,"Failed to update sequence numbers: "+E)}for(const E of h){const T=E.targetId;if(!E.fromCache){const I=v.vs.get(T),D=I.snapshotVersion,L=I.withLastLimboFreeSnapshotVersion(D);v.vs=v.vs.insert(T,L)}}})(i.localStore,a))}async function tV(n,e){const t=Ve(n);if(!t.currentUser.isEqual(e)){ve(jg,"User change. New user:",e.toKey());const i=await gw(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((d=>{d.forEach((p=>{p.reject(new Te(le.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Hu(t,i.Ns)}}function nV(n,e){const t=Ve(n),i=t.Au.get(e);if(i&&i.hu)return Ke().add(i.key);{let r=Ke();const a=t.Iu.get(e);if(!a)return r;for(const u of a){const d=t.Tu.get(u);r=r.unionWith(d.view.nu)}return r}}function kw(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XP.bind(null,e),e.Pu.J_=OP.bind(null,e.eventManager),e.Pu.yu=FP.bind(null,e.eventManager),e}function iV(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZP.bind(null,e),e}class df{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return iP(this.persistence,new eP,e.initialUser,this.serializer)}Cu(e){return new mw(Fg.Vi,this.serializer)}Du(e){return new cP}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}df.provider={build:()=>new df};class sV extends df{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){tt(this.persistence.referenceDelegate instanceof uf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Fk(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new mw((i=>uf.Vi(i,t)),this.serializer)}}class qm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>mT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=tV.bind(null,this.syncEngine),await kP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new VP})()}createDatastore(e){const t=Vf(e.databaseInfo.databaseId),i=mP(e.databaseInfo);return EP(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,r,a,u,d){return new SP(i,r,a,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>mT(this.syncEngine,t,0)),(function(){return uT.v()?new uT:new dP})())}createSyncEngine(e,t){return(function(r,a,u,d,p,h,v){const E=new qP(r,a,u,d,p,h);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(r){const a=Ve(r);ve(Eo,"RemoteStore shutting down."),a.Ea.add(5),await Gu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}qm.provider={build:()=>new qm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_s("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="FirestoreClient";class oV{constructor(e,t,i,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this._databaseInfo=r,this.user=rn.UNAUTHENTICATED,this.clientId=Ig.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async u=>{ve(Cr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(ve(Cr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Yg(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function cm(n,e){n.asyncQueue.verifyOperationInProgress(),ve(Cr,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await gw(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function yT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await aV(n);ve(Cr,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>dT(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>dT(e.remoteStore,r))),n._onlineComponents=e}async function aV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ve(Cr,"Using user provided OfflineComponentProvider");try{await cm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(r){return r.name==="FirebaseError"?r.code===le.FAILED_PRECONDITION||r.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(t))throw t;vo("Error using user provided cache. Falling back to memory cache: "+t),await cm(n,new df)}}else ve(Cr,"Using default OfflineComponentProvider"),await cm(n,new sV(void 0));return n._offlineComponents}async function Pw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ve(Cr,"Using user provided OnlineComponentProvider"),await yT(n,n._uninitializedComponentsProvider._online)):(ve(Cr,"Using default OnlineComponentProvider"),await yT(n,new qm))),n._onlineComponents}function lV(n){return Pw(n).then((e=>e.syncEngine))}async function uV(n){const e=await Pw(n),t=e.eventManager;return t.onListen=JP.bind(null,e.syncEngine),t.onUnlisten=$P.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=KP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=jP.bind(null,e.syncEngine),t}function cV(n,e,t={}){const i=new yr;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,p,h){const v=new rV({next:T=>{v.Nu(),u.enqueueAndForget((()=>LP(a,E)));const I=T.docs.has(d);!I&&T.fromCache?h.reject(new Te(le.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&T.fromCache&&p&&p.source==="server"?h.reject(new Te(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(T)},error:T=>h.reject(T)}),E=new GP(kg(d.path),v,{includeMetadataChanges:!0,Ka:!0});return UP(a,E)})(await uV(n),n.asyncQueue,e,t,i))),i.promise}function dV(n,e){const t=new yr;return n.asyncQueue.enqueueAndForget((async()=>QP(await lV(n),e,t))),t.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV="ComponentProvider",vT=new Map;function hV(n,e,t,i,r){return new RD(n,e,t,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Vw(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="firestore.googleapis.com",_T=!0;class ET{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Te(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Uw,this.ssl=_T}else this.host=e.host,this.ssl=e.ssl??_T;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Lk)throw new Te(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vw(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Te(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Te(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Te(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xg{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ET({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ET(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new oD;switch(i.type){case"firstParty":return new cD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Te(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=vT.get(t);i&&(ve(fV,"Removing Datastore"),vT.delete(t),i.terminate())})(this),Promise.resolve()}}function pV(n,e,t,i={}){var h;n=_o(n,Xg);const r=Fa(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;r&&(MA(`https://${d}`),DA("Firestore",!0)),a.host!==Uw&&a.host!==d&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...a,host:d,ssl:r,emulatorOptions:i};if(!vr(p,u)&&(n._setSettings(p),i.mockUserToken)){let v,E;if(typeof i.mockUserToken=="string")v=i.mockUserToken,E=rn.MOCK_USER;else{v=y1(i.mockUserToken,(h=n._app)==null?void 0:h.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new Te(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new rn(T)}n._authCredentials=new aD(new IC(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Wg(this.firestore,e,this._query)}}class Gt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ru(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}toJSON(){return{type:Gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Lu(t,Gt._jsonSchema))return new Gt(e,i||null,new we(mt.fromString(t.referencePath)))}}Gt._jsonSchemaVersion="firestore/documentReference/1.0",Gt._jsonSchema={type:Ut("string",Gt._jsonSchemaVersion),referencePath:Ut("string")};class Ru extends Wg{constructor(e,t,i){super(e,t,kg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new we(e))}withConverter(e){return new Ru(this.firestore,e,this._path)}}function Zg(n,e,...t){if(n=wn(n),arguments.length===1&&(e=Ig.newId()),gD("doc","path",e),n instanceof Xg){const i=mt.fromString(e,...t);return PE(i),new Gt(n,null,new we(i))}{if(!(n instanceof Gt||n instanceof Ru))throw new Te(le.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mt.fromString(e,...t));return PE(i),new Gt(n.firestore,n instanceof Ru?n.converter:null,new we(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="AsyncQueue";class ST{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vw(this,"async_queue_retry"),this._c=()=>{const i=um();i&&ve(TT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=um();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=um();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!qa(e))throw e;ve(TT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,_s("INTERNAL UNHANDLED ERROR: ",AT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Kg.createAndSchedule(this,e,t,i,(a=>this.hc(a)));return this.tc.push(r),r}uc(){this.nc&&Re(47125,{Pc:AT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function AT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Of extends Xg{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new ST,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ST(e),this._firestoreClient=void 0,await e}}}function mV(n,e){const t=typeof n=="object"?n:UA(),i=typeof n=="string"?n:tf,r=gg(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=m1("firestore");a&&pV(r,...a)}return r}function Lw(n){if(n._terminated)throw new Te(le.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||gV(n),n._firestoreClient}function gV(n){var i,r,a,u;const e=n._freezeSettings(),t=hV(n._databaseId,((i=n._app)==null?void 0:i.options.appId)||"",n._persistenceKey,(r=n._app)==null?void 0:r.options.apiKey,e);n._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new oV(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(p){const h=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(h),_online:h}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(tn.fromBase64String(e))}catch(t){throw new Te(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Qn(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lu(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Ut("string",Qn._jsonSchemaVersion),bytes:Ut("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Te(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ji._jsonSchemaVersion}}static fromJSON(e){if(Lu(e,Ji._jsonSchema))return new Ji(e.latitude,e.longitude)}}Ji._jsonSchemaVersion="firestore/geoPoint/1.0",Ji._jsonSchema={type:Ut("string",Ji._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,r){if(i.length!==r.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==r[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lu(e,fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new fi(e.vectorValues);throw new Te(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:Ut("string",fi._jsonSchemaVersion),vectorValues:Ut("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=/^__.*__$/;class vV{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Mr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ou(e,this.data,t,this.fieldTransforms)}}class Ow{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Mr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Fw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{dataSource:n})}}class Gf{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Gf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var r;const t=(r=this.path)==null?void 0:r.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var r;const t=(r=this.path)==null?void 0:r.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ff(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Fw(this.dataSource)&&yV.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class _V{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Vf(e)}createContext(e,t,i,r=!1){return new Gf({dataSource:e,methodName:t,targetDoc:i,path:en.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gw(n){const e=n._freezeSettings(),t=Vf(n._databaseId);return new _V(n._databaseId,!!e.ignoreUndefinedProperties,t)}function EV(n,e,t,i,r,a={}){const u=n.createContext(a.merge||a.mergeFields?2:0,e,t,r);ny("Data must be an object, but it was:",u,i);const d=Hw(i,u);let p,h;if(a.merge)p=new Vn(u.fieldMask),h=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const E of a.mergeFields){const T=bu(e,E,t);if(!u.contains(T))throw new Te(le.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);qw(v,T)||v.push(T)}p=new Vn(v),h=u.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,h=u.fieldTransforms;return new vV(new Cn(d),p,h)}class Hf extends Ff{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hf}}function TV(n,e,t){return new Gf({dataSource:3,targetDoc:e.settings.targetDoc,methodName:n._methodName,arrayElement:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ty extends Ff{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=TV(this,e,!0),i=this.Ac.map((a=>Bu(a,t))),r=new Pa(i);return new ik(e.path,r)}isEqual(e){return e instanceof ty&&vr(this.Ac,e.Ac)}}function SV(n,e,t,i){const r=n.createContext(1,e,t);ny("Data must be an object, but it was:",r,i);const a=[],u=Cn.empty();Nr(i,((p,h)=>{const v=zw(e,p,t);h=wn(h);const E=r.childContextForFieldPath(v);if(h instanceof Hf)a.push(v);else{const T=Bu(h,E);T!=null&&(a.push(v),u.set(v,T))}}));const d=new Vn(a);return new Ow(u,d,r.fieldTransforms)}function AV(n,e,t,i,r,a){const u=n.createContext(1,e,t),d=[bu(e,i,t)],p=[r];if(a.length%2!=0)throw new Te(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)d.push(bu(e,a[T])),p.push(a[T+1]);const h=[],v=Cn.empty();for(let T=d.length-1;T>=0;--T)if(!qw(h,d[T])){const I=d[T];let D=p[T];D=wn(D);const L=u.childContextForFieldPath(I);if(D instanceof Hf)h.push(I);else{const k=Bu(D,L);k!=null&&(h.push(I),v.set(I,k))}}const E=new Vn(h);return new Ow(v,E,u.fieldTransforms)}function Bu(n,e){if(Bw(n=wn(n)))return ny("Unsupported field value:",e,n),Hw(n,e);if(n instanceof Ff)return(function(i,r){if(!Fw(r.dataSource))throw r.createError(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.createError(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(r);a&&r.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,r){const a=[];let u=0;for(const d of i){let p=Bu(d,r.childContextForArray(u));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),u++}return{arrayValue:{values:a}}})(n,e)}return(function(i,r){if((i=wn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ek(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=ft.fromDate(i);return{timestampValue:lf(r.serializer,a)}}if(i instanceof ft){const a=new ft(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:lf(r.serializer,a)}}if(i instanceof Ji)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Qn)return{bytesValue:ow(r.serializer,i._byteString)};if(i instanceof Gt){const a=r.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw r.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Lg(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof fi)return(function(u,d){const p=u instanceof fi?u.toArray():u;return{mapValue:{fields:{[VC]:{stringValue:UC},[nf]:{arrayValue:{values:p.map((v=>{if(typeof v!="number")throw d.createError("VectorValues must only contain numeric values.");return Pg(d.serializer,v)}))}}}}}})(i,r);if(hw(i))return i._toProto(r.serializer);throw r.createError(`Unsupported field value: ${xg(i)}`)})(n,e)}function Hw(n,e){const t={};return bC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nr(n,((i,r)=>{const a=Bu(r,e.childContextForField(i));a!=null&&(t[i]=a)})),{mapValue:{fields:t}}}function Bw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ft||n instanceof Ji||n instanceof Qn||n instanceof Gt||n instanceof Ff||n instanceof fi||hw(n))}function ny(n,e,t){if(!Bw(t)||!xC(t)){const i=xg(t);throw i==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+i)}}function bu(n,e,t){if((e=wn(e))instanceof ey)return e._internalPath;if(typeof e=="string")return zw(n,e);throw ff("Field path arguments must be of type string or ",n,!1,void 0,t)}const CV=new RegExp("[~\\*/\\[\\]]");function zw(n,e,t){if(e.search(CV)>=0)throw ff(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ey(...e.split("."))._internalPath}catch{throw ff(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ff(n,e,t,i,r){const a=i&&!i.isEmpty(),u=r!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(a||u)&&(p+=" (found",a&&(p+=` in field ${i}`),u&&(p+=` in document ${r}`),p+=")"),new Te(le.INVALID_ARGUMENT,d+n+p)}function qw(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{convertValue(e,t="none"){switch(Sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Nr(e,((r,a)=>{i[r]=this.convertValue(a,t)})),i}convertVectorValue(e){var i,r,a;const t=(a=(r=(i=e.fields)==null?void 0:i[nf].arrayValue)==null?void 0:r.values)==null?void 0:a.map((u=>At(u.doubleValue)));return new fi(t)}convertGeoPoint(e){return new Ji(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Rf(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Cu(e));default:return null}}convertTimestamp(e){const t=Er(e);return new ft(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=mt.fromString(e);tt(fw(i),9688,{name:e});const r=new wu(i.get(1),i.get(3)),a=new we(i.popFirst(5));return r.isEqual(t)||_s(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV extends wV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,t)}}function xV(...n){return new ty("arrayUnion",n)}const CT="@firebase/firestore",wT="4.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const t=this._document.data.field(bu("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class RV extends Jw{data(){return super.data()}}function bV(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class uu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ho extends Jw{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Od(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(bu("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ho._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ho._jsonSchemaVersion="firestore/documentSnapshot/1.0",ho._jsonSchema={type:Ut("string",ho._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class Od extends ho{data(e={}){return super.data(e)}}class yu{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new uu(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Od(this._firestore,this._userDataWriter,i.key,i,new uu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Te(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(r,a){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map((d=>{const p=new Od(r._firestore,r._userDataWriter,d.doc.key,d.doc,new uu(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const p=new Od(r._firestore,r._userDataWriter,d.doc.key,d.doc,new uu(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,v=-1;return d.type!==0&&(h=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:NV(d.type),doc:p,oldIndex:h,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ig.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],r=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),r.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function NV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:n})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yu._jsonSchemaVersion="firestore/querySnapshot/1.0",yu._jsonSchema={type:Ut("string",yu._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(n){n=_o(n,Gt);const e=_o(n.firestore,Of),t=Lw(e);return cV(t,n._key).then((i=>PV(e,n,i)))}function DV(n,e,t){n=_o(n,Gt);const i=_o(n.firestore,Of),r=bV(n.converter,e),a=Gw(i);return Kw(i,[EV(a,"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,zi.none())])}function kV(n,e,t,...i){n=_o(n,Gt);const r=_o(n.firestore,Of),a=Gw(r);let u;return u=typeof(e=wn(e))=="string"||e instanceof ey?AV(a,"updateDoc",n._key,e,t,i):SV(a,"updateDoc",n._key,e),Kw(r,[u.toMutation(n._key,zi.exists(!0))])}function Kw(n,e){const t=Lw(n);return dV(t,e)}function PV(n,e,t){const i=t.docs.get(e._key),r=new IV(n);return new ho(n,r,e._key,i,new uu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){rD(Ga),Na(new po("firestore",((i,{instanceIdentifier:r,options:a})=>{const u=i.getProvider("app").getImmediate(),d=new Of(new lD(i.getProvider("auth-internal")),new dD(u,i.getProvider("app-check-internal")),bD(u,r),u);return a={useFetchStreams:t,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),mr(CT,wT,e),mr(CT,wT,"esm2020")})();const VV={apiKey:"AIzaSyBtOvSDDxJQi6Q2rbi3UyHTXHciHugeDeI",authDomain:"cgpa-calculator-dbs.firebaseapp.com",projectId:"cgpa-calculator-dbs",storageBucket:"cgpa-calculator-dbs.appspot.com",messagingSenderId:"787166659651",appId:"1:787166659651:web:ef0fd1ad334a4aa34d80f6"},Yw=VA(VV),$w=iD(Yw),iy=mV(Yw),IT=async(n,e,t)=>{await DV(Zg(iy,"students",n),{registerNumber:n,name:e,department:t,gpaHistory:[],cgpaHistory:[],createdAt:Date.now()})},xT=async n=>{const e=await MV(Zg(iy,"students",n));return e.exists()?e.data():null},UV=async(n,e)=>{await kV(Zg(iy,"students",n),{gpaHistory:xV({value:e,date:Date.now()})})},Jm={O:10,"A+":9,A:8,"B+":7,B:6,C:5,RA:0,"-":0},RT=({user:n,setUser:e})=>{const t=xr(),r=(()=>{const ue=sessionStorage.getItem("educalc_gpa_draft");return ue?JSON.parse(ue):null})(),[a,u]=ne.useState((r==null?void 0:r.step)||1),[d,p]=ne.useState(!1),[h,v]=ne.useState(null),[E,T]=ne.useState([]),[I,D]=ne.useState((r==null?void 0:r.departmentId)||(n==null?void 0:n.department)||""),[L,k]=ne.useState((r==null?void 0:r.semester)||0),[z,Z]=ne.useState((r==null?void 0:r.loadedSubjects)||[]),[j,oe]=ne.useState((r==null?void 0:r.grades)||{}),[Q,fe]=ne.useState((r==null?void 0:r.result)||null),[M,b]=ne.useState((r==null?void 0:r.isSaved)||!1),[N,V]=ne.useState(!1),[U,H]=ne.useState(!1),[P,he]=ne.useState(!1);ne.useEffect(()=>{sessionStorage.setItem("educalc_gpa_draft",JSON.stringify({step:a,departmentId:I,semester:L,loadedSubjects:z,grades:j,result:Q,isSaved:M}))},[a,I,L,z,j,Q,M]);const Ce=ne.useMemo(()=>I?Array.from({length:I==="MBA"?10:8},(ye,Se)=>Se+1):[],[I]),K=ne.useMemo(()=>z.length>0&&z.every(ue=>j[ue.code]&&j[ue.code]!=="-"),[z,j]);ne.useEffect(()=>{fetch("/subjects.json").then(ue=>ue.json()).then(ue=>T(ue.departments||[])).catch(()=>v("Failed to load curriculum data."))},[]);const ae=async()=>{if(!I||L===0)return;p(!0),v(null);const ue=E.find(Oe=>Oe.id===I),ye=ue==null?void 0:ue.semesters[L.toString()];if(!ye||ye.length===0){v("Curriculum under update. Please try another semester."),p(!1);return}const Se=ye.filter(Oe=>Oe.credits>0);Z(Se);const We={};Se.forEach(Oe=>We[Oe.code]="-"),oe(We),u(2),p(!1),fe(null),b(!1),V(!1)},pe=()=>{if(!K)return;let ue=0,ye=0;z.forEach(Se=>{const We=j[Se.code];We&&We!=="-"&&(ue+=Jm[We]*Se.credits,ye+=Se.credits)}),fe(ye>0?Number((ue/ye).toFixed(2)):0),b(!1)},be=async()=>{if(Q===null||M||!N)return;const ue=n.gpaHistory.filter(Se=>Se.semester!==L),ye={id:Math.random().toString(36).substr(2,9),semester:L,gpa:Q,department:I,date:new Date().toISOString(),subjects:z.map(Se=>({...Se,grade:j[Se.code]||"-"}))};e({...n,gpaHistory:[ye,...ue]});try{await UV(n.registerNumber,Q),b(!0)}catch(Se){console.error("Firebase save failed",Se)}n.isGuest&&H(!0)};function ke(ue){e({...n,gpaHistory:n.gpaHistory.filter(ye=>ye.id!==ue)})}const F=()=>{u(1),fe(null),k(0),b(!1),V(!1),v(null),sessionStorage.removeItem("educalc_gpa_draft")},te=E.find(ue=>ue.id===I),ce=(te==null?void 0:te.name)||"Select Department Stream",me=({subCode:ue,grade:ye})=>{const Se=ye==="RA",We=j[ue]===ye;let Oe="w-11 h-11 rounded-xl font-black text-xs transition-all active:scale-95 flex items-center justify-center",mn="",wt="";return Se?(mn="bg-rose-500 text-white scale-110 shadow-lg shadow-rose-500/30",wt="bg-rose-50 dark:bg-rose-950/20 text-rose-500 hover:bg-rose-100 dark:hover:bg-rose-900/30"):(mn="bg-indigo-600 text-white scale-110 shadow-lg shadow-indigo-600/30",wt="bg-slate-50 dark:bg-slate-800 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700"),C.jsx("button",{onClick:()=>oe({...j,[ue]:ye}),className:`${Oe} ${We?mn:wt}`,children:ye})};return C.jsxs("div",{className:"space-y-10 md:space-y-12 animate-in fade-in slide-in-from-bottom-4 relative pb-10",children:[C.jsxs("div",{className:`fixed inset-0 z-[200] flex items-end sm:items-center justify-center p-0 sm:p-6 transition-all duration-300 ${P?"visible":"invisible"}`,children:[C.jsx("div",{className:`absolute inset-0 bg-slate-950/60 backdrop-blur-sm transition-opacity duration-300 ${P?"opacity-100":"opacity-0"}`,onClick:()=>he(!1)}),C.jsxs("div",{className:`relative w-full max-w-lg bg-white dark:bg-[#1a2333] rounded-t-[2.5rem] sm:rounded-[2.5rem] shadow-2xl overflow-hidden transition-transform duration-300 transform ${P?"translate-y-0 scale-100":"translate-y-full sm:translate-y-10 sm:scale-95"}`,children:[C.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[C.jsx("h3",{className:"text-lg font-black dark:text-white tracking-tight",children:"Select Department"}),C.jsx("button",{onClick:()=>he(!1),className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-white transition-colors",children:C.jsx(Tf,{size:20})})]}),C.jsx("div",{className:"max-h-[60vh] overflow-y-auto no-scrollbar",children:C.jsxs("div",{className:"flex flex-col divide-y divide-slate-100 dark:divide-slate-800",children:[C.jsxs("button",{onClick:()=>{D(""),k(0),he(!1)},className:`w-full px-8 py-6 flex items-center justify-between transition-all duration-200 group ${I?"hover:bg-slate-50/50 dark:hover:bg-slate-800/40":"bg-indigo-50/50 dark:bg-indigo-900/10"}`,children:[C.jsx("span",{className:`text-base font-bold transition-colors ${I?"text-slate-600 dark:text-slate-400":"text-indigo-600 dark:text-indigo-400"}`,children:"None Selected"}),C.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${I?"border-slate-300 dark:border-slate-700":"border-indigo-600 shadow-sm"}`,children:!I&&C.jsx("div",{className:"w-2.5 h-2.5 bg-indigo-600 rounded-full"})})]}),E.map(ue=>{const ye=I===ue.id;return C.jsxs("button",{onClick:()=>{D(ue.id),k(0),he(!1)},className:`w-full px-8 py-6 flex items-center justify-between transition-all duration-200 group ${ye?"bg-indigo-50/50 dark:bg-indigo-900/10":"hover:bg-slate-50/50 dark:hover:bg-slate-800/40"}`,children:[C.jsxs("div",{className:"flex flex-col text-left pr-6",children:[C.jsx("span",{className:`font-bold text-base transition-colors leading-tight ${ye?"text-slate-900 dark:text-white":"text-slate-700 dark:text-slate-400"}`,children:ue.name}),C.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest mt-1 ${ye?"text-indigo-500":"text-slate-400"}`,children:ue.id})]}),C.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all shrink-0 ${ye?"border-indigo-600 scale-110 shadow-lg shadow-indigo-600/20":"border-slate-300 dark:border-slate-700 group-hover:border-slate-400"}`,children:ye&&C.jsx("div",{className:"w-2.5 h-2.5 bg-indigo-600 rounded-full animate-in zoom-in"})})]},ue.id)})]})}),C.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50",children:C.jsx("p",{className:"text-[10px] text-center font-black text-slate-400 uppercase tracking-widest",children:"Secure Institutional Registry"})})]})]}),U&&C.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-6 bg-slate-950/60 backdrop-blur-md animate-in fade-in duration-300",children:C.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-[#1a2333] p-8 rounded-[3rem] shadow-2xl text-center space-y-6 stagger-card-1",children:[C.jsx("div",{className:"w-20 h-20 bg-indigo-600/10 text-indigo-600 rounded-full flex items-center justify-center mx-auto",children:C.jsx(Ef,{size:32})}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("h3",{className:"text-2xl font-black dark:text-white",children:"Saved Locally"}),C.jsx("p",{className:"text-slate-500 text-sm",children:"Account required for cloud sync."})]}),C.jsx("button",{onClick:()=>t("/login"),className:"w-full py-4 bg-indigo-600 text-white font-black rounded-2xl uppercase text-[10px] tracking-widest",children:"Login Now"}),C.jsx("button",{onClick:()=>H(!1),className:"w-full py-4 bg-slate-100 dark:bg-slate-800 text-slate-500 font-black rounded-2xl uppercase text-[10px]",children:"Later"})]})}),C.jsxs("div",{className:"flex justify-between items-center px-2",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsxs("h2",{className:"text-4xl md:text-5xl font-black tracking-tighter dark:text-white",children:["GPA ",C.jsx("span",{className:"text-indigo-600",children:"Assistance"})]}),C.jsx("p",{className:"text-slate-400 dark:text-slate-500 font-medium text-base md:text-lg",children:"Analyze your semester performance instantly."})]}),(a===2||Q!==null)&&C.jsx("button",{onClick:F,className:"p-4 bg-white dark:bg-slate-800 text-slate-500 rounded-2xl shadow-xl transition-all duration-300 hover:bg-slate-50 dark:hover:bg-slate-700 active:scale-95",children:C.jsx(Z_,{size:20})})]}),a===1?C.jsxs("div",{className:"space-y-12 animate-in fade-in duration-500",children:[C.jsxs("div",{className:"space-y-6",children:[C.jsxs("label",{className:"text-[11px] font-black text-indigo-500 dark:text-indigo-400 uppercase tracking-[0.2em] ml-2 flex items-center",children:[C.jsx(Vb,{size:14,className:"mr-2"})," Academic Department"]}),C.jsxs("button",{onClick:()=>he(!0),className:"w-full p-8 bg-white dark:bg-[#1a2333] rounded-[2.5rem] border border-slate-100 dark:border-slate-800 shadow-xl flex items-center justify-between group transition-all hover:border-indigo-500/30 hover:shadow-2xl active:scale-[0.98]",children:[C.jsxs("div",{className:"flex flex-col text-left",children:[C.jsx("span",{className:`text-base font-bold transition-colors ${I?"text-slate-900 dark:text-white":"text-slate-400 dark:text-slate-500"}`,children:ce}),I&&C.jsxs("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-indigo-600 mt-1",children:[I," Stream Active"]})]}),C.jsx("div",{className:"w-12 h-12 bg-slate-50 dark:bg-slate-800 rounded-2xl flex items-center justify-center text-slate-400 group-hover:bg-indigo-600 group-hover:text-white transition-all",children:C.jsx(Fb,{size:20})})]})]}),I&&C.jsxs("div",{className:"bg-white dark:bg-[#1a2333] p-8 md:p-10 rounded-[3rem] border border-slate-100 dark:border-slate-800 shadow-xl space-y-8 animate-in slide-in-from-top-4 duration-500",children:[C.jsxs("div",{className:"text-center",children:[C.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-6",children:"Select Semester Cycle"}),C.jsx("div",{className:"grid grid-cols-4 gap-4 max-w-[360px] mx-auto",children:Ce.map(ue=>C.jsx("button",{onClick:()=>k(ue),className:`aspect-square flex items-center justify-center rounded-2xl font-black transition-all active:scale-90 ${L===ue?"bg-indigo-600 text-white shadow-xl scale-110":"bg-slate-50 dark:bg-slate-800 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:ue},ue))})]}),L>0&&C.jsxs("button",{onClick:ae,className:"w-full py-6 bg-indigo-600 text-white font-black rounded-full shadow-2xl flex items-center justify-center gap-4 uppercase tracking-widest text-[11px] hover:bg-indigo-700 active:scale-95 transition-all animate-in zoom-in",children:[C.jsx(EA,{size:18})," ",C.jsxs("span",{children:["Load Semester ",L," Subjects"]})]})]})]}):C.jsxs("div",{className:"space-y-6",children:[C.jsx("div",{className:"flex justify-center",children:C.jsx("div",{className:"px-6 py-2 bg-indigo-600/5 dark:bg-indigo-500/10 rounded-full border border-indigo-600/20",children:C.jsxs("p",{className:"text-[10px] font-black text-indigo-600 dark:text-indigo-400 uppercase tracking-widest",children:[ce,"  SEM ",L]})})}),z.map((ue,ye)=>C.jsx("div",{className:`p-8 bg-white dark:bg-[#1a2333] rounded-[2.5rem] border border-slate-100 dark:border-slate-800 shadow-xl stagger-card-${ye%4+1}`,children:C.jsxs("div",{className:"flex flex-col items-center gap-6",children:[C.jsxs("div",{className:"text-center",children:[C.jsxs("p",{className:"text-[10px] font-black text-indigo-500 uppercase tracking-widest mb-1",children:[ue.code,"  ",ue.credits," Credits"]}),C.jsx("h4",{className:"font-bold text-slate-800 dark:text-slate-200 text-xl leading-tight",children:ue.name})]}),C.jsxs("div",{className:"flex flex-col items-center gap-3",children:[C.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:["O","A+","A","B+","B","C"].map(Se=>C.jsx(me,{subCode:ue.code,grade:Se},Se))}),C.jsx("div",{className:"flex justify-center",children:C.jsx(me,{subCode:ue.code,grade:"RA"})})]})]})},ue.code)),C.jsxs("button",{onClick:pe,disabled:!K,className:"w-full py-7 bg-indigo-600 text-white font-black rounded-full shadow-2xl active:scale-95 transition-all flex items-center justify-center gap-4 uppercase tracking-widest disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:[C.jsx(Z_,{size:20})," ",C.jsx("span",{children:"Generate GPA Result"})]}),Q!==null&&C.jsxs("div",{className:"flex flex-col items-center py-12 space-y-8 animate-in slide-in-from-top-6",children:[C.jsxs("div",{className:"w-56 aspect-square bg-white dark:bg-[#1a2333] rounded-[4rem] flex flex-col items-center justify-center border border-slate-100 dark:border-slate-800 shadow-[0_30px_60px_-15px_rgba(79,70,229,0.2)] stagger-card-1",children:[C.jsx("p",{className:"text-slate-400 font-black uppercase text-[10px] tracking-widest mb-2",children:"Semester GPA"}),C.jsx("h2",{className:"text-7xl font-black text-indigo-600 dark:text-white tracking-tighter",children:Q.toFixed(2)})]}),C.jsxs("div",{onClick:()=>V(!N),className:`flex items-center gap-5 px-10 py-6 rounded-[2.5rem] border transition-all cursor-pointer stagger-card-2 ${N?"bg-emerald-500/5 border-emerald-500/30":"bg-slate-50 dark:bg-slate-900 border-transparent shadow-inner"}`,children:[C.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center transition-all ${N?"bg-emerald-500 text-white shadow-lg":"bg-slate-200 dark:bg-slate-800 text-transparent"}`,children:C.jsx(_m,{size:22})}),C.jsxs("div",{className:"text-left",children:[C.jsx("p",{className:`text-xs font-black uppercase tracking-widest ${N?"text-emerald-600":"text-slate-400"}`,children:"Official Verification"}),C.jsx("p",{className:"text-[11px] font-bold text-slate-500 dark:text-slate-400",children:"Confirm this result as your own"})]})]}),C.jsx("button",{onClick:be,disabled:M||!N,className:`w-full max-md:max-w-md py-7 rounded-full font-black uppercase tracking-widest stagger-card-3 shadow-2xl active:scale-95 transition-all text-sm ${M?"bg-emerald-500 text-white":N?"bg-indigo-600 text-white hover:bg-indigo-700 shadow-indigo-600/30":"bg-slate-200 dark:bg-slate-800 text-slate-400 cursor-not-allowed"}`,children:M?"Archived Successfuly":"Commit to History"})]})]}),n.gpaHistory.length>0&&C.jsxs("div",{className:"space-y-8 pt-12",children:[C.jsxs("div",{className:"flex items-center justify-between px-2",children:[C.jsxs("h3",{className:"text-2xl font-black flex items-center space-x-4 dark:text-white",children:[C.jsx(hg,{className:"text-emerald-500"})," ",C.jsx("span",{children:"Performance Ledger"})]}),C.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase bg-slate-100 dark:bg-slate-800 px-3 py-1 rounded-full",children:[n.gpaHistory.length," ENTRIES"]})]}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:n.gpaHistory.map((ue,ye)=>C.jsxs("div",{className:`p-7 bg-white dark:bg-[#1a2333] rounded-[2.5rem] border border-slate-100 dark:border-slate-800 flex items-center justify-between shadow-md hover:shadow-xl transition-all hover:-translate-y-1 stagger-card-${ye%4+1}`,children:[C.jsxs("div",{className:"flex items-center space-x-6",children:[C.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-5 rounded-[1.5rem] text-center min-w-[75px]",children:[C.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase",children:"SEM"}),C.jsx("p",{className:"text-2xl font-black text-indigo-600 leading-none mt-1",children:ue.semester})]}),C.jsxs("div",{children:[C.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-1",children:ue.department}),C.jsx("p",{className:"text-3xl font-black dark:text-white tracking-tight",children:ue.gpa.toFixed(2)})]})]}),C.jsx("button",{onClick:()=>ke(ue.id),className:"p-3 text-slate-200 dark:text-slate-700 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-500/10 rounded-2xl transition-all",children:C.jsx(CA,{size:22})})]},ue.id))})]})]})},LV=({user:n,setUser:e})=>{const t=xr(),i=ne.useMemo(()=>{const b={};return[...n.gpaHistory].sort((V,U)=>new Date(U.date).getTime()-new Date(V.date).getTime()).forEach(V=>{b[V.semester]||(b[V.semester]=V.gpa)}),b},[n.gpaHistory]),r=ne.useMemo(()=>{const b=Object.keys(i).map(Number);return b.length>0?Math.max(...b):2},[i]),[a,u]=ne.useState(Math.max(2,r)),[d,p]=ne.useState(Array(10).fill("")),[h,v]=ne.useState(null),[E,T]=ne.useState(!1),[I,D]=ne.useState(!1),[L,k]=ne.useState(!1);ne.useEffect(()=>{const b=[...d];let N=!1;for(let V=1;V<=10;V++)i[V]!==void 0&&b[V-1]===""&&(b[V-1]=i[V].toString(),N=!0);N&&p(b)},[i]);const z=()=>{let b=0,N=0;for(let V=0;V<a;V++){const U=parseFloat(d[V]);isNaN(U)||(b+=U,N++)}v(N>0?Number((b/N).toFixed(2)):0),T(!1),D(!1)},Z=()=>{if(h===null||E||!I)return;const b={id:Math.random().toString(36).substr(2,9),cgpa:h,date:new Date().toISOString(),semestersCovered:a};e({...n,cgpaHistory:[b,...n.cgpaHistory]}),T(!0),n.isGuest&&k(!0)},j=b=>{e({...n,cgpaHistory:n.cgpaHistory.filter(N=>N.id!==b)})},oe=()=>{const b=Array(10).fill("");for(let N=1;N<=10;N++)i[N]!==void 0&&(b[N-1]=i[N].toString());p(b),v(null)},Q=()=>{p(Array(10).fill("")),v(null),T(!1),D(!1),u(2)},fe=ne.useMemo(()=>d.slice(0,a).every(b=>b.trim()!==""),[d,a]),M=ne.useMemo(()=>d.some(b=>b.trim()!=="")||h!==null,[d,h]);return C.jsxs("div",{className:"space-y-10 animate-in fade-in slide-in-from-bottom-4 pb-20 relative",children:[L&&C.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-6 bg-slate-950/60 backdrop-blur-md animate-in fade-in duration-300",children:C.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-[#1a2333] p-8 rounded-[3rem] shadow-2xl text-center space-y-6 relative overflow-hidden",children:[C.jsx("div",{className:"absolute top-0 right-0 p-4",children:C.jsx("button",{onClick:()=>k(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-white transition-colors",children:C.jsx(Tf,{size:20})})}),C.jsx("div",{className:"w-20 h-20 bg-indigo-600/10 text-indigo-600 rounded-full flex items-center justify-center mx-auto",children:C.jsx(Ef,{size:32})}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("h3",{className:"text-2xl font-black dark:text-white tracking-tight",children:"CGPA Saved!"}),C.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium text-sm",children:"This history is temporary and linked to this browser. Register now to sync your progress across all your devices."})]}),C.jsxs("div",{className:"flex flex-col gap-3",children:[C.jsx("button",{onClick:()=>t("/login"),className:"w-full py-4 bg-indigo-600 text-white font-black rounded-2xl uppercase tracking-widest text-[10px] shadow-lg shadow-indigo-500/20 active:scale-95 transition-all",children:"Sync Progress"}),C.jsx("button",{onClick:()=>k(!1),className:"w-full py-4 bg-slate-100 dark:bg-slate-800 text-slate-500 font-black rounded-2xl uppercase tracking-widest text-[10px] active:scale-95 transition-all",children:"Keep as Guest"})]})]})}),C.jsxs("div",{className:"flex justify-between items-start px-2",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsxs("h2",{className:"text-4xl md:text-5xl font-black tracking-tighter dark:text-white",children:["CGPA ",C.jsx("span",{className:"text-indigo-600",children:"Master"})]}),C.jsx("p",{className:"text-slate-400 font-medium text-base md:text-lg",children:"Master your cumulative academic milestones."})]}),C.jsxs("div",{className:"flex flex-col items-end gap-3",children:[M&&C.jsx("button",{onClick:Q,className:"p-4 bg-white dark:bg-slate-800 text-slate-500 rounded-2xl shadow-xl transition-all duration-300 hover:bg-slate-50 dark:hover:bg-slate-700 active:scale-95 border border-slate-100 dark:border-slate-700",title:"Reset Calculator",children:C.jsx(AA,{size:20})}),Object.keys(i).length>0&&C.jsxs("button",{onClick:oe,className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 dark:bg-indigo-950/30 text-indigo-600 dark:text-indigo-400 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-indigo-100 dark:hover:bg-indigo-900/40 transition-colors",children:[C.jsx(Jd,{size:14,className:"fill-current"})," Sync History"]})]})]}),C.jsxs("div",{className:"bg-white dark:bg-[#1a2333] p-8 md:p-10 rounded-[3rem] border border-slate-100 dark:border-slate-800 shadow-2xl space-y-10",children:[C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex justify-between items-center text-xs font-black uppercase tracking-widest text-slate-400 px-1",children:[C.jsxs("span",{className:"flex items-center",children:[C.jsx($b,{size:18,className:"mr-2 text-indigo-500"})," Semesters:"]}),C.jsx("span",{className:"text-2xl text-indigo-600",children:a})]}),C.jsx("input",{type:"range",min:"2",max:"10",step:"1",value:a,onChange:b=>u(parseInt(b.target.value)),className:"w-full h-2 bg-slate-100 dark:bg-slate-800 rounded-full appearance-none cursor-pointer accent-indigo-600"})]}),C.jsx("div",{className:"grid grid-cols-2 gap-4 md:gap-6",children:Array.from({length:a}).map((b,N)=>{var U;const V=((U=i[N+1])==null?void 0:U.toString())===d[N];return C.jsxs("div",{className:"space-y-3 relative group",children:[C.jsxs("div",{className:"flex justify-between items-center px-2",children:[C.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["Sem ",N+1]}),V&&C.jsxs("span",{className:"flex items-center gap-1 text-[8px] font-black text-emerald-500 uppercase tracking-widest animate-pulse",children:[C.jsx(Jd,{size:8,className:"fill-emerald-500"})," Synced"]})]}),C.jsxs("div",{className:"relative",children:[C.jsx("input",{type:"number",step:"0.01",min:"0",max:"10",placeholder:"0.00",value:d[N],onChange:H=>{const P=[...d];P[N]=H.target.value,p(P),v(null)},className:`w-full p-5 bg-slate-50 dark:bg-slate-900 rounded-[2rem] font-black text-center text-xl md:text-2xl outline-none focus:ring-4 focus:ring-indigo-500/10 transition-all shadow-inner ${V?"border border-emerald-500/20":"border-transparent"}`}),V&&C.jsx("div",{className:"absolute -right-1 -top-1 w-2 h-2 bg-emerald-500 rounded-full shadow-[0_0_8px_rgba(16,185,129,0.6)]"})]})]},N)})}),C.jsxs("button",{onClick:z,disabled:!fe,className:`w-full py-7 bg-indigo-600 text-white font-black rounded-full shadow-2xl uppercase tracking-widest transition-all flex items-center justify-center space-x-3 ${fe?"active:scale-95 hover:bg-indigo-700 hover:shadow-indigo-500/40":"opacity-50 cursor-not-allowed grayscale-[0.5]"}`,children:[C.jsx(Lb,{size:20})," ",C.jsx("span",{children:"Calculate CGPA"})]}),h!==null&&C.jsxs("div",{className:"animate-in slide-in-from-top-4 flex flex-col items-center space-y-6",children:[C.jsxs("div",{className:"w-48 aspect-square bg-white dark:bg-[#0b1220] rounded-[3rem] flex flex-col items-center justify-center border border-slate-100 dark:border-slate-800 shadow-2xl",children:[C.jsx("p",{className:"text-slate-400 font-black uppercase text-[10px] mb-1",children:"Cumulative"}),C.jsx("h2",{className:`text-6xl font-black ${h<5?"text-red-500":h>=8.5?"text-emerald-500":"text-indigo-600 dark:text-white"}`,children:h.toFixed(2)})]}),!E&&C.jsxs("div",{onClick:()=>D(!I),className:`group cursor-pointer flex items-center gap-4 px-6 py-4 rounded-3xl transition-all duration-300 border w-full max-sm ${I?"bg-emerald-500/10 border-emerald-500/30":"bg-slate-50 dark:bg-slate-900 border-transparent"}`,children:[C.jsx("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center transition-colors ${I?"bg-emerald-500 text-white":"bg-slate-200 dark:bg-slate-800 text-transparent"}`,children:C.jsx(_m,{size:14})}),C.jsxs("div",{className:"flex flex-col text-left",children:[C.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${I?"text-emerald-600":"text-slate-400"}`,children:"Verify Record Ownership"}),C.jsx("span",{className:"text-xs font-bold text-slate-500 dark:text-slate-400",children:"Add this to my official history"})]})]}),C.jsx("button",{onClick:Z,disabled:E||!I,className:`w-full py-6 font-black rounded-full uppercase tracking-widest shadow-xl transition-all active:scale-95 flex items-center justify-center space-x-3 ${E?"bg-emerald-500 text-white":I?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-slate-200 dark:bg-slate-800 text-slate-400 cursor-not-allowed"}`,children:E?C.jsxs(C.Fragment,{children:[C.jsx(_m,{size:22})," ",C.jsx("span",{children:n.isGuest?"SAVED TO DEVICE":"RESULT SAVED"})]}):C.jsxs(C.Fragment,{children:[C.jsx(e1,{size:22})," ",C.jsx("span",{children:"Save History"})]})}),!I&&!E&&C.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[C.jsx(qd,{size:12})," External calculation"]})]})]}),n.cgpaHistory.length>0&&C.jsxs("div",{className:"space-y-6 pt-10",children:[C.jsxs("h3",{className:"text-2xl font-black flex items-center space-x-3 dark:text-white",children:[C.jsx(hg,{className:"text-emerald-500"})," ",C.jsx("span",{children:"Archive"})]}),C.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.cgpaHistory.map(b=>C.jsxs("div",{className:"group bg-white dark:bg-[#1a2333] p-6 rounded-[2rem] border border-slate-100 dark:border-slate-800 flex items-center justify-between shadow-sm transition-all hover:shadow-md",children:[C.jsxs("div",{className:"flex items-center space-x-6",children:[C.jsxs("div",{className:"text-center bg-slate-100 dark:bg-slate-800 p-3 rounded-2xl min-w-[56px]",children:[C.jsx("p",{className:"text-[10px] font-black text-slate-400 mb-1 leading-none uppercase",children:"SEM"}),C.jsx("p",{className:"font-black text-indigo-600 leading-none mt-1",children:b.semestersCovered})]}),C.jsxs("div",{children:[C.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[C.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"CGPA Result"}),n.isGuest&&C.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 bg-slate-100 dark:bg-slate-800 text-slate-400 text-[8px] font-black rounded uppercase",children:[C.jsx(zd,{size:8})," Local"]})]}),C.jsx("p",{className:`text-3xl font-black ${b.cgpa<5?"text-red-500":b.cgpa>=8.5?"text-emerald-500":"text-slate-800 dark:text-white"}`,children:b.cgpa.toFixed(2)})]})]}),C.jsx("button",{onClick:()=>j(b.id),className:"p-3 text-slate-300 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",children:C.jsx(CA,{size:20})})]},b.id))})]})]})};var OV={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let FV,GV;function HV(){return{geminiUrl:FV,vertexUrl:GV}}function BV(n,e,t,i){var r,a;if(!(n!=null&&n.baseUrl)){const u=HV();return e?(r=u.vertexUrl)!==null&&r!==void 0?r:t:(a=u.geminiUrl)!==null&&a!==void 0?a:i}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class As{}function ge(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const a=e[r];return a!=null?String(a):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function m(n,e,t){for(let a=0;a<e.length-1;a++){const u=e[a];if(u.endsWith("[]")){const d=u.slice(0,-2);if(!(d in n))if(Array.isArray(t))n[d]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(n[d])){const p=n[d];if(Array.isArray(t))for(let h=0;h<p.length;h++){const v=p[h];m(v,e.slice(a+1),t[h])}else for(const h of p)m(h,e.slice(a+1),t)}return}else if(u.endsWith("[0]")){const d=u.slice(0,-3);d in n||(n[d]=[{}]);const p=n[d];m(p[0],e.slice(a+1),t);return}(!n[u]||typeof n[u]!="object")&&(n[u]={}),n=n[u]}const i=e[e.length-1],r=n[i];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[i]=t}function f(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let i=0;i<e.length;i++){if(typeof n!="object"||n===null)return t;const r=e[i];if(r.endsWith("[]")){const a=r.slice(0,-2);if(a in n){const u=n[a];return Array.isArray(u)?u.map(d=>f(d,e.slice(i+1),t)):t}else return t}else n=n[r]}return n}catch(i){if(i instanceof TypeError)return t;throw i}}function zV(n,e){for(const[t,i]of Object.entries(e)){const r=t.split("."),a=i.split("."),u=new Set;let d=-1;for(let p=0;p<r.length;p++)if(r[p]==="*"){d=p;break}if(d!==-1&&a.length>d)for(let p=d;p<a.length;p++){const h=a[p];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&u.add(h)}Km(n,r,a,0,u)}}function Km(n,e,t,i,r){if(i>=e.length||typeof n!="object"||n===null)return;const a=e[i];if(a.endsWith("[]")){const u=a.slice(0,-2),d=n;if(u in d&&Array.isArray(d[u]))for(const p of d[u])Km(p,e,t,i+1,r)}else if(a==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const u=n,d=Object.keys(u).filter(h=>!h.startsWith("_")&&!r.has(h)),p={};for(const h of d)p[h]=u[h];for(const[h,v]of Object.entries(p)){const E=[];for(const T of t.slice(i))T==="*"?E.push(h):E.push(T);m(u,E,v)}for(const h of d)delete u[h]}}else{const u=n;a in u&&Km(u[a],e,t,i+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sy(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qV(n){const e={},t=f(n,["operationName"]);t!=null&&m(e,["operationName"],t);const i=f(n,["resourceName"]);return i!=null&&m(e,["_url","resourceName"],i),e}function JV(n){const e={},t=f(n,["name"]);t!=null&&m(e,["name"],t);const i=f(n,["metadata"]);i!=null&&m(e,["metadata"],i);const r=f(n,["done"]);r!=null&&m(e,["done"],r);const a=f(n,["error"]);a!=null&&m(e,["error"],a);const u=f(n,["response","generateVideoResponse"]);return u!=null&&m(e,["response"],YV(u)),e}function KV(n){const e={},t=f(n,["name"]);t!=null&&m(e,["name"],t);const i=f(n,["metadata"]);i!=null&&m(e,["metadata"],i);const r=f(n,["done"]);r!=null&&m(e,["done"],r);const a=f(n,["error"]);a!=null&&m(e,["error"],a);const u=f(n,["response"]);return u!=null&&m(e,["response"],$V(u)),e}function YV(n){const e={},t=f(n,["generatedSamples"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(u=>jV(u))),m(e,["generatedVideos"],a)}const i=f(n,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const r=f(n,["raiMediaFilteredReasons"]);return r!=null&&m(e,["raiMediaFilteredReasons"],r),e}function $V(n){const e={},t=f(n,["videos"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(u=>QV(u))),m(e,["generatedVideos"],a)}const i=f(n,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const r=f(n,["raiMediaFilteredReasons"]);return r!=null&&m(e,["raiMediaFilteredReasons"],r),e}function jV(n){const e={},t=f(n,["video"]);return t!=null&&m(e,["video"],nU(t)),e}function QV(n){const e={},t=f(n,["_self"]);return t!=null&&m(e,["video"],iU(t)),e}function XV(n){const e={},t=f(n,["operationName"]);return t!=null&&m(e,["_url","operationName"],t),e}function WV(n){const e={},t=f(n,["operationName"]);return t!=null&&m(e,["_url","operationName"],t),e}function ZV(n){const e={},t=f(n,["name"]);t!=null&&m(e,["name"],t);const i=f(n,["metadata"]);i!=null&&m(e,["metadata"],i);const r=f(n,["done"]);r!=null&&m(e,["done"],r);const a=f(n,["error"]);a!=null&&m(e,["error"],a);const u=f(n,["response"]);return u!=null&&m(e,["response"],eU(u)),e}function eU(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["parent"]);i!=null&&m(e,["parent"],i);const r=f(n,["documentName"]);return r!=null&&m(e,["documentName"],r),e}function jw(n){const e={},t=f(n,["name"]);t!=null&&m(e,["name"],t);const i=f(n,["metadata"]);i!=null&&m(e,["metadata"],i);const r=f(n,["done"]);r!=null&&m(e,["done"],r);const a=f(n,["error"]);a!=null&&m(e,["error"],a);const u=f(n,["response"]);return u!=null&&m(e,["response"],tU(u)),e}function tU(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["parent"]);i!=null&&m(e,["parent"],i);const r=f(n,["documentName"]);return r!=null&&m(e,["documentName"],r),e}function nU(n){const e={},t=f(n,["uri"]);t!=null&&m(e,["uri"],t);const i=f(n,["encodedVideo"]);i!=null&&m(e,["videoBytes"],sy(i));const r=f(n,["encoding"]);return r!=null&&m(e,["mimeType"],r),e}function iU(n){const e={},t=f(n,["gcsUri"]);t!=null&&m(e,["uri"],t);const i=f(n,["bytesBase64Encoded"]);i!=null&&m(e,["videoBytes"],sy(i));const r=f(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var bT;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(bT||(bT={}));var NT;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(NT||(NT={}));var MT;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(MT||(MT={}));var hn;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(hn||(hn={}));var DT;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(DT||(DT={}));var kT;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(kT||(kT={}));var PT;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(PT||(PT={}));var VT;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(VT||(VT={}));var UT;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(UT||(UT={}));var LT;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(LT||(LT={}));var OT;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(OT||(OT={}));var FT;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(FT||(FT={}));var GT;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(GT||(GT={}));var HT;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(HT||(HT={}));var BT;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(BT||(BT={}));var zT;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(zT||(zT={}));var qT;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(qT||(qT={}));var JT;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(JT||(JT={}));var KT;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(KT||(KT={}));var YT;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(YT||(YT={}));var $T;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})($T||($T={}));var hf;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(hf||(hf={}));var jT;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(jT||(jT={}));var QT;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(QT||(QT={}));var XT;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(XT||(XT={}));var Ym;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ym||(Ym={}));var WT;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(WT||(WT={}));var ZT;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(ZT||(ZT={}));var $m;(function(n){n.COLLECTION="COLLECTION"})($m||($m={}));var eS;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(eS||(eS={}));var tS;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(tS||(tS={}));var nS;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(nS||(nS={}));var iS;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(iS||(iS={}));var sS;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(sS||(sS={}));var rS;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(rS||(rS={}));var oS;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(oS||(oS={}));var aS;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(aS||(aS={}));var lS;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(lS||(lS={}));var uS;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(uS||(uS={}));var cS;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(cS||(cS={}));var dS;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(dS||(dS={}));var fS;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(fS||(fS={}));var hS;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING",n.DISTILLATION="DISTILLATION"})(hS||(hS={}));var pS;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(pS||(pS={}));var mS;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(mS||(mS={}));var gS;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED",n.REGISTERED="REGISTERED"})(gS||(gS={}));var yS;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(yS||(yS={}));var vS;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(vS||(vS={}));var _S;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(_S||(_S={}));var ES;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.ACTIVITY_START="ACTIVITY_START",n.ACTIVITY_END="ACTIVITY_END"})(ES||(ES={}));var TS;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(TS||(TS={}));var SS;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(SS||(SS={}));var AS;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(AS||(AS={}));var CS;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(CS||(CS={}));var wS;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(wS||(wS={}));var IS;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(IS||(IS={}));var Ta;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Ta||(Ta={}));class jm{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class nu{get text(){var e,t,i,r,a,u,d,p;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const E=[];for(const T of(p=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&p!==void 0?p:[]){for(const[I,D]of Object.entries(T))I!=="text"&&I!=="thought"&&I!=="thoughtSignature"&&(D!==null||D!==void 0)&&E.push(I);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;v=!0,h+=T.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var e,t,i,r,a,u,d,p;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const E of(p=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&p!==void 0?p:[]){for(const[T,I]of Object.entries(E))T!=="inlineData"&&(I!==null||I!==void 0)&&v.push(T);E.inlineData&&typeof E.inlineData.data=="string"&&(h+=atob(E.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,t,i,r,a,u,d,p;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(p=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||p===void 0?void 0:p.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,t,i,r,a,u,d,p,h;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(p=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||p===void 0?void 0:p.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,t,i,r,a,u,d,p,h;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(p=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||p===void 0?void 0:p.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class xS{}class RS{}class sU{}class rU{}class oU{}class aU{}class bS{}class NS{}class MS{}class lU{}class pf{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new pf;let r;const a=e;return t?r=KV(a):r=JV(a),Object.assign(i,r),i}}class DS{}class kS{}class PS{}class VS{}class uU{}class cU{}class dU{}class ry{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new ry,a=ZV(e);return Object.assign(i,a),i}}class fU{}class hU{}class pU{}class mU{}class US{}class gU{get text(){var e,t,i;let r="",a=!1;const u=[];for(const d of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[p,h]of Object.entries(d))p!=="text"&&p!=="thought"&&h!==null&&u.push(p);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;a=!0,r+=d.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?r:void 0}get data(){var e,t,i;let r="";const a=[];for(const u of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[d,p]of Object.entries(u))d!=="inlineData"&&p!==null&&a.push(d);u.inlineData&&typeof u.inlineData.data=="string"&&(r+=atob(u.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class yU{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class oy{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new oy,a=jw(e);return Object.assign(i,a),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xe(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Qw(n,e){const t=Xe(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function Xw(n){return Array.isArray(n)?n.map(e=>mf(e)):[mf(n)]}function mf(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Ww(n){const e=mf(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Zw(n){const e=mf(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function LS(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function eI(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>LS(e)):[LS(n)]}function Qm(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function OS(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function FS(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function an(n){if(n==null)throw new Error("ContentUnion is required");return Qm(n)?n:{role:"user",parts:eI(n)}}function ay(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=an(t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){const t=an(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>an(t)):[an(e)]}function Xn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(OS(n)||FS(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[an(n)]}const e=[],t=[],i=Qm(n[0]);for(const r of n){const a=Qm(r);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(r);else{if(OS(r)||FS(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(r)}}return i||e.push({role:"user",parts:eI(t)}),e}function vU(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(i=>i!=="null");if(t.length===1)e.type=Object.values(hn).includes(t[0].toUpperCase())?t[0].toUpperCase():hn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.values(hn).includes(i.toUpperCase())?i.toUpperCase():hn.TYPE_UNSPECIFIED})}}function Ra(n){const e={},t=["items"],i=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=n.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,n=a[1]):a[1].type==="null"&&(e.nullable=!0,n=a[0])),n.type instanceof Array&&vU(n.type,e);for(const[u,d]of Object.entries(n))if(d!=null)if(u=="type"){if(d==="null")throw new Error("type: null can not be the only possible type for the field.");if(d instanceof Array)continue;e.type=Object.values(hn).includes(d.toUpperCase())?d.toUpperCase():hn.TYPE_UNSPECIFIED}else if(t.includes(u))e[u]=Ra(d);else if(i.includes(u)){const p=[];for(const h of d){if(h.type=="null"){e.nullable=!0;continue}p.push(Ra(h))}e[u]=p}else if(r.includes(u)){const p={};for(const[h,v]of Object.entries(d))p[h]=Ra(v);e[u]=p}else{if(u==="additionalProperties")continue;e[u]=d}return e}function ly(n){return Ra(n)}function uy(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function cy(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Ka(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ra(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ra(e.response));return n}function Ya(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function _U(n,e,t,i=1){const r=!e.startsWith(`${t}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:r?`${t}/${e}`:e}function Cs(n,e){if(typeof e!="string")throw new Error("name must be a string");return _U(n,e,"cachedContents")}function tI(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Dr(n){return sy(n)}function EU(n){return n!=null&&typeof n=="object"&&"name"in n}function TU(n){return n!=null&&typeof n=="object"&&"video"in n}function SU(n){return n!=null&&typeof n=="object"&&"uri"in n}function nI(n){var e;let t;if(EU(n)&&(t=n.name),!(SU(n)&&(t=n.uri,t===void 0))&&!(TU(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const r=t.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${t}`);t=r[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function iI(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function sI(n){for(const e of["models","tunedModels","publisherModels"])if(AU(n,e))return n[e];return[]}function AU(n,e){return n!==null&&typeof n=="object"&&e in n}function CU(n,e={}){const t=n,i={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(i.responseJsonSchema=t.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function wU(n,e={}){const t=[],i=new Set;for(const r of n){const a=r.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const u=CU(r,e);u.functionDeclarations&&t.push(...u.functionDeclarations)}return{functionDeclarations:t}}function rI(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const i=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,r=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function IU(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function oI(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const r=t.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let a=!1;for(const u of r){if(typeof u!="object"||u===null)continue;const p=u.response;if(typeof p!="object"||p===null)continue;if(p.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function $a(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function aI(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xU(n){const e={},t=f(n,["responsesFile"]);t!=null&&m(e,["fileName"],t);const i=f(n,["inlinedResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>aL(u))),m(e,["inlinedResponses"],a)}const r=f(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["inlinedEmbedContentResponses"],a)}return e}function RU(n){const e={},t=f(n,["predictionsFormat"]);t!=null&&m(e,["format"],t);const i=f(n,["gcsDestination","outputUriPrefix"]);i!=null&&m(e,["gcsUri"],i);const r=f(n,["bigqueryDestination","outputUri"]);return r!=null&&m(e,["bigqueryUri"],r),e}function bU(n){const e={},t=f(n,["format"]);t!=null&&m(e,["predictionsFormat"],t);const i=f(n,["gcsUri"]);i!=null&&m(e,["gcsDestination","outputUriPrefix"],i);const r=f(n,["bigqueryUri"]);if(r!=null&&m(e,["bigqueryDestination","outputUri"],r),f(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Fd(n){const e={},t=f(n,["name"]);t!=null&&m(e,["name"],t);const i=f(n,["metadata","displayName"]);i!=null&&m(e,["displayName"],i);const r=f(n,["metadata","state"]);r!=null&&m(e,["state"],aI(r));const a=f(n,["metadata","createTime"]);a!=null&&m(e,["createTime"],a);const u=f(n,["metadata","endTime"]);u!=null&&m(e,["endTime"],u);const d=f(n,["metadata","updateTime"]);d!=null&&m(e,["updateTime"],d);const p=f(n,["metadata","model"]);p!=null&&m(e,["model"],p);const h=f(n,["metadata","output"]);return h!=null&&m(e,["dest"],xU(oI(h))),e}function Xm(n){const e={},t=f(n,["name"]);t!=null&&m(e,["name"],t);const i=f(n,["displayName"]);i!=null&&m(e,["displayName"],i);const r=f(n,["state"]);r!=null&&m(e,["state"],aI(r));const a=f(n,["error"]);a!=null&&m(e,["error"],a);const u=f(n,["createTime"]);u!=null&&m(e,["createTime"],u);const d=f(n,["startTime"]);d!=null&&m(e,["startTime"],d);const p=f(n,["endTime"]);p!=null&&m(e,["endTime"],p);const h=f(n,["updateTime"]);h!=null&&m(e,["updateTime"],h);const v=f(n,["model"]);v!=null&&m(e,["model"],v);const E=f(n,["inputConfig"]);E!=null&&m(e,["src"],NU(E));const T=f(n,["outputConfig"]);T!=null&&m(e,["dest"],RU(oI(T)));const I=f(n,["completionStats"]);return I!=null&&m(e,["completionStats"],I),e}function NU(n){const e={},t=f(n,["instancesFormat"]);t!=null&&m(e,["format"],t);const i=f(n,["gcsSource","uris"]);i!=null&&m(e,["gcsUri"],i);const r=f(n,["bigquerySource","inputUri"]);return r!=null&&m(e,["bigqueryUri"],r),e}function MU(n,e){const t={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=f(e,["fileName"]);i!=null&&m(t,["fileName"],i);const r=f(e,["inlinedRequests"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>oL(n,u))),m(t,["requests","requests"],a)}return t}function DU(n){const e={},t=f(n,["format"]);t!=null&&m(e,["instancesFormat"],t);const i=f(n,["gcsUri"]);i!=null&&m(e,["gcsSource","uris"],i);const r=f(n,["bigqueryUri"]);if(r!=null&&m(e,["bigquerySource","inputUri"],r),f(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function kU(n){const e={},t=f(n,["data"]);if(t!=null&&m(e,["data"],t),f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(n,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function PU(n,e){const t={},i=f(e,["name"]);return i!=null&&m(t,["_url","name"],$a(n,i)),t}function VU(n,e){const t={},i=f(e,["name"]);return i!=null&&m(t,["_url","name"],$a(n,i)),t}function UU(n){const e={},t=f(n,["content"]);t!=null&&m(e,["content"],t);const i=f(n,["citationMetadata"]);i!=null&&m(e,["citationMetadata"],LU(i));const r=f(n,["tokenCount"]);r!=null&&m(e,["tokenCount"],r);const a=f(n,["finishReason"]);a!=null&&m(e,["finishReason"],a);const u=f(n,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const d=f(n,["groundingMetadata"]);d!=null&&m(e,["groundingMetadata"],d);const p=f(n,["index"]);p!=null&&m(e,["index"],p);const h=f(n,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const v=f(n,["safetyRatings"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(I=>I)),m(e,["safetyRatings"],T)}const E=f(n,["urlContextMetadata"]);return E!=null&&m(e,["urlContextMetadata"],E),e}function LU(n){const e={},t=f(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),m(e,["citations"],i)}return e}function lI(n){const e={},t=f(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(a=>pL(a))),m(e,["parts"],r)}const i=f(n,["role"]);return i!=null&&m(e,["role"],i),e}function OU(n,e){const t={},i=f(n,["displayName"]);if(e!==void 0&&i!=null&&m(e,["batch","displayName"],i),f(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function FU(n,e){const t={},i=f(n,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const r=f(n,["dest"]);return e!==void 0&&r!=null&&m(e,["outputConfig"],bU(IU(r))),t}function GS(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["_url","model"],Xe(n,i));const r=f(e,["src"]);r!=null&&m(t,["batch","inputConfig"],MU(n,rI(n,r)));const a=f(e,["config"]);return a!=null&&OU(a,t),t}function GU(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["model"],Xe(n,i));const r=f(e,["src"]);r!=null&&m(t,["inputConfig"],DU(rI(n,r)));const a=f(e,["config"]);return a!=null&&FU(a,t),t}function HU(n,e){const t={},i=f(n,["displayName"]);return e!==void 0&&i!=null&&m(e,["batch","displayName"],i),t}function BU(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["_url","model"],Xe(n,i));const r=f(e,["src"]);r!=null&&m(t,["batch","inputConfig"],jU(n,r));const a=f(e,["config"]);return a!=null&&HU(a,t),t}function zU(n,e){const t={},i=f(e,["name"]);return i!=null&&m(t,["_url","name"],$a(n,i)),t}function qU(n,e){const t={},i=f(e,["name"]);return i!=null&&m(t,["_url","name"],$a(n,i)),t}function JU(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["name"]);i!=null&&m(e,["name"],i);const r=f(n,["done"]);r!=null&&m(e,["done"],r);const a=f(n,["error"]);return a!=null&&m(e,["error"],a),e}function KU(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["name"]);i!=null&&m(e,["name"],i);const r=f(n,["done"]);r!=null&&m(e,["done"],r);const a=f(n,["error"]);return a!=null&&m(e,["error"],a),e}function YU(n,e){const t={},i=f(e,["contents"]);if(i!=null){let a=ay(n,i);Array.isArray(a)&&(a=a.map(u=>u)),m(t,["requests[]","request","content"],a)}const r=f(e,["config"]);return r!=null&&(m(t,["_self"],$U(r,t)),zV(t,{"requests[].*":"requests[].request.*"})),t}function $U(n,e){const t={},i=f(n,["taskType"]);e!==void 0&&i!=null&&m(e,["requests[]","taskType"],i);const r=f(n,["title"]);e!==void 0&&r!=null&&m(e,["requests[]","title"],r);const a=f(n,["outputDimensionality"]);if(e!==void 0&&a!=null&&m(e,["requests[]","outputDimensionality"],a),f(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function jU(n,e){const t={},i=f(e,["fileName"]);i!=null&&m(t,["file_name"],i);const r=f(e,["inlinedRequests"]);return r!=null&&m(t,["requests"],YU(n,r)),t}function QU(n){const e={};if(f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=f(n,["fileUri"]);t!=null&&m(e,["fileUri"],t);const i=f(n,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function XU(n){const e={},t=f(n,["id"]);t!=null&&m(e,["id"],t);const i=f(n,["args"]);i!=null&&m(e,["args"],i);const r=f(n,["name"]);if(r!=null&&m(e,["name"],r),f(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function WU(n){const e={},t=f(n,["allowedFunctionNames"]);t!=null&&m(e,["allowedFunctionNames"],t);const i=f(n,["mode"]);if(i!=null&&m(e,["mode"],i),f(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ZU(n,e,t){const i={},r=f(e,["systemInstruction"]);t!==void 0&&r!=null&&m(t,["systemInstruction"],lI(an(r)));const a=f(e,["temperature"]);a!=null&&m(i,["temperature"],a);const u=f(e,["topP"]);u!=null&&m(i,["topP"],u);const d=f(e,["topK"]);d!=null&&m(i,["topK"],d);const p=f(e,["candidateCount"]);p!=null&&m(i,["candidateCount"],p);const h=f(e,["maxOutputTokens"]);h!=null&&m(i,["maxOutputTokens"],h);const v=f(e,["stopSequences"]);v!=null&&m(i,["stopSequences"],v);const E=f(e,["responseLogprobs"]);E!=null&&m(i,["responseLogprobs"],E);const T=f(e,["logprobs"]);T!=null&&m(i,["logprobs"],T);const I=f(e,["presencePenalty"]);I!=null&&m(i,["presencePenalty"],I);const D=f(e,["frequencyPenalty"]);D!=null&&m(i,["frequencyPenalty"],D);const L=f(e,["seed"]);L!=null&&m(i,["seed"],L);const k=f(e,["responseMimeType"]);k!=null&&m(i,["responseMimeType"],k);const z=f(e,["responseSchema"]);z!=null&&m(i,["responseSchema"],ly(z));const Z=f(e,["responseJsonSchema"]);if(Z!=null&&m(i,["responseJsonSchema"],Z),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const j=f(e,["safetySettings"]);if(t!==void 0&&j!=null){let P=j;Array.isArray(P)&&(P=P.map(he=>mL(he))),m(t,["safetySettings"],P)}const oe=f(e,["tools"]);if(t!==void 0&&oe!=null){let P=Ya(oe);Array.isArray(P)&&(P=P.map(he=>yL(Ka(he)))),m(t,["tools"],P)}const Q=f(e,["toolConfig"]);if(t!==void 0&&Q!=null&&m(t,["toolConfig"],gL(Q)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const fe=f(e,["cachedContent"]);t!==void 0&&fe!=null&&m(t,["cachedContent"],Cs(n,fe));const M=f(e,["responseModalities"]);M!=null&&m(i,["responseModalities"],M);const b=f(e,["mediaResolution"]);b!=null&&m(i,["mediaResolution"],b);const N=f(e,["speechConfig"]);if(N!=null&&m(i,["speechConfig"],uy(N)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=f(e,["thinkingConfig"]);V!=null&&m(i,["thinkingConfig"],V);const U=f(e,["imageConfig"]);U!=null&&m(i,["imageConfig"],rL(U));const H=f(e,["enableEnhancedCivicAnswers"]);if(H!=null&&m(i,["enableEnhancedCivicAnswers"],H),f(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function eL(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(h=>UU(h))),m(e,["candidates"],p)}const r=f(n,["modelVersion"]);r!=null&&m(e,["modelVersion"],r);const a=f(n,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const u=f(n,["responseId"]);u!=null&&m(e,["responseId"],u);const d=f(n,["usageMetadata"]);return d!=null&&m(e,["usageMetadata"],d),e}function tL(n,e){const t={},i=f(e,["name"]);return i!=null&&m(t,["_url","name"],$a(n,i)),t}function nL(n,e){const t={},i=f(e,["name"]);return i!=null&&m(t,["_url","name"],$a(n,i)),t}function iL(n){const e={};if(f(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=f(n,["enableWidget"]);return t!=null&&m(e,["enableWidget"],t),e}function sL(n){const e={};if(f(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=f(n,["timeRangeFilter"]);return t!=null&&m(e,["timeRangeFilter"],t),e}function rL(n){const e={},t=f(n,["aspectRatio"]);t!=null&&m(e,["aspectRatio"],t);const i=f(n,["imageSize"]);if(i!=null&&m(e,["imageSize"],i),f(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function oL(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["request","model"],Xe(n,i));const r=f(e,["contents"]);if(r!=null){let d=Xn(r);Array.isArray(d)&&(d=d.map(p=>lI(p))),m(t,["request","contents"],d)}const a=f(e,["metadata"]);a!=null&&m(t,["metadata"],a);const u=f(e,["config"]);return u!=null&&m(t,["request","generationConfig"],ZU(n,u,f(t,["request"],{}))),t}function aL(n){const e={},t=f(n,["response"]);t!=null&&m(e,["response"],eL(t));const i=f(n,["metadata"]);i!=null&&m(e,["metadata"],i);const r=f(n,["error"]);return r!=null&&m(e,["error"],r),e}function lL(n,e){const t={},i=f(n,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const r=f(n,["pageToken"]);if(e!==void 0&&r!=null&&m(e,["_query","pageToken"],r),f(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function uL(n,e){const t={},i=f(n,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const r=f(n,["pageToken"]);e!==void 0&&r!=null&&m(e,["_query","pageToken"],r);const a=f(n,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),t}function cL(n){const e={},t=f(n,["config"]);return t!=null&&lL(t,e),e}function dL(n){const e={},t=f(n,["config"]);return t!=null&&uL(t,e),e}function fL(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const r=f(n,["operations"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>Fd(u))),m(e,["batchJobs"],a)}return e}function hL(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const r=f(n,["batchPredictionJobs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>Xm(u))),m(e,["batchJobs"],a)}return e}function pL(n){const e={},t=f(n,["mediaResolution"]);t!=null&&m(e,["mediaResolution"],t);const i=f(n,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const r=f(n,["executableCode"]);r!=null&&m(e,["executableCode"],r);const a=f(n,["fileData"]);a!=null&&m(e,["fileData"],QU(a));const u=f(n,["functionCall"]);u!=null&&m(e,["functionCall"],XU(u));const d=f(n,["functionResponse"]);d!=null&&m(e,["functionResponse"],d);const p=f(n,["inlineData"]);p!=null&&m(e,["inlineData"],kU(p));const h=f(n,["text"]);h!=null&&m(e,["text"],h);const v=f(n,["thought"]);v!=null&&m(e,["thought"],v);const E=f(n,["thoughtSignature"]);E!=null&&m(e,["thoughtSignature"],E);const T=f(n,["videoMetadata"]);return T!=null&&m(e,["videoMetadata"],T),e}function mL(n){const e={},t=f(n,["category"]);if(t!=null&&m(e,["category"],t),f(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=f(n,["threshold"]);return i!=null&&m(e,["threshold"],i),e}function gL(n){const e={},t=f(n,["retrievalConfig"]);t!=null&&m(e,["retrievalConfig"],t);const i=f(n,["functionCallingConfig"]);return i!=null&&m(e,["functionCallingConfig"],WU(i)),e}function yL(n){const e={};if(f(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=f(n,["computerUse"]);t!=null&&m(e,["computerUse"],t);const i=f(n,["fileSearch"]);i!=null&&m(e,["fileSearch"],i);const r=f(n,["codeExecution"]);if(r!=null&&m(e,["codeExecution"],r),f(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=f(n,["functionDeclarations"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(E=>E)),m(e,["functionDeclarations"],v)}const u=f(n,["googleMaps"]);u!=null&&m(e,["googleMaps"],iL(u));const d=f(n,["googleSearch"]);d!=null&&m(e,["googleSearch"],sL(d));const p=f(n,["googleSearchRetrieval"]);p!=null&&m(e,["googleSearchRetrieval"],p);const h=f(n,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ts;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Ts||(Ts={}));class wo{constructor(e,t,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,r)}init(e,t,i){var r,a;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!i||Object.keys(i).length===0?u={config:{}}:typeof i=="object"?u=Object.assign({},i):u=i,u.config&&(u.config.pageToken=t.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(a=(r=u.config)===null||r===void 0?void 0:r.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vL extends As{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new wo(Ts.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)}}createInlinedGenerateContentRequest(e){const t=GS(this.apiClient,e),i=t._url,r=ge("{model}:batchGenerateContent",i),d=t.batch.inputConfig.requests,p=d.requests,h=[];for(const v of p){const E=Object.assign({},v);if(E.systemInstruction){const T=E.systemInstruction;delete E.systemInstruction;const I=E.request;I.systemInstruction=T,E.request=I}h.push(E)}return d.requests=h,delete t.config,delete t._url,delete t._query,{path:r,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const i=t?Object.assign({},t):{},r=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${r}`),i.dest===void 0){const a=this.getGcsUri(e),u=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?i.dest=`${a.slice(0,-6)}/dest`:i.dest=`${a}_dest_${r}`;else if(u)i.dest=`${u}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=GU(this.apiClient,e);return d=ge("batchPredictionJobs",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>Xm(v))}else{const h=GS(this.apiClient,e);return d=ge("{model}:batchGenerateContent",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>Fd(v))}}async createEmbeddingsInternal(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=BU(this.apiClient,e);return a=ge("{model}:asyncBatchEmbedContent",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>Fd(p))}}async get(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=nL(this.apiClient,e);return d=ge("batchPredictionJobs/{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>Xm(v))}else{const h=tL(this.apiClient,e);return d=ge("batches/{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>Fd(v))}}async cancel(e){var t,i,r,a;let u="",d={};if(this.apiClient.isVertexAI()){const p=VU(this.apiClient,e);u=ge("batchPredictionJobs/{name}:cancel",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const p=PU(this.apiClient,e);u=ge("batches/{name}:cancel",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=dL(e);return d=ge("batchPredictionJobs",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=hL(v),T=new US;return Object.assign(T,E),T})}else{const h=cL(e);return d=ge("batches",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=fL(v),T=new US;return Object.assign(T,E),T})}}async delete(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=qU(this.apiClient,e);return d=ge("batchPredictionJobs/{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>KU(v))}else{const h=zU(this.apiClient,e);return d=ge("batches/{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>JU(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _L(n){const e={},t=f(n,["data"]);if(t!=null&&m(e,["data"],t),f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(n,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function HS(n){const e={},t=f(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(a=>BL(a))),m(e,["parts"],r)}const i=f(n,["role"]);return i!=null&&m(e,["role"],i),e}function EL(n,e){const t={},i=f(n,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const r=f(n,["expireTime"]);e!==void 0&&r!=null&&m(e,["expireTime"],r);const a=f(n,["displayName"]);e!==void 0&&a!=null&&m(e,["displayName"],a);const u=f(n,["contents"]);if(e!==void 0&&u!=null){let v=Xn(u);Array.isArray(v)&&(v=v.map(E=>HS(E))),m(e,["contents"],v)}const d=f(n,["systemInstruction"]);e!==void 0&&d!=null&&m(e,["systemInstruction"],HS(an(d)));const p=f(n,["tools"]);if(e!==void 0&&p!=null){let v=p;Array.isArray(v)&&(v=v.map(E=>qL(E))),m(e,["tools"],v)}const h=f(n,["toolConfig"]);if(e!==void 0&&h!=null&&m(e,["toolConfig"],zL(h)),f(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function TL(n,e){const t={},i=f(n,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const r=f(n,["expireTime"]);e!==void 0&&r!=null&&m(e,["expireTime"],r);const a=f(n,["displayName"]);e!==void 0&&a!=null&&m(e,["displayName"],a);const u=f(n,["contents"]);if(e!==void 0&&u!=null){let E=Xn(u);Array.isArray(E)&&(E=E.map(T=>T)),m(e,["contents"],E)}const d=f(n,["systemInstruction"]);e!==void 0&&d!=null&&m(e,["systemInstruction"],an(d));const p=f(n,["tools"]);if(e!==void 0&&p!=null){let E=p;Array.isArray(E)&&(E=E.map(T=>JL(T))),m(e,["tools"],E)}const h=f(n,["toolConfig"]);e!==void 0&&h!=null&&m(e,["toolConfig"],h);const v=f(n,["kmsKeyName"]);return e!==void 0&&v!=null&&m(e,["encryption_spec","kmsKeyName"],v),t}function SL(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["model"],Qw(n,i));const r=f(e,["config"]);return r!=null&&EL(r,t),t}function AL(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["model"],Qw(n,i));const r=f(e,["config"]);return r!=null&&TL(r,t),t}function CL(n,e){const t={},i=f(e,["name"]);return i!=null&&m(t,["_url","name"],Cs(n,i)),t}function wL(n,e){const t={},i=f(e,["name"]);return i!=null&&m(t,["_url","name"],Cs(n,i)),t}function IL(n){const e={},t=f(n,["sdkHttpResponse"]);return t!=null&&m(e,["sdkHttpResponse"],t),e}function xL(n){const e={},t=f(n,["sdkHttpResponse"]);return t!=null&&m(e,["sdkHttpResponse"],t),e}function RL(n){const e={};if(f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=f(n,["fileUri"]);t!=null&&m(e,["fileUri"],t);const i=f(n,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function bL(n){const e={},t=f(n,["id"]);t!=null&&m(e,["id"],t);const i=f(n,["args"]);i!=null&&m(e,["args"],i);const r=f(n,["name"]);if(r!=null&&m(e,["name"],r),f(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function NL(n){const e={},t=f(n,["allowedFunctionNames"]);t!=null&&m(e,["allowedFunctionNames"],t);const i=f(n,["mode"]);if(i!=null&&m(e,["mode"],i),f(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ML(n){const e={},t=f(n,["description"]);t!=null&&m(e,["description"],t);const i=f(n,["name"]);i!=null&&m(e,["name"],i);const r=f(n,["parameters"]);r!=null&&m(e,["parameters"],r);const a=f(n,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=f(n,["response"]);u!=null&&m(e,["response"],u);const d=f(n,["responseJsonSchema"]);if(d!=null&&m(e,["responseJsonSchema"],d),f(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function DL(n,e){const t={},i=f(e,["name"]);return i!=null&&m(t,["_url","name"],Cs(n,i)),t}function kL(n,e){const t={},i=f(e,["name"]);return i!=null&&m(t,["_url","name"],Cs(n,i)),t}function PL(n){const e={};if(f(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=f(n,["enableWidget"]);return t!=null&&m(e,["enableWidget"],t),e}function VL(n){const e={};if(f(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=f(n,["timeRangeFilter"]);return t!=null&&m(e,["timeRangeFilter"],t),e}function UL(n,e){const t={},i=f(n,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const r=f(n,["pageToken"]);return e!==void 0&&r!=null&&m(e,["_query","pageToken"],r),t}function LL(n,e){const t={},i=f(n,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const r=f(n,["pageToken"]);return e!==void 0&&r!=null&&m(e,["_query","pageToken"],r),t}function OL(n){const e={},t=f(n,["config"]);return t!=null&&UL(t,e),e}function FL(n){const e={},t=f(n,["config"]);return t!=null&&LL(t,e),e}function GL(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const r=f(n,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["cachedContents"],a)}return e}function HL(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const r=f(n,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["cachedContents"],a)}return e}function BL(n){const e={},t=f(n,["mediaResolution"]);t!=null&&m(e,["mediaResolution"],t);const i=f(n,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const r=f(n,["executableCode"]);r!=null&&m(e,["executableCode"],r);const a=f(n,["fileData"]);a!=null&&m(e,["fileData"],RL(a));const u=f(n,["functionCall"]);u!=null&&m(e,["functionCall"],bL(u));const d=f(n,["functionResponse"]);d!=null&&m(e,["functionResponse"],d);const p=f(n,["inlineData"]);p!=null&&m(e,["inlineData"],_L(p));const h=f(n,["text"]);h!=null&&m(e,["text"],h);const v=f(n,["thought"]);v!=null&&m(e,["thought"],v);const E=f(n,["thoughtSignature"]);E!=null&&m(e,["thoughtSignature"],E);const T=f(n,["videoMetadata"]);return T!=null&&m(e,["videoMetadata"],T),e}function zL(n){const e={},t=f(n,["retrievalConfig"]);t!=null&&m(e,["retrievalConfig"],t);const i=f(n,["functionCallingConfig"]);return i!=null&&m(e,["functionCallingConfig"],NL(i)),e}function qL(n){const e={};if(f(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=f(n,["computerUse"]);t!=null&&m(e,["computerUse"],t);const i=f(n,["fileSearch"]);i!=null&&m(e,["fileSearch"],i);const r=f(n,["codeExecution"]);if(r!=null&&m(e,["codeExecution"],r),f(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=f(n,["functionDeclarations"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(E=>E)),m(e,["functionDeclarations"],v)}const u=f(n,["googleMaps"]);u!=null&&m(e,["googleMaps"],PL(u));const d=f(n,["googleSearch"]);d!=null&&m(e,["googleSearch"],VL(d));const p=f(n,["googleSearchRetrieval"]);p!=null&&m(e,["googleSearchRetrieval"],p);const h=f(n,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}function JL(n){const e={},t=f(n,["retrieval"]);t!=null&&m(e,["retrieval"],t);const i=f(n,["computerUse"]);if(i!=null&&m(e,["computerUse"],i),f(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=f(n,["codeExecution"]);r!=null&&m(e,["codeExecution"],r);const a=f(n,["enterpriseWebSearch"]);a!=null&&m(e,["enterpriseWebSearch"],a);const u=f(n,["functionDeclarations"]);if(u!=null){let E=u;Array.isArray(E)&&(E=E.map(T=>ML(T))),m(e,["functionDeclarations"],E)}const d=f(n,["googleMaps"]);d!=null&&m(e,["googleMaps"],d);const p=f(n,["googleSearch"]);p!=null&&m(e,["googleSearch"],p);const h=f(n,["googleSearchRetrieval"]);h!=null&&m(e,["googleSearchRetrieval"],h);const v=f(n,["urlContext"]);return v!=null&&m(e,["urlContext"],v),e}function KL(n,e){const t={},i=f(n,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const r=f(n,["expireTime"]);return e!==void 0&&r!=null&&m(e,["expireTime"],r),t}function YL(n,e){const t={},i=f(n,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const r=f(n,["expireTime"]);return e!==void 0&&r!=null&&m(e,["expireTime"],r),t}function $L(n,e){const t={},i=f(e,["name"]);i!=null&&m(t,["_url","name"],Cs(n,i));const r=f(e,["config"]);return r!=null&&KL(r,t),t}function jL(n,e){const t={},i=f(e,["name"]);i!=null&&m(t,["_url","name"],Cs(n,i));const r=f(e,["config"]);return r!=null&&YL(r,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QL extends As{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new wo(Ts.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=AL(this.apiClient,e);return d=ge("cachedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>v)}else{const h=SL(this.apiClient,e);return d=ge("cachedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async get(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=kL(this.apiClient,e);return d=ge("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>v)}else{const h=DL(this.apiClient,e);return d=ge("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async delete(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=wL(this.apiClient,e);return d=ge("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=xL(v),T=new PS;return Object.assign(T,E),T})}else{const h=CL(this.apiClient,e);return d=ge("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=IL(v),T=new PS;return Object.assign(T,E),T})}}async update(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=jL(this.apiClient,e);return d=ge("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>v)}else{const h=$L(this.apiClient,e);return d=ge("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async listInternal(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=FL(e);return d=ge("cachedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=HL(v),T=new VS;return Object.assign(T,E),T})}else{const h=OL(e);return d=ge("cachedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=GL(v),T=new VS;return Object.assign(T,E),T})}}}function gf(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function BS(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(n){return this instanceof Ne?(this.v=n,this):new Ne(n)}function hi(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,a=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),r[Symbol.asyncIterator]=function(){return this},r;function u(I){return function(D){return Promise.resolve(D).then(I,E)}}function d(I,D){i[I]&&(r[I]=function(L){return new Promise(function(k,z){a.push([I,L,k,z])>1||p(I,L)})},D&&(r[I]=D(r[I])))}function p(I,D){try{h(i[I](D))}catch(L){T(a[0][3],L)}}function h(I){I.value instanceof Ne?Promise.resolve(I.value.v).then(v,E):T(a[0][2],I)}function v(I){p("next",I)}function E(I){p("throw",I)}function T(I,D){I(D),a.shift(),a.length&&p(a[0][0],a[0][1])}}function pi(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof BS=="function"?BS(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(a){t[a]=n[a]&&function(u){return new Promise(function(d,p){u=n[a](u),r(d,p,u.done,u.value)})}}function r(a,u,d,p){Promise.resolve(p).then(function(h){a({value:h,done:d})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XL(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:uI(t)}function uI(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function WL(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function zS(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let i=0;for(;i<t;)if(n[i].role==="user")e.push(n[i]),i++;else{const r=[];let a=!0;for(;i<t&&n[i].role==="model";)r.push(n[i]),a&&!uI(n[i])&&(a=!1),i++;a?e.push(...r):e.pop()}return e}class ZL{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new e4(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class e4{constructor(e,t,i,r={},a=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=r,this.history=a,this.sendPromise=Promise.resolve(),WL(a)}async sendMessage(e){var t;await this.sendPromise;const i=an(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var a,u,d;const p=await r,h=(u=(a=p.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content,v=p.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let T=[];v!=null&&(T=(d=v.slice(E))!==null&&d!==void 0?d:[]);const I=h?[h]:[];this.recordHistory(i,I,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const i=an(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const a=await r;return this.processStreamResponse(a,i)}getHistory(e=!1){const t=e?zS(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){return hi(this,arguments,function*(){var r,a,u,d,p,h;const v=[];try{for(var E=!0,T=pi(e),I;I=yield Ne(T.next()),r=I.done,!r;E=!0){d=I.value,E=!1;const D=d;if(XL(D)){const L=(h=(p=D.candidates)===null||p===void 0?void 0:p[0])===null||h===void 0?void 0:h.content;L!==void 0&&v.push(L)}yield yield Ne(D)}}catch(D){a={error:D}}finally{try{!E&&!r&&(u=T.return)&&(yield Ne(u.call(T)))}finally{if(a)throw a.error}}this.recordHistory(t,v)})}recordHistory(e,t,i){let r=[];t.length>0&&t.every(a=>a.role!==void 0)?r=t:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...zS(i)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nu extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Nu.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function t4(n){const e={},t=f(n,["file"]);return t!=null&&m(e,["file"],t),e}function n4(n){const e={},t=f(n,["sdkHttpResponse"]);return t!=null&&m(e,["sdkHttpResponse"],t),e}function i4(n){const e={},t=f(n,["name"]);return t!=null&&m(e,["_url","file"],nI(t)),e}function s4(n){const e={},t=f(n,["sdkHttpResponse"]);return t!=null&&m(e,["sdkHttpResponse"],t),e}function r4(n){const e={},t=f(n,["name"]);return t!=null&&m(e,["_url","file"],nI(t)),e}function o4(n){const e={},t=f(n,["uris"]);return t!=null&&m(e,["uris"],t),e}function a4(n,e){const t={},i=f(n,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const r=f(n,["pageToken"]);return e!==void 0&&r!=null&&m(e,["_query","pageToken"],r),t}function l4(n){const e={},t=f(n,["config"]);return t!=null&&a4(t,e),e}function u4(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const r=f(n,["files"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["files"],a)}return e}function c4(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["files"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),m(e,["files"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d4 extends As{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new wo(Ts.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=l4(e);return a=ge("files",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),r.then(p=>{const h=u4(p),v=new fU;return Object.assign(v,h),v})}}async createInternal(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=t4(e);return a=ge("upload/v1beta/files",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const h=n4(p),v=new hU;return Object.assign(v,h),v})}}async get(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=r4(e);return a=ge("files/{file}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=i4(e);return a=ge("files/{file}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),r.then(p=>{const h=s4(p),v=new pU;return Object.assign(v,h),v})}}async registerFilesInternal(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=o4(e);return a=ge("files:register",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const h=c4(p),v=new mU;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gd(n){const e={},t=f(n,["data"]);if(t!=null&&m(e,["data"],t),f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(n,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function f4(n){const e={},t=f(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(a=>R4(a))),m(e,["parts"],r)}const i=f(n,["role"]);return i!=null&&m(e,["role"],i),e}function h4(n){const e={};if(f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=f(n,["fileUri"]);t!=null&&m(e,["fileUri"],t);const i=f(n,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function p4(n){const e={},t=f(n,["id"]);t!=null&&m(e,["id"],t);const i=f(n,["args"]);i!=null&&m(e,["args"],i);const r=f(n,["name"]);if(r!=null&&m(e,["name"],r),f(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function m4(n){const e={},t=f(n,["description"]);t!=null&&m(e,["description"],t);const i=f(n,["name"]);i!=null&&m(e,["name"],i);const r=f(n,["parameters"]);r!=null&&m(e,["parameters"],r);const a=f(n,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=f(n,["response"]);u!=null&&m(e,["response"],u);const d=f(n,["responseJsonSchema"]);if(d!=null&&m(e,["responseJsonSchema"],d),f(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function g4(n){const e={},t=f(n,["modelSelectionConfig"]);t!=null&&m(e,["modelConfig"],t);const i=f(n,["responseJsonSchema"]);i!=null&&m(e,["responseJsonSchema"],i);const r=f(n,["audioTimestamp"]);r!=null&&m(e,["audioTimestamp"],r);const a=f(n,["candidateCount"]);a!=null&&m(e,["candidateCount"],a);const u=f(n,["enableAffectiveDialog"]);u!=null&&m(e,["enableAffectiveDialog"],u);const d=f(n,["frequencyPenalty"]);d!=null&&m(e,["frequencyPenalty"],d);const p=f(n,["logprobs"]);p!=null&&m(e,["logprobs"],p);const h=f(n,["maxOutputTokens"]);h!=null&&m(e,["maxOutputTokens"],h);const v=f(n,["mediaResolution"]);v!=null&&m(e,["mediaResolution"],v);const E=f(n,["presencePenalty"]);E!=null&&m(e,["presencePenalty"],E);const T=f(n,["responseLogprobs"]);T!=null&&m(e,["responseLogprobs"],T);const I=f(n,["responseMimeType"]);I!=null&&m(e,["responseMimeType"],I);const D=f(n,["responseModalities"]);D!=null&&m(e,["responseModalities"],D);const L=f(n,["responseSchema"]);L!=null&&m(e,["responseSchema"],L);const k=f(n,["routingConfig"]);k!=null&&m(e,["routingConfig"],k);const z=f(n,["seed"]);z!=null&&m(e,["seed"],z);const Z=f(n,["speechConfig"]);Z!=null&&m(e,["speechConfig"],Z);const j=f(n,["stopSequences"]);j!=null&&m(e,["stopSequences"],j);const oe=f(n,["temperature"]);oe!=null&&m(e,["temperature"],oe);const Q=f(n,["thinkingConfig"]);Q!=null&&m(e,["thinkingConfig"],Q);const fe=f(n,["topK"]);fe!=null&&m(e,["topK"],fe);const M=f(n,["topP"]);if(M!=null&&m(e,["topP"],M),f(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function y4(n){const e={};if(f(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=f(n,["enableWidget"]);return t!=null&&m(e,["enableWidget"],t),e}function v4(n){const e={};if(f(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=f(n,["timeRangeFilter"]);return t!=null&&m(e,["timeRangeFilter"],t),e}function _4(n,e){const t={},i=f(n,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],i);const r=f(n,["responseModalities"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig","responseModalities"],r);const a=f(n,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const u=f(n,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const d=f(n,["topK"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","topK"],d);const p=f(n,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const h=f(n,["mediaResolution"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","mediaResolution"],h);const v=f(n,["seed"]);e!==void 0&&v!=null&&m(e,["setup","generationConfig","seed"],v);const E=f(n,["speechConfig"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","speechConfig"],cy(E));const T=f(n,["thinkingConfig"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","thinkingConfig"],T);const I=f(n,["enableAffectiveDialog"]);e!==void 0&&I!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],I);const D=f(n,["systemInstruction"]);e!==void 0&&D!=null&&m(e,["setup","systemInstruction"],f4(an(D)));const L=f(n,["tools"]);if(e!==void 0&&L!=null){let fe=Ya(L);Array.isArray(fe)&&(fe=fe.map(M=>N4(Ka(M)))),m(e,["setup","tools"],fe)}const k=f(n,["sessionResumption"]);e!==void 0&&k!=null&&m(e,["setup","sessionResumption"],b4(k));const z=f(n,["inputAudioTranscription"]);e!==void 0&&z!=null&&m(e,["setup","inputAudioTranscription"],z);const Z=f(n,["outputAudioTranscription"]);e!==void 0&&Z!=null&&m(e,["setup","outputAudioTranscription"],Z);const j=f(n,["realtimeInputConfig"]);e!==void 0&&j!=null&&m(e,["setup","realtimeInputConfig"],j);const oe=f(n,["contextWindowCompression"]);e!==void 0&&oe!=null&&m(e,["setup","contextWindowCompression"],oe);const Q=f(n,["proactivity"]);if(e!==void 0&&Q!=null&&m(e,["setup","proactivity"],Q),f(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return t}function E4(n,e){const t={},i=f(n,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],g4(i));const r=f(n,["responseModalities"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig","responseModalities"],r);const a=f(n,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const u=f(n,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const d=f(n,["topK"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","topK"],d);const p=f(n,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const h=f(n,["mediaResolution"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","mediaResolution"],h);const v=f(n,["seed"]);e!==void 0&&v!=null&&m(e,["setup","generationConfig","seed"],v);const E=f(n,["speechConfig"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","speechConfig"],cy(E));const T=f(n,["thinkingConfig"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","thinkingConfig"],T);const I=f(n,["enableAffectiveDialog"]);e!==void 0&&I!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],I);const D=f(n,["systemInstruction"]);e!==void 0&&D!=null&&m(e,["setup","systemInstruction"],an(D));const L=f(n,["tools"]);if(e!==void 0&&L!=null){let M=Ya(L);Array.isArray(M)&&(M=M.map(b=>M4(Ka(b)))),m(e,["setup","tools"],M)}const k=f(n,["sessionResumption"]);e!==void 0&&k!=null&&m(e,["setup","sessionResumption"],k);const z=f(n,["inputAudioTranscription"]);e!==void 0&&z!=null&&m(e,["setup","inputAudioTranscription"],z);const Z=f(n,["outputAudioTranscription"]);e!==void 0&&Z!=null&&m(e,["setup","outputAudioTranscription"],Z);const j=f(n,["realtimeInputConfig"]);e!==void 0&&j!=null&&m(e,["setup","realtimeInputConfig"],j);const oe=f(n,["contextWindowCompression"]);e!==void 0&&oe!=null&&m(e,["setup","contextWindowCompression"],oe);const Q=f(n,["proactivity"]);e!==void 0&&Q!=null&&m(e,["setup","proactivity"],Q);const fe=f(n,["explicitVadSignal"]);return e!==void 0&&fe!=null&&m(e,["setup","explicitVadSignal"],fe),t}function T4(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["setup","model"],Xe(n,i));const r=f(e,["config"]);return r!=null&&m(t,["config"],_4(r,t)),t}function S4(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["setup","model"],Xe(n,i));const r=f(e,["config"]);return r!=null&&m(t,["config"],E4(r,t)),t}function A4(n){const e={},t=f(n,["musicGenerationConfig"]);return t!=null&&m(e,["musicGenerationConfig"],t),e}function C4(n){const e={},t=f(n,["weightedPrompts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),m(e,["weightedPrompts"],i)}return e}function w4(n){const e={},t=f(n,["media"]);if(t!=null){let h=Xw(t);Array.isArray(h)&&(h=h.map(v=>Gd(v))),m(e,["mediaChunks"],h)}const i=f(n,["audio"]);i!=null&&m(e,["audio"],Gd(Zw(i)));const r=f(n,["audioStreamEnd"]);r!=null&&m(e,["audioStreamEnd"],r);const a=f(n,["video"]);a!=null&&m(e,["video"],Gd(Ww(a)));const u=f(n,["text"]);u!=null&&m(e,["text"],u);const d=f(n,["activityStart"]);d!=null&&m(e,["activityStart"],d);const p=f(n,["activityEnd"]);return p!=null&&m(e,["activityEnd"],p),e}function I4(n){const e={},t=f(n,["media"]);if(t!=null){let h=Xw(t);Array.isArray(h)&&(h=h.map(v=>v)),m(e,["mediaChunks"],h)}const i=f(n,["audio"]);i!=null&&m(e,["audio"],Zw(i));const r=f(n,["audioStreamEnd"]);r!=null&&m(e,["audioStreamEnd"],r);const a=f(n,["video"]);a!=null&&m(e,["video"],Ww(a));const u=f(n,["text"]);u!=null&&m(e,["text"],u);const d=f(n,["activityStart"]);d!=null&&m(e,["activityStart"],d);const p=f(n,["activityEnd"]);return p!=null&&m(e,["activityEnd"],p),e}function x4(n){const e={},t=f(n,["setupComplete"]);t!=null&&m(e,["setupComplete"],t);const i=f(n,["serverContent"]);i!=null&&m(e,["serverContent"],i);const r=f(n,["toolCall"]);r!=null&&m(e,["toolCall"],r);const a=f(n,["toolCallCancellation"]);a!=null&&m(e,["toolCallCancellation"],a);const u=f(n,["usageMetadata"]);u!=null&&m(e,["usageMetadata"],D4(u));const d=f(n,["goAway"]);d!=null&&m(e,["goAway"],d);const p=f(n,["sessionResumptionUpdate"]);p!=null&&m(e,["sessionResumptionUpdate"],p);const h=f(n,["voiceActivityDetectionSignal"]);h!=null&&m(e,["voiceActivityDetectionSignal"],h);const v=f(n,["voiceActivity"]);return v!=null&&m(e,["voiceActivity"],k4(v)),e}function R4(n){const e={},t=f(n,["mediaResolution"]);t!=null&&m(e,["mediaResolution"],t);const i=f(n,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const r=f(n,["executableCode"]);r!=null&&m(e,["executableCode"],r);const a=f(n,["fileData"]);a!=null&&m(e,["fileData"],h4(a));const u=f(n,["functionCall"]);u!=null&&m(e,["functionCall"],p4(u));const d=f(n,["functionResponse"]);d!=null&&m(e,["functionResponse"],d);const p=f(n,["inlineData"]);p!=null&&m(e,["inlineData"],Gd(p));const h=f(n,["text"]);h!=null&&m(e,["text"],h);const v=f(n,["thought"]);v!=null&&m(e,["thought"],v);const E=f(n,["thoughtSignature"]);E!=null&&m(e,["thoughtSignature"],E);const T=f(n,["videoMetadata"]);return T!=null&&m(e,["videoMetadata"],T),e}function b4(n){const e={},t=f(n,["handle"]);if(t!=null&&m(e,["handle"],t),f(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function N4(n){const e={};if(f(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=f(n,["computerUse"]);t!=null&&m(e,["computerUse"],t);const i=f(n,["fileSearch"]);i!=null&&m(e,["fileSearch"],i);const r=f(n,["codeExecution"]);if(r!=null&&m(e,["codeExecution"],r),f(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=f(n,["functionDeclarations"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(E=>E)),m(e,["functionDeclarations"],v)}const u=f(n,["googleMaps"]);u!=null&&m(e,["googleMaps"],y4(u));const d=f(n,["googleSearch"]);d!=null&&m(e,["googleSearch"],v4(d));const p=f(n,["googleSearchRetrieval"]);p!=null&&m(e,["googleSearchRetrieval"],p);const h=f(n,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}function M4(n){const e={},t=f(n,["retrieval"]);t!=null&&m(e,["retrieval"],t);const i=f(n,["computerUse"]);if(i!=null&&m(e,["computerUse"],i),f(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=f(n,["codeExecution"]);r!=null&&m(e,["codeExecution"],r);const a=f(n,["enterpriseWebSearch"]);a!=null&&m(e,["enterpriseWebSearch"],a);const u=f(n,["functionDeclarations"]);if(u!=null){let E=u;Array.isArray(E)&&(E=E.map(T=>m4(T))),m(e,["functionDeclarations"],E)}const d=f(n,["googleMaps"]);d!=null&&m(e,["googleMaps"],d);const p=f(n,["googleSearch"]);p!=null&&m(e,["googleSearch"],p);const h=f(n,["googleSearchRetrieval"]);h!=null&&m(e,["googleSearchRetrieval"],h);const v=f(n,["urlContext"]);return v!=null&&m(e,["urlContext"],v),e}function D4(n){const e={},t=f(n,["promptTokenCount"]);t!=null&&m(e,["promptTokenCount"],t);const i=f(n,["cachedContentTokenCount"]);i!=null&&m(e,["cachedContentTokenCount"],i);const r=f(n,["candidatesTokenCount"]);r!=null&&m(e,["responseTokenCount"],r);const a=f(n,["toolUsePromptTokenCount"]);a!=null&&m(e,["toolUsePromptTokenCount"],a);const u=f(n,["thoughtsTokenCount"]);u!=null&&m(e,["thoughtsTokenCount"],u);const d=f(n,["totalTokenCount"]);d!=null&&m(e,["totalTokenCount"],d);const p=f(n,["promptTokensDetails"]);if(p!=null){let I=p;Array.isArray(I)&&(I=I.map(D=>D)),m(e,["promptTokensDetails"],I)}const h=f(n,["cacheTokensDetails"]);if(h!=null){let I=h;Array.isArray(I)&&(I=I.map(D=>D)),m(e,["cacheTokensDetails"],I)}const v=f(n,["candidatesTokensDetails"]);if(v!=null){let I=v;Array.isArray(I)&&(I=I.map(D=>D)),m(e,["responseTokensDetails"],I)}const E=f(n,["toolUsePromptTokensDetails"]);if(E!=null){let I=E;Array.isArray(I)&&(I=I.map(D=>D)),m(e,["toolUsePromptTokensDetails"],I)}const T=f(n,["trafficType"]);return T!=null&&m(e,["trafficType"],T),e}function k4(n){const e={},t=f(n,["type"]);return t!=null&&m(e,["voiceActivityType"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function P4(n,e){const t={},i=f(n,["data"]);if(i!=null&&m(t,["data"],i),f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(n,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function V4(n,e){const t={},i=f(n,["content"]);i!=null&&m(t,["content"],i);const r=f(n,["citationMetadata"]);r!=null&&m(t,["citationMetadata"],U4(r));const a=f(n,["tokenCount"]);a!=null&&m(t,["tokenCount"],a);const u=f(n,["finishReason"]);u!=null&&m(t,["finishReason"],u);const d=f(n,["avgLogprobs"]);d!=null&&m(t,["avgLogprobs"],d);const p=f(n,["groundingMetadata"]);p!=null&&m(t,["groundingMetadata"],p);const h=f(n,["index"]);h!=null&&m(t,["index"],h);const v=f(n,["logprobsResult"]);v!=null&&m(t,["logprobsResult"],v);const E=f(n,["safetyRatings"]);if(E!=null){let I=E;Array.isArray(I)&&(I=I.map(D=>D)),m(t,["safetyRatings"],I)}const T=f(n,["urlContextMetadata"]);return T!=null&&m(t,["urlContextMetadata"],T),t}function U4(n,e){const t={},i=f(n,["citationSources"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),m(t,["citations"],r)}return t}function L4(n,e,t){const i={},r=f(e,["model"]);r!=null&&m(i,["_url","model"],Xe(n,r));const a=f(e,["contents"]);if(a!=null){let u=Xn(a);Array.isArray(u)&&(u=u.map(d=>d)),m(i,["contents"],u)}return i}function O4(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&m(t,["sdkHttpResponse"],i);const r=f(n,["tokensInfo"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),m(t,["tokensInfo"],a)}return t}function F4(n,e){const t={},i=f(n,["values"]);i!=null&&m(t,["values"],i);const r=f(n,["statistics"]);return r!=null&&m(t,["statistics"],G4(r)),t}function G4(n,e){const t={},i=f(n,["truncated"]);i!=null&&m(t,["truncated"],i);const r=f(n,["token_count"]);return r!=null&&m(t,["tokenCount"],r),t}function Bf(n,e){const t={},i=f(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>jO(u))),m(t,["parts"],a)}const r=f(n,["role"]);return r!=null&&m(t,["role"],r),t}function H4(n,e){const t={},i=f(n,["controlType"]);i!=null&&m(t,["controlType"],i);const r=f(n,["enableControlImageComputation"]);return r!=null&&m(t,["computeControl"],r),t}function B4(n,e){const t={};if(f(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function z4(n,e,t){const i={},r=f(n,["systemInstruction"]);e!==void 0&&r!=null&&m(e,["systemInstruction"],an(r));const a=f(n,["tools"]);if(e!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>hI(p))),m(e,["tools"],d)}const u=f(n,["generationConfig"]);return e!==void 0&&u!=null&&m(e,["generationConfig"],PO(u)),i}function q4(n,e,t){const i={},r=f(e,["model"]);r!=null&&m(i,["_url","model"],Xe(n,r));const a=f(e,["contents"]);if(a!=null){let d=Xn(a);Array.isArray(d)&&(d=d.map(p=>Bf(p))),m(i,["contents"],d)}const u=f(e,["config"]);return u!=null&&B4(u),i}function J4(n,e,t){const i={},r=f(e,["model"]);r!=null&&m(i,["_url","model"],Xe(n,r));const a=f(e,["contents"]);if(a!=null){let d=Xn(a);Array.isArray(d)&&(d=d.map(p=>p)),m(i,["contents"],d)}const u=f(e,["config"]);return u!=null&&z4(u,i),i}function K4(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&m(t,["sdkHttpResponse"],i);const r=f(n,["totalTokens"]);r!=null&&m(t,["totalTokens"],r);const a=f(n,["cachedContentTokenCount"]);return a!=null&&m(t,["cachedContentTokenCount"],a),t}function Y4(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&m(t,["sdkHttpResponse"],i);const r=f(n,["totalTokens"]);return r!=null&&m(t,["totalTokens"],r),t}function $4(n,e,t){const i={},r=f(e,["model"]);return r!=null&&m(i,["_url","name"],Xe(n,r)),i}function j4(n,e,t){const i={},r=f(e,["model"]);return r!=null&&m(i,["_url","name"],Xe(n,r)),i}function Q4(n,e){const t={},i=f(n,["sdkHttpResponse"]);return i!=null&&m(t,["sdkHttpResponse"],i),t}function X4(n,e){const t={},i=f(n,["sdkHttpResponse"]);return i!=null&&m(t,["sdkHttpResponse"],i),t}function W4(n,e,t){const i={},r=f(n,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const a=f(n,["negativePrompt"]);e!==void 0&&a!=null&&m(e,["parameters","negativePrompt"],a);const u=f(n,["numberOfImages"]);e!==void 0&&u!=null&&m(e,["parameters","sampleCount"],u);const d=f(n,["aspectRatio"]);e!==void 0&&d!=null&&m(e,["parameters","aspectRatio"],d);const p=f(n,["guidanceScale"]);e!==void 0&&p!=null&&m(e,["parameters","guidanceScale"],p);const h=f(n,["seed"]);e!==void 0&&h!=null&&m(e,["parameters","seed"],h);const v=f(n,["safetyFilterLevel"]);e!==void 0&&v!=null&&m(e,["parameters","safetySetting"],v);const E=f(n,["personGeneration"]);e!==void 0&&E!=null&&m(e,["parameters","personGeneration"],E);const T=f(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&m(e,["parameters","includeSafetyAttributes"],T);const I=f(n,["includeRaiReason"]);e!==void 0&&I!=null&&m(e,["parameters","includeRaiReason"],I);const D=f(n,["language"]);e!==void 0&&D!=null&&m(e,["parameters","language"],D);const L=f(n,["outputMimeType"]);e!==void 0&&L!=null&&m(e,["parameters","outputOptions","mimeType"],L);const k=f(n,["outputCompressionQuality"]);e!==void 0&&k!=null&&m(e,["parameters","outputOptions","compressionQuality"],k);const z=f(n,["addWatermark"]);e!==void 0&&z!=null&&m(e,["parameters","addWatermark"],z);const Z=f(n,["labels"]);e!==void 0&&Z!=null&&m(e,["labels"],Z);const j=f(n,["editMode"]);e!==void 0&&j!=null&&m(e,["parameters","editMode"],j);const oe=f(n,["baseSteps"]);return e!==void 0&&oe!=null&&m(e,["parameters","editConfig","baseSteps"],oe),i}function Z4(n,e,t){const i={},r=f(e,["model"]);r!=null&&m(i,["_url","model"],Xe(n,r));const a=f(e,["prompt"]);a!=null&&m(i,["instances[0]","prompt"],a);const u=f(e,["referenceImages"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(h=>t6(h))),m(i,["instances[0]","referenceImages"],p)}const d=f(e,["config"]);return d!=null&&W4(d,i),i}function eO(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&m(t,["sdkHttpResponse"],i);const r=f(n,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>zf(u))),m(t,["generatedImages"],a)}return t}function tO(n,e,t){const i={},r=f(n,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const a=f(n,["title"]);e!==void 0&&a!=null&&m(e,["requests[]","title"],a);const u=f(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&m(e,["requests[]","outputDimensionality"],u),f(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function nO(n,e,t){const i={},r=f(n,["taskType"]);e!==void 0&&r!=null&&m(e,["instances[]","task_type"],r);const a=f(n,["title"]);e!==void 0&&a!=null&&m(e,["instances[]","title"],a);const u=f(n,["outputDimensionality"]);e!==void 0&&u!=null&&m(e,["parameters","outputDimensionality"],u);const d=f(n,["mimeType"]);e!==void 0&&d!=null&&m(e,["instances[]","mimeType"],d);const p=f(n,["autoTruncate"]);return e!==void 0&&p!=null&&m(e,["parameters","autoTruncate"],p),i}function iO(n,e,t){const i={},r=f(e,["model"]);r!=null&&m(i,["_url","model"],Xe(n,r));const a=f(e,["contents"]);if(a!=null){let p=ay(n,a);Array.isArray(p)&&(p=p.map(h=>h)),m(i,["requests[]","content"],p)}const u=f(e,["config"]);u!=null&&tO(u,i);const d=f(e,["model"]);return d!==void 0&&m(i,["requests[]","model"],Xe(n,d)),i}function sO(n,e,t){const i={},r=f(e,["model"]);r!=null&&m(i,["_url","model"],Xe(n,r));const a=f(e,["contents"]);if(a!=null){let d=ay(n,a);Array.isArray(d)&&(d=d.map(p=>p)),m(i,["instances[]","content"],d)}const u=f(e,["config"]);return u!=null&&nO(u,i),i}function rO(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&m(t,["sdkHttpResponse"],i);const r=f(n,["embeddings"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),m(t,["embeddings"],u)}const a=f(n,["metadata"]);return a!=null&&m(t,["metadata"],a),t}function oO(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&m(t,["sdkHttpResponse"],i);const r=f(n,["predictions[]","embeddings"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>F4(d))),m(t,["embeddings"],u)}const a=f(n,["metadata"]);return a!=null&&m(t,["metadata"],a),t}function aO(n,e){const t={},i=f(n,["endpoint"]);i!=null&&m(t,["name"],i);const r=f(n,["deployedModelId"]);return r!=null&&m(t,["deployedModelId"],r),t}function lO(n,e){const t={};if(f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(n,["fileUri"]);i!=null&&m(t,["fileUri"],i);const r=f(n,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function uO(n,e){const t={},i=f(n,["id"]);i!=null&&m(t,["id"],i);const r=f(n,["args"]);r!=null&&m(t,["args"],r);const a=f(n,["name"]);if(a!=null&&m(t,["name"],a),f(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function cO(n,e){const t={},i=f(n,["allowedFunctionNames"]);i!=null&&m(t,["allowedFunctionNames"],i);const r=f(n,["mode"]);if(r!=null&&m(t,["mode"],r),f(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function dO(n,e){const t={},i=f(n,["description"]);i!=null&&m(t,["description"],i);const r=f(n,["name"]);r!=null&&m(t,["name"],r);const a=f(n,["parameters"]);a!=null&&m(t,["parameters"],a);const u=f(n,["parametersJsonSchema"]);u!=null&&m(t,["parametersJsonSchema"],u);const d=f(n,["response"]);d!=null&&m(t,["response"],d);const p=f(n,["responseJsonSchema"]);if(p!=null&&m(t,["responseJsonSchema"],p),f(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function fO(n,e,t,i){const r={},a=f(e,["systemInstruction"]);t!==void 0&&a!=null&&m(t,["systemInstruction"],Bf(an(a)));const u=f(e,["temperature"]);u!=null&&m(r,["temperature"],u);const d=f(e,["topP"]);d!=null&&m(r,["topP"],d);const p=f(e,["topK"]);p!=null&&m(r,["topK"],p);const h=f(e,["candidateCount"]);h!=null&&m(r,["candidateCount"],h);const v=f(e,["maxOutputTokens"]);v!=null&&m(r,["maxOutputTokens"],v);const E=f(e,["stopSequences"]);E!=null&&m(r,["stopSequences"],E);const T=f(e,["responseLogprobs"]);T!=null&&m(r,["responseLogprobs"],T);const I=f(e,["logprobs"]);I!=null&&m(r,["logprobs"],I);const D=f(e,["presencePenalty"]);D!=null&&m(r,["presencePenalty"],D);const L=f(e,["frequencyPenalty"]);L!=null&&m(r,["frequencyPenalty"],L);const k=f(e,["seed"]);k!=null&&m(r,["seed"],k);const z=f(e,["responseMimeType"]);z!=null&&m(r,["responseMimeType"],z);const Z=f(e,["responseSchema"]);Z!=null&&m(r,["responseSchema"],ly(Z));const j=f(e,["responseJsonSchema"]);if(j!=null&&m(r,["responseJsonSchema"],j),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const oe=f(e,["safetySettings"]);if(t!==void 0&&oe!=null){let he=oe;Array.isArray(he)&&(he=he.map(Ce=>n6(Ce))),m(t,["safetySettings"],he)}const Q=f(e,["tools"]);if(t!==void 0&&Q!=null){let he=Ya(Q);Array.isArray(he)&&(he=he.map(Ce=>u6(Ka(Ce)))),m(t,["tools"],he)}const fe=f(e,["toolConfig"]);if(t!==void 0&&fe!=null&&m(t,["toolConfig"],l6(fe)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=f(e,["cachedContent"]);t!==void 0&&M!=null&&m(t,["cachedContent"],Cs(n,M));const b=f(e,["responseModalities"]);b!=null&&m(r,["responseModalities"],b);const N=f(e,["mediaResolution"]);N!=null&&m(r,["mediaResolution"],N);const V=f(e,["speechConfig"]);if(V!=null&&m(r,["speechConfig"],uy(V)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=f(e,["thinkingConfig"]);U!=null&&m(r,["thinkingConfig"],U);const H=f(e,["imageConfig"]);H!=null&&m(r,["imageConfig"],FO(H));const P=f(e,["enableEnhancedCivicAnswers"]);if(P!=null&&m(r,["enableEnhancedCivicAnswers"],P),f(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function hO(n,e,t,i){const r={},a=f(e,["systemInstruction"]);t!==void 0&&a!=null&&m(t,["systemInstruction"],an(a));const u=f(e,["temperature"]);u!=null&&m(r,["temperature"],u);const d=f(e,["topP"]);d!=null&&m(r,["topP"],d);const p=f(e,["topK"]);p!=null&&m(r,["topK"],p);const h=f(e,["candidateCount"]);h!=null&&m(r,["candidateCount"],h);const v=f(e,["maxOutputTokens"]);v!=null&&m(r,["maxOutputTokens"],v);const E=f(e,["stopSequences"]);E!=null&&m(r,["stopSequences"],E);const T=f(e,["responseLogprobs"]);T!=null&&m(r,["responseLogprobs"],T);const I=f(e,["logprobs"]);I!=null&&m(r,["logprobs"],I);const D=f(e,["presencePenalty"]);D!=null&&m(r,["presencePenalty"],D);const L=f(e,["frequencyPenalty"]);L!=null&&m(r,["frequencyPenalty"],L);const k=f(e,["seed"]);k!=null&&m(r,["seed"],k);const z=f(e,["responseMimeType"]);z!=null&&m(r,["responseMimeType"],z);const Z=f(e,["responseSchema"]);Z!=null&&m(r,["responseSchema"],ly(Z));const j=f(e,["responseJsonSchema"]);j!=null&&m(r,["responseJsonSchema"],j);const oe=f(e,["routingConfig"]);oe!=null&&m(r,["routingConfig"],oe);const Q=f(e,["modelSelectionConfig"]);Q!=null&&m(r,["modelConfig"],Q);const fe=f(e,["safetySettings"]);if(t!==void 0&&fe!=null){let pe=fe;Array.isArray(pe)&&(pe=pe.map(be=>be)),m(t,["safetySettings"],pe)}const M=f(e,["tools"]);if(t!==void 0&&M!=null){let pe=Ya(M);Array.isArray(pe)&&(pe=pe.map(be=>hI(Ka(be)))),m(t,["tools"],pe)}const b=f(e,["toolConfig"]);t!==void 0&&b!=null&&m(t,["toolConfig"],b);const N=f(e,["labels"]);t!==void 0&&N!=null&&m(t,["labels"],N);const V=f(e,["cachedContent"]);t!==void 0&&V!=null&&m(t,["cachedContent"],Cs(n,V));const U=f(e,["responseModalities"]);U!=null&&m(r,["responseModalities"],U);const H=f(e,["mediaResolution"]);H!=null&&m(r,["mediaResolution"],H);const P=f(e,["speechConfig"]);P!=null&&m(r,["speechConfig"],uy(P));const he=f(e,["audioTimestamp"]);he!=null&&m(r,["audioTimestamp"],he);const Ce=f(e,["thinkingConfig"]);Ce!=null&&m(r,["thinkingConfig"],Ce);const K=f(e,["imageConfig"]);if(K!=null&&m(r,["imageConfig"],GO(K)),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const ae=f(e,["modelArmorConfig"]);return t!==void 0&&ae!=null&&m(t,["modelArmorConfig"],ae),r}function qS(n,e,t){const i={},r=f(e,["model"]);r!=null&&m(i,["_url","model"],Xe(n,r));const a=f(e,["contents"]);if(a!=null){let d=Xn(a);Array.isArray(d)&&(d=d.map(p=>Bf(p))),m(i,["contents"],d)}const u=f(e,["config"]);return u!=null&&m(i,["generationConfig"],fO(n,u,i)),i}function JS(n,e,t){const i={},r=f(e,["model"]);r!=null&&m(i,["_url","model"],Xe(n,r));const a=f(e,["contents"]);if(a!=null){let d=Xn(a);Array.isArray(d)&&(d=d.map(p=>p)),m(i,["contents"],d)}const u=f(e,["config"]);return u!=null&&m(i,["generationConfig"],hO(n,u,i)),i}function KS(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&m(t,["sdkHttpResponse"],i);const r=f(n,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(v=>V4(v))),m(t,["candidates"],h)}const a=f(n,["modelVersion"]);a!=null&&m(t,["modelVersion"],a);const u=f(n,["promptFeedback"]);u!=null&&m(t,["promptFeedback"],u);const d=f(n,["responseId"]);d!=null&&m(t,["responseId"],d);const p=f(n,["usageMetadata"]);return p!=null&&m(t,["usageMetadata"],p),t}function YS(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&m(t,["sdkHttpResponse"],i);const r=f(n,["candidates"]);if(r!=null){let v=r;Array.isArray(v)&&(v=v.map(E=>E)),m(t,["candidates"],v)}const a=f(n,["createTime"]);a!=null&&m(t,["createTime"],a);const u=f(n,["modelVersion"]);u!=null&&m(t,["modelVersion"],u);const d=f(n,["promptFeedback"]);d!=null&&m(t,["promptFeedback"],d);const p=f(n,["responseId"]);p!=null&&m(t,["responseId"],p);const h=f(n,["usageMetadata"]);return h!=null&&m(t,["usageMetadata"],h),t}function pO(n,e,t){const i={};if(f(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=f(n,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const a=f(n,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const u=f(n,["guidanceScale"]);if(e!==void 0&&u!=null&&m(e,["parameters","guidanceScale"],u),f(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=f(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&m(e,["parameters","safetySetting"],d);const p=f(n,["personGeneration"]);e!==void 0&&p!=null&&m(e,["parameters","personGeneration"],p);const h=f(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&m(e,["parameters","includeSafetyAttributes"],h);const v=f(n,["includeRaiReason"]);e!==void 0&&v!=null&&m(e,["parameters","includeRaiReason"],v);const E=f(n,["language"]);e!==void 0&&E!=null&&m(e,["parameters","language"],E);const T=f(n,["outputMimeType"]);e!==void 0&&T!=null&&m(e,["parameters","outputOptions","mimeType"],T);const I=f(n,["outputCompressionQuality"]);if(e!==void 0&&I!=null&&m(e,["parameters","outputOptions","compressionQuality"],I),f(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=f(n,["imageSize"]);if(e!==void 0&&D!=null&&m(e,["parameters","sampleImageSize"],D),f(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function mO(n,e,t){const i={},r=f(n,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const a=f(n,["negativePrompt"]);e!==void 0&&a!=null&&m(e,["parameters","negativePrompt"],a);const u=f(n,["numberOfImages"]);e!==void 0&&u!=null&&m(e,["parameters","sampleCount"],u);const d=f(n,["aspectRatio"]);e!==void 0&&d!=null&&m(e,["parameters","aspectRatio"],d);const p=f(n,["guidanceScale"]);e!==void 0&&p!=null&&m(e,["parameters","guidanceScale"],p);const h=f(n,["seed"]);e!==void 0&&h!=null&&m(e,["parameters","seed"],h);const v=f(n,["safetyFilterLevel"]);e!==void 0&&v!=null&&m(e,["parameters","safetySetting"],v);const E=f(n,["personGeneration"]);e!==void 0&&E!=null&&m(e,["parameters","personGeneration"],E);const T=f(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&m(e,["parameters","includeSafetyAttributes"],T);const I=f(n,["includeRaiReason"]);e!==void 0&&I!=null&&m(e,["parameters","includeRaiReason"],I);const D=f(n,["language"]);e!==void 0&&D!=null&&m(e,["parameters","language"],D);const L=f(n,["outputMimeType"]);e!==void 0&&L!=null&&m(e,["parameters","outputOptions","mimeType"],L);const k=f(n,["outputCompressionQuality"]);e!==void 0&&k!=null&&m(e,["parameters","outputOptions","compressionQuality"],k);const z=f(n,["addWatermark"]);e!==void 0&&z!=null&&m(e,["parameters","addWatermark"],z);const Z=f(n,["labels"]);e!==void 0&&Z!=null&&m(e,["labels"],Z);const j=f(n,["imageSize"]);e!==void 0&&j!=null&&m(e,["parameters","sampleImageSize"],j);const oe=f(n,["enhancePrompt"]);return e!==void 0&&oe!=null&&m(e,["parameters","enhancePrompt"],oe),i}function gO(n,e,t){const i={},r=f(e,["model"]);r!=null&&m(i,["_url","model"],Xe(n,r));const a=f(e,["prompt"]);a!=null&&m(i,["instances[0]","prompt"],a);const u=f(e,["config"]);return u!=null&&pO(u,i),i}function yO(n,e,t){const i={},r=f(e,["model"]);r!=null&&m(i,["_url","model"],Xe(n,r));const a=f(e,["prompt"]);a!=null&&m(i,["instances[0]","prompt"],a);const u=f(e,["config"]);return u!=null&&mO(u,i),i}function vO(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&m(t,["sdkHttpResponse"],i);const r=f(n,["predictions"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>NO(d))),m(t,["generatedImages"],u)}const a=f(n,["positivePromptSafetyAttributes"]);return a!=null&&m(t,["positivePromptSafetyAttributes"],dI(a)),t}function _O(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&m(t,["sdkHttpResponse"],i);const r=f(n,["predictions"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>zf(d))),m(t,["generatedImages"],u)}const a=f(n,["positivePromptSafetyAttributes"]);return a!=null&&m(t,["positivePromptSafetyAttributes"],fI(a)),t}function EO(n,e,t){const i={},r=f(n,["numberOfVideos"]);if(e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r),f(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=f(n,["durationSeconds"]);if(e!==void 0&&a!=null&&m(e,["parameters","durationSeconds"],a),f(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=f(n,["aspectRatio"]);e!==void 0&&u!=null&&m(e,["parameters","aspectRatio"],u);const d=f(n,["resolution"]);e!==void 0&&d!=null&&m(e,["parameters","resolution"],d);const p=f(n,["personGeneration"]);if(e!==void 0&&p!=null&&m(e,["parameters","personGeneration"],p),f(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=f(n,["negativePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","negativePrompt"],h);const v=f(n,["enhancePrompt"]);if(e!==void 0&&v!=null&&m(e,["parameters","enhancePrompt"],v),f(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const E=f(n,["lastFrame"]);e!==void 0&&E!=null&&m(e,["instances[0]","lastFrame"],qf(E));const T=f(n,["referenceImages"]);if(e!==void 0&&T!=null){let I=T;Array.isArray(I)&&(I=I.map(D=>S6(D))),m(e,["instances[0]","referenceImages"],I)}if(f(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function TO(n,e,t){const i={},r=f(n,["numberOfVideos"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const a=f(n,["outputGcsUri"]);e!==void 0&&a!=null&&m(e,["parameters","storageUri"],a);const u=f(n,["fps"]);e!==void 0&&u!=null&&m(e,["parameters","fps"],u);const d=f(n,["durationSeconds"]);e!==void 0&&d!=null&&m(e,["parameters","durationSeconds"],d);const p=f(n,["seed"]);e!==void 0&&p!=null&&m(e,["parameters","seed"],p);const h=f(n,["aspectRatio"]);e!==void 0&&h!=null&&m(e,["parameters","aspectRatio"],h);const v=f(n,["resolution"]);e!==void 0&&v!=null&&m(e,["parameters","resolution"],v);const E=f(n,["personGeneration"]);e!==void 0&&E!=null&&m(e,["parameters","personGeneration"],E);const T=f(n,["pubsubTopic"]);e!==void 0&&T!=null&&m(e,["parameters","pubsubTopic"],T);const I=f(n,["negativePrompt"]);e!==void 0&&I!=null&&m(e,["parameters","negativePrompt"],I);const D=f(n,["enhancePrompt"]);e!==void 0&&D!=null&&m(e,["parameters","enhancePrompt"],D);const L=f(n,["generateAudio"]);e!==void 0&&L!=null&&m(e,["parameters","generateAudio"],L);const k=f(n,["lastFrame"]);e!==void 0&&k!=null&&m(e,["instances[0]","lastFrame"],gi(k));const z=f(n,["referenceImages"]);if(e!==void 0&&z!=null){let oe=z;Array.isArray(oe)&&(oe=oe.map(Q=>A6(Q))),m(e,["instances[0]","referenceImages"],oe)}const Z=f(n,["mask"]);e!==void 0&&Z!=null&&m(e,["instances[0]","mask"],T6(Z));const j=f(n,["compressionQuality"]);return e!==void 0&&j!=null&&m(e,["parameters","compressionQuality"],j),i}function SO(n,e){const t={},i=f(n,["name"]);i!=null&&m(t,["name"],i);const r=f(n,["metadata"]);r!=null&&m(t,["metadata"],r);const a=f(n,["done"]);a!=null&&m(t,["done"],a);const u=f(n,["error"]);u!=null&&m(t,["error"],u);const d=f(n,["response","generateVideoResponse"]);return d!=null&&m(t,["response"],IO(d)),t}function AO(n,e){const t={},i=f(n,["name"]);i!=null&&m(t,["name"],i);const r=f(n,["metadata"]);r!=null&&m(t,["metadata"],r);const a=f(n,["done"]);a!=null&&m(t,["done"],a);const u=f(n,["error"]);u!=null&&m(t,["error"],u);const d=f(n,["response"]);return d!=null&&m(t,["response"],xO(d)),t}function CO(n,e,t){const i={},r=f(e,["model"]);r!=null&&m(i,["_url","model"],Xe(n,r));const a=f(e,["prompt"]);a!=null&&m(i,["instances[0]","prompt"],a);const u=f(e,["image"]);u!=null&&m(i,["instances[0]","image"],qf(u));const d=f(e,["video"]);d!=null&&m(i,["instances[0]","video"],pI(d));const p=f(e,["source"]);p!=null&&RO(p,i);const h=f(e,["config"]);return h!=null&&EO(h,i),i}function wO(n,e,t){const i={},r=f(e,["model"]);r!=null&&m(i,["_url","model"],Xe(n,r));const a=f(e,["prompt"]);a!=null&&m(i,["instances[0]","prompt"],a);const u=f(e,["image"]);u!=null&&m(i,["instances[0]","image"],gi(u));const d=f(e,["video"]);d!=null&&m(i,["instances[0]","video"],mI(d));const p=f(e,["source"]);p!=null&&bO(p,i);const h=f(e,["config"]);return h!=null&&TO(h,i),i}function IO(n,e){const t={},i=f(n,["generatedSamples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>DO(d))),m(t,["generatedVideos"],u)}const r=f(n,["raiMediaFilteredCount"]);r!=null&&m(t,["raiMediaFilteredCount"],r);const a=f(n,["raiMediaFilteredReasons"]);return a!=null&&m(t,["raiMediaFilteredReasons"],a),t}function xO(n,e){const t={},i=f(n,["videos"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>kO(d))),m(t,["generatedVideos"],u)}const r=f(n,["raiMediaFilteredCount"]);r!=null&&m(t,["raiMediaFilteredCount"],r);const a=f(n,["raiMediaFilteredReasons"]);return a!=null&&m(t,["raiMediaFilteredReasons"],a),t}function RO(n,e,t){const i={},r=f(n,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const a=f(n,["image"]);e!==void 0&&a!=null&&m(e,["instances[0]","image"],qf(a));const u=f(n,["video"]);return e!==void 0&&u!=null&&m(e,["instances[0]","video"],pI(u)),i}function bO(n,e,t){const i={},r=f(n,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const a=f(n,["image"]);e!==void 0&&a!=null&&m(e,["instances[0]","image"],gi(a));const u=f(n,["video"]);return e!==void 0&&u!=null&&m(e,["instances[0]","video"],mI(u)),i}function NO(n,e){const t={},i=f(n,["_self"]);i!=null&&m(t,["image"],HO(i));const r=f(n,["raiFilteredReason"]);r!=null&&m(t,["raiFilteredReason"],r);const a=f(n,["_self"]);return a!=null&&m(t,["safetyAttributes"],dI(a)),t}function zf(n,e){const t={},i=f(n,["_self"]);i!=null&&m(t,["image"],cI(i));const r=f(n,["raiFilteredReason"]);r!=null&&m(t,["raiFilteredReason"],r);const a=f(n,["_self"]);a!=null&&m(t,["safetyAttributes"],fI(a));const u=f(n,["prompt"]);return u!=null&&m(t,["enhancedPrompt"],u),t}function MO(n,e){const t={},i=f(n,["_self"]);i!=null&&m(t,["mask"],cI(i));const r=f(n,["labels"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),m(t,["labels"],a)}return t}function DO(n,e){const t={},i=f(n,["video"]);return i!=null&&m(t,["video"],_6(i)),t}function kO(n,e){const t={},i=f(n,["_self"]);return i!=null&&m(t,["video"],E6(i)),t}function PO(n,e){const t={},i=f(n,["modelSelectionConfig"]);i!=null&&m(t,["modelConfig"],i);const r=f(n,["responseJsonSchema"]);r!=null&&m(t,["responseJsonSchema"],r);const a=f(n,["audioTimestamp"]);a!=null&&m(t,["audioTimestamp"],a);const u=f(n,["candidateCount"]);u!=null&&m(t,["candidateCount"],u);const d=f(n,["enableAffectiveDialog"]);d!=null&&m(t,["enableAffectiveDialog"],d);const p=f(n,["frequencyPenalty"]);p!=null&&m(t,["frequencyPenalty"],p);const h=f(n,["logprobs"]);h!=null&&m(t,["logprobs"],h);const v=f(n,["maxOutputTokens"]);v!=null&&m(t,["maxOutputTokens"],v);const E=f(n,["mediaResolution"]);E!=null&&m(t,["mediaResolution"],E);const T=f(n,["presencePenalty"]);T!=null&&m(t,["presencePenalty"],T);const I=f(n,["responseLogprobs"]);I!=null&&m(t,["responseLogprobs"],I);const D=f(n,["responseMimeType"]);D!=null&&m(t,["responseMimeType"],D);const L=f(n,["responseModalities"]);L!=null&&m(t,["responseModalities"],L);const k=f(n,["responseSchema"]);k!=null&&m(t,["responseSchema"],k);const z=f(n,["routingConfig"]);z!=null&&m(t,["routingConfig"],z);const Z=f(n,["seed"]);Z!=null&&m(t,["seed"],Z);const j=f(n,["speechConfig"]);j!=null&&m(t,["speechConfig"],j);const oe=f(n,["stopSequences"]);oe!=null&&m(t,["stopSequences"],oe);const Q=f(n,["temperature"]);Q!=null&&m(t,["temperature"],Q);const fe=f(n,["thinkingConfig"]);fe!=null&&m(t,["thinkingConfig"],fe);const M=f(n,["topK"]);M!=null&&m(t,["topK"],M);const b=f(n,["topP"]);if(b!=null&&m(t,["topP"],b),f(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function VO(n,e,t){const i={},r=f(e,["model"]);return r!=null&&m(i,["_url","name"],Xe(n,r)),i}function UO(n,e,t){const i={},r=f(e,["model"]);return r!=null&&m(i,["_url","name"],Xe(n,r)),i}function LO(n,e){const t={};if(f(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(n,["enableWidget"]);return i!=null&&m(t,["enableWidget"],i),t}function OO(n,e){const t={};if(f(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(n,["timeRangeFilter"]);return i!=null&&m(t,["timeRangeFilter"],i),t}function FO(n,e){const t={},i=f(n,["aspectRatio"]);i!=null&&m(t,["aspectRatio"],i);const r=f(n,["imageSize"]);if(r!=null&&m(t,["imageSize"],r),f(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function GO(n,e){const t={},i=f(n,["aspectRatio"]);i!=null&&m(t,["aspectRatio"],i);const r=f(n,["imageSize"]);r!=null&&m(t,["imageSize"],r);const a=f(n,["personGeneration"]);a!=null&&m(t,["personGeneration"],a);const u=f(n,["outputMimeType"]);u!=null&&m(t,["imageOutputOptions","mimeType"],u);const d=f(n,["outputCompressionQuality"]);return d!=null&&m(t,["imageOutputOptions","compressionQuality"],d),t}function HO(n,e){const t={},i=f(n,["bytesBase64Encoded"]);i!=null&&m(t,["imageBytes"],Dr(i));const r=f(n,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function cI(n,e){const t={},i=f(n,["gcsUri"]);i!=null&&m(t,["gcsUri"],i);const r=f(n,["bytesBase64Encoded"]);r!=null&&m(t,["imageBytes"],Dr(r));const a=f(n,["mimeType"]);return a!=null&&m(t,["mimeType"],a),t}function qf(n,e){const t={};if(f(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=f(n,["imageBytes"]);i!=null&&m(t,["bytesBase64Encoded"],Dr(i));const r=f(n,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function gi(n,e){const t={},i=f(n,["gcsUri"]);i!=null&&m(t,["gcsUri"],i);const r=f(n,["imageBytes"]);r!=null&&m(t,["bytesBase64Encoded"],Dr(r));const a=f(n,["mimeType"]);return a!=null&&m(t,["mimeType"],a),t}function BO(n,e,t,i){const r={},a=f(e,["pageSize"]);t!==void 0&&a!=null&&m(t,["_query","pageSize"],a);const u=f(e,["pageToken"]);t!==void 0&&u!=null&&m(t,["_query","pageToken"],u);const d=f(e,["filter"]);t!==void 0&&d!=null&&m(t,["_query","filter"],d);const p=f(e,["queryBase"]);return t!==void 0&&p!=null&&m(t,["_url","models_url"],iI(n,p)),r}function zO(n,e,t,i){const r={},a=f(e,["pageSize"]);t!==void 0&&a!=null&&m(t,["_query","pageSize"],a);const u=f(e,["pageToken"]);t!==void 0&&u!=null&&m(t,["_query","pageToken"],u);const d=f(e,["filter"]);t!==void 0&&d!=null&&m(t,["_query","filter"],d);const p=f(e,["queryBase"]);return t!==void 0&&p!=null&&m(t,["_url","models_url"],iI(n,p)),r}function qO(n,e,t){const i={},r=f(e,["config"]);return r!=null&&BO(n,r,i),i}function JO(n,e,t){const i={},r=f(e,["config"]);return r!=null&&zO(n,r,i),i}function KO(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&m(t,["sdkHttpResponse"],i);const r=f(n,["nextPageToken"]);r!=null&&m(t,["nextPageToken"],r);const a=f(n,["_self"]);if(a!=null){let u=sI(a);Array.isArray(u)&&(u=u.map(d=>Wm(d))),m(t,["models"],u)}return t}function YO(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&m(t,["sdkHttpResponse"],i);const r=f(n,["nextPageToken"]);r!=null&&m(t,["nextPageToken"],r);const a=f(n,["_self"]);if(a!=null){let u=sI(a);Array.isArray(u)&&(u=u.map(d=>Zm(d))),m(t,["models"],u)}return t}function $O(n,e){const t={},i=f(n,["maskMode"]);i!=null&&m(t,["maskMode"],i);const r=f(n,["segmentationClasses"]);r!=null&&m(t,["maskClasses"],r);const a=f(n,["maskDilation"]);return a!=null&&m(t,["dilation"],a),t}function Wm(n,e){const t={},i=f(n,["name"]);i!=null&&m(t,["name"],i);const r=f(n,["displayName"]);r!=null&&m(t,["displayName"],r);const a=f(n,["description"]);a!=null&&m(t,["description"],a);const u=f(n,["version"]);u!=null&&m(t,["version"],u);const d=f(n,["_self"]);d!=null&&m(t,["tunedModelInfo"],c6(d));const p=f(n,["inputTokenLimit"]);p!=null&&m(t,["inputTokenLimit"],p);const h=f(n,["outputTokenLimit"]);h!=null&&m(t,["outputTokenLimit"],h);const v=f(n,["supportedGenerationMethods"]);v!=null&&m(t,["supportedActions"],v);const E=f(n,["temperature"]);E!=null&&m(t,["temperature"],E);const T=f(n,["maxTemperature"]);T!=null&&m(t,["maxTemperature"],T);const I=f(n,["topP"]);I!=null&&m(t,["topP"],I);const D=f(n,["topK"]);D!=null&&m(t,["topK"],D);const L=f(n,["thinking"]);return L!=null&&m(t,["thinking"],L),t}function Zm(n,e){const t={},i=f(n,["name"]);i!=null&&m(t,["name"],i);const r=f(n,["displayName"]);r!=null&&m(t,["displayName"],r);const a=f(n,["description"]);a!=null&&m(t,["description"],a);const u=f(n,["versionId"]);u!=null&&m(t,["version"],u);const d=f(n,["deployedModels"]);if(d!=null){let T=d;Array.isArray(T)&&(T=T.map(I=>aO(I))),m(t,["endpoints"],T)}const p=f(n,["labels"]);p!=null&&m(t,["labels"],p);const h=f(n,["_self"]);h!=null&&m(t,["tunedModelInfo"],d6(h));const v=f(n,["defaultCheckpointId"]);v!=null&&m(t,["defaultCheckpointId"],v);const E=f(n,["checkpoints"]);if(E!=null){let T=E;Array.isArray(T)&&(T=T.map(I=>I)),m(t,["checkpoints"],T)}return t}function jO(n,e){const t={},i=f(n,["mediaResolution"]);i!=null&&m(t,["mediaResolution"],i);const r=f(n,["codeExecutionResult"]);r!=null&&m(t,["codeExecutionResult"],r);const a=f(n,["executableCode"]);a!=null&&m(t,["executableCode"],a);const u=f(n,["fileData"]);u!=null&&m(t,["fileData"],lO(u));const d=f(n,["functionCall"]);d!=null&&m(t,["functionCall"],uO(d));const p=f(n,["functionResponse"]);p!=null&&m(t,["functionResponse"],p);const h=f(n,["inlineData"]);h!=null&&m(t,["inlineData"],P4(h));const v=f(n,["text"]);v!=null&&m(t,["text"],v);const E=f(n,["thought"]);E!=null&&m(t,["thought"],E);const T=f(n,["thoughtSignature"]);T!=null&&m(t,["thoughtSignature"],T);const I=f(n,["videoMetadata"]);return I!=null&&m(t,["videoMetadata"],I),t}function QO(n,e){const t={},i=f(n,["productImage"]);return i!=null&&m(t,["image"],gi(i)),t}function XO(n,e,t){const i={},r=f(n,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const a=f(n,["baseSteps"]);e!==void 0&&a!=null&&m(e,["parameters","baseSteps"],a);const u=f(n,["outputGcsUri"]);e!==void 0&&u!=null&&m(e,["parameters","storageUri"],u);const d=f(n,["seed"]);e!==void 0&&d!=null&&m(e,["parameters","seed"],d);const p=f(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&m(e,["parameters","safetySetting"],p);const h=f(n,["personGeneration"]);e!==void 0&&h!=null&&m(e,["parameters","personGeneration"],h);const v=f(n,["addWatermark"]);e!==void 0&&v!=null&&m(e,["parameters","addWatermark"],v);const E=f(n,["outputMimeType"]);e!==void 0&&E!=null&&m(e,["parameters","outputOptions","mimeType"],E);const T=f(n,["outputCompressionQuality"]);e!==void 0&&T!=null&&m(e,["parameters","outputOptions","compressionQuality"],T);const I=f(n,["enhancePrompt"]);e!==void 0&&I!=null&&m(e,["parameters","enhancePrompt"],I);const D=f(n,["labels"]);return e!==void 0&&D!=null&&m(e,["labels"],D),i}function WO(n,e,t){const i={},r=f(e,["model"]);r!=null&&m(i,["_url","model"],Xe(n,r));const a=f(e,["source"]);a!=null&&e6(a,i);const u=f(e,["config"]);return u!=null&&XO(u,i),i}function ZO(n,e){const t={},i=f(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>zf(a))),m(t,["generatedImages"],r)}return t}function e6(n,e,t){const i={},r=f(n,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const a=f(n,["personImage"]);e!==void 0&&a!=null&&m(e,["instances[0]","personImage","image"],gi(a));const u=f(n,["productImages"]);if(e!==void 0&&u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>QO(p))),m(e,["instances[0]","productImages"],d)}return i}function t6(n,e){const t={},i=f(n,["referenceImage"]);i!=null&&m(t,["referenceImage"],gi(i));const r=f(n,["referenceId"]);r!=null&&m(t,["referenceId"],r);const a=f(n,["referenceType"]);a!=null&&m(t,["referenceType"],a);const u=f(n,["maskImageConfig"]);u!=null&&m(t,["maskImageConfig"],$O(u));const d=f(n,["controlImageConfig"]);d!=null&&m(t,["controlImageConfig"],H4(d));const p=f(n,["styleImageConfig"]);p!=null&&m(t,["styleImageConfig"],p);const h=f(n,["subjectImageConfig"]);return h!=null&&m(t,["subjectImageConfig"],h),t}function dI(n,e){const t={},i=f(n,["safetyAttributes","categories"]);i!=null&&m(t,["categories"],i);const r=f(n,["safetyAttributes","scores"]);r!=null&&m(t,["scores"],r);const a=f(n,["contentType"]);return a!=null&&m(t,["contentType"],a),t}function fI(n,e){const t={},i=f(n,["safetyAttributes","categories"]);i!=null&&m(t,["categories"],i);const r=f(n,["safetyAttributes","scores"]);r!=null&&m(t,["scores"],r);const a=f(n,["contentType"]);return a!=null&&m(t,["contentType"],a),t}function n6(n,e){const t={},i=f(n,["category"]);if(i!=null&&m(t,["category"],i),f(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(n,["threshold"]);return r!=null&&m(t,["threshold"],r),t}function i6(n,e){const t={},i=f(n,["image"]);return i!=null&&m(t,["image"],gi(i)),t}function s6(n,e,t){const i={},r=f(n,["mode"]);e!==void 0&&r!=null&&m(e,["parameters","mode"],r);const a=f(n,["maxPredictions"]);e!==void 0&&a!=null&&m(e,["parameters","maxPredictions"],a);const u=f(n,["confidenceThreshold"]);e!==void 0&&u!=null&&m(e,["parameters","confidenceThreshold"],u);const d=f(n,["maskDilation"]);e!==void 0&&d!=null&&m(e,["parameters","maskDilation"],d);const p=f(n,["binaryColorThreshold"]);e!==void 0&&p!=null&&m(e,["parameters","binaryColorThreshold"],p);const h=f(n,["labels"]);return e!==void 0&&h!=null&&m(e,["labels"],h),i}function r6(n,e,t){const i={},r=f(e,["model"]);r!=null&&m(i,["_url","model"],Xe(n,r));const a=f(e,["source"]);a!=null&&a6(a,i);const u=f(e,["config"]);return u!=null&&s6(u,i),i}function o6(n,e){const t={},i=f(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>MO(a))),m(t,["generatedMasks"],r)}return t}function a6(n,e,t){const i={},r=f(n,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const a=f(n,["image"]);e!==void 0&&a!=null&&m(e,["instances[0]","image"],gi(a));const u=f(n,["scribbleImage"]);return e!==void 0&&u!=null&&m(e,["instances[0]","scribble"],i6(u)),i}function l6(n,e){const t={},i=f(n,["retrievalConfig"]);i!=null&&m(t,["retrievalConfig"],i);const r=f(n,["functionCallingConfig"]);return r!=null&&m(t,["functionCallingConfig"],cO(r)),t}function u6(n,e){const t={};if(f(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(n,["computerUse"]);i!=null&&m(t,["computerUse"],i);const r=f(n,["fileSearch"]);r!=null&&m(t,["fileSearch"],r);const a=f(n,["codeExecution"]);if(a!=null&&m(t,["codeExecution"],a),f(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=f(n,["functionDeclarations"]);if(u!=null){let E=u;Array.isArray(E)&&(E=E.map(T=>T)),m(t,["functionDeclarations"],E)}const d=f(n,["googleMaps"]);d!=null&&m(t,["googleMaps"],LO(d));const p=f(n,["googleSearch"]);p!=null&&m(t,["googleSearch"],OO(p));const h=f(n,["googleSearchRetrieval"]);h!=null&&m(t,["googleSearchRetrieval"],h);const v=f(n,["urlContext"]);return v!=null&&m(t,["urlContext"],v),t}function hI(n,e){const t={},i=f(n,["retrieval"]);i!=null&&m(t,["retrieval"],i);const r=f(n,["computerUse"]);if(r!=null&&m(t,["computerUse"],r),f(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=f(n,["codeExecution"]);a!=null&&m(t,["codeExecution"],a);const u=f(n,["enterpriseWebSearch"]);u!=null&&m(t,["enterpriseWebSearch"],u);const d=f(n,["functionDeclarations"]);if(d!=null){let T=d;Array.isArray(T)&&(T=T.map(I=>dO(I))),m(t,["functionDeclarations"],T)}const p=f(n,["googleMaps"]);p!=null&&m(t,["googleMaps"],p);const h=f(n,["googleSearch"]);h!=null&&m(t,["googleSearch"],h);const v=f(n,["googleSearchRetrieval"]);v!=null&&m(t,["googleSearchRetrieval"],v);const E=f(n,["urlContext"]);return E!=null&&m(t,["urlContext"],E),t}function c6(n,e){const t={},i=f(n,["baseModel"]);i!=null&&m(t,["baseModel"],i);const r=f(n,["createTime"]);r!=null&&m(t,["createTime"],r);const a=f(n,["updateTime"]);return a!=null&&m(t,["updateTime"],a),t}function d6(n,e){const t={},i=f(n,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&m(t,["baseModel"],i);const r=f(n,["createTime"]);r!=null&&m(t,["createTime"],r);const a=f(n,["updateTime"]);return a!=null&&m(t,["updateTime"],a),t}function f6(n,e,t){const i={},r=f(n,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const a=f(n,["description"]);e!==void 0&&a!=null&&m(e,["description"],a);const u=f(n,["defaultCheckpointId"]);return e!==void 0&&u!=null&&m(e,["defaultCheckpointId"],u),i}function h6(n,e,t){const i={},r=f(n,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const a=f(n,["description"]);e!==void 0&&a!=null&&m(e,["description"],a);const u=f(n,["defaultCheckpointId"]);return e!==void 0&&u!=null&&m(e,["defaultCheckpointId"],u),i}function p6(n,e,t){const i={},r=f(e,["model"]);r!=null&&m(i,["_url","name"],Xe(n,r));const a=f(e,["config"]);return a!=null&&f6(a,i),i}function m6(n,e,t){const i={},r=f(e,["model"]);r!=null&&m(i,["_url","model"],Xe(n,r));const a=f(e,["config"]);return a!=null&&h6(a,i),i}function g6(n,e,t){const i={},r=f(n,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const a=f(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&m(e,["parameters","safetySetting"],a);const u=f(n,["personGeneration"]);e!==void 0&&u!=null&&m(e,["parameters","personGeneration"],u);const d=f(n,["includeRaiReason"]);e!==void 0&&d!=null&&m(e,["parameters","includeRaiReason"],d);const p=f(n,["outputMimeType"]);e!==void 0&&p!=null&&m(e,["parameters","outputOptions","mimeType"],p);const h=f(n,["outputCompressionQuality"]);e!==void 0&&h!=null&&m(e,["parameters","outputOptions","compressionQuality"],h);const v=f(n,["enhanceInputImage"]);e!==void 0&&v!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],v);const E=f(n,["imagePreservationFactor"]);e!==void 0&&E!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],E);const T=f(n,["labels"]);e!==void 0&&T!=null&&m(e,["labels"],T);const I=f(n,["numberOfImages"]);e!==void 0&&I!=null&&m(e,["parameters","sampleCount"],I);const D=f(n,["mode"]);return e!==void 0&&D!=null&&m(e,["parameters","mode"],D),i}function y6(n,e,t){const i={},r=f(e,["model"]);r!=null&&m(i,["_url","model"],Xe(n,r));const a=f(e,["image"]);a!=null&&m(i,["instances[0]","image"],gi(a));const u=f(e,["upscaleFactor"]);u!=null&&m(i,["parameters","upscaleConfig","upscaleFactor"],u);const d=f(e,["config"]);return d!=null&&g6(d,i),i}function v6(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&m(t,["sdkHttpResponse"],i);const r=f(n,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>zf(u))),m(t,["generatedImages"],a)}return t}function _6(n,e){const t={},i=f(n,["uri"]);i!=null&&m(t,["uri"],i);const r=f(n,["encodedVideo"]);r!=null&&m(t,["videoBytes"],Dr(r));const a=f(n,["encoding"]);return a!=null&&m(t,["mimeType"],a),t}function E6(n,e){const t={},i=f(n,["gcsUri"]);i!=null&&m(t,["uri"],i);const r=f(n,["bytesBase64Encoded"]);r!=null&&m(t,["videoBytes"],Dr(r));const a=f(n,["mimeType"]);return a!=null&&m(t,["mimeType"],a),t}function T6(n,e){const t={},i=f(n,["image"]);i!=null&&m(t,["_self"],gi(i));const r=f(n,["maskMode"]);return r!=null&&m(t,["maskMode"],r),t}function S6(n,e){const t={},i=f(n,["image"]);i!=null&&m(t,["image"],qf(i));const r=f(n,["referenceType"]);return r!=null&&m(t,["referenceType"],r),t}function A6(n,e){const t={},i=f(n,["image"]);i!=null&&m(t,["image"],gi(i));const r=f(n,["referenceType"]);return r!=null&&m(t,["referenceType"],r),t}function pI(n,e){const t={},i=f(n,["uri"]);i!=null&&m(t,["uri"],i);const r=f(n,["videoBytes"]);r!=null&&m(t,["encodedVideo"],Dr(r));const a=f(n,["mimeType"]);return a!=null&&m(t,["encoding"],a),t}function mI(n,e){const t={},i=f(n,["uri"]);i!=null&&m(t,["gcsUri"],i);const r=f(n,["videoBytes"]);r!=null&&m(t,["bytesBase64Encoded"],Dr(r));const a=f(n,["mimeType"]);return a!=null&&m(t,["mimeType"],a),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C6(n,e){const t={},i=f(n,["displayName"]);return e!==void 0&&i!=null&&m(e,["displayName"],i),t}function w6(n){const e={},t=f(n,["config"]);return t!=null&&C6(t,e),e}function I6(n,e){const t={},i=f(n,["force"]);return e!==void 0&&i!=null&&m(e,["_query","force"],i),t}function x6(n){const e={},t=f(n,["name"]);t!=null&&m(e,["_url","name"],t);const i=f(n,["config"]);return i!=null&&I6(i,e),e}function R6(n){const e={},t=f(n,["name"]);return t!=null&&m(e,["_url","name"],t),e}function b6(n,e){const t={},i=f(n,["customMetadata"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["customMetadata"],a)}const r=f(n,["chunkingConfig"]);return e!==void 0&&r!=null&&m(e,["chunkingConfig"],r),t}function N6(n){const e={},t=f(n,["name"]);t!=null&&m(e,["name"],t);const i=f(n,["metadata"]);i!=null&&m(e,["metadata"],i);const r=f(n,["done"]);r!=null&&m(e,["done"],r);const a=f(n,["error"]);a!=null&&m(e,["error"],a);const u=f(n,["response"]);return u!=null&&m(e,["response"],D6(u)),e}function M6(n){const e={},t=f(n,["fileSearchStoreName"]);t!=null&&m(e,["_url","file_search_store_name"],t);const i=f(n,["fileName"]);i!=null&&m(e,["fileName"],i);const r=f(n,["config"]);return r!=null&&b6(r,e),e}function D6(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["parent"]);i!=null&&m(e,["parent"],i);const r=f(n,["documentName"]);return r!=null&&m(e,["documentName"],r),e}function k6(n,e){const t={},i=f(n,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const r=f(n,["pageToken"]);return e!==void 0&&r!=null&&m(e,["_query","pageToken"],r),t}function P6(n){const e={},t=f(n,["config"]);return t!=null&&k6(t,e),e}function V6(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const r=f(n,["fileSearchStores"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["fileSearchStores"],a)}return e}function gI(n,e){const t={},i=f(n,["mimeType"]);e!==void 0&&i!=null&&m(e,["mimeType"],i);const r=f(n,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const a=f(n,["customMetadata"]);if(e!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),m(e,["customMetadata"],d)}const u=f(n,["chunkingConfig"]);return e!==void 0&&u!=null&&m(e,["chunkingConfig"],u),t}function U6(n){const e={},t=f(n,["fileSearchStoreName"]);t!=null&&m(e,["_url","file_search_store_name"],t);const i=f(n,["config"]);return i!=null&&gI(i,e),e}function L6(n){const e={},t=f(n,["sdkHttpResponse"]);return t!=null&&m(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const O6="Content-Type",F6="X-Server-Timeout",G6="User-Agent",eg="x-goog-api-client",H6="1.40.0",B6=`google-genai-sdk/${H6}`,z6="v1beta1",q6="v1beta";class J6{constructor(e){var t,i,r;this.clientOptions=Object.assign({},e),this.customBaseUrl=(t=e.httpOptions)===null||t===void 0?void 0:t.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const a={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const d=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!d?(a.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?a.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(a.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:z6}else{if(!this.clientOptions.apiKey)throw new Nu({message:"API key must be set when using the Gemini API.",status:403});a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:q6,a.baseUrl="https://generativelanguage.googleapis.com/"}a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const r=[this.getRequestUrlInternal(t)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e,t){return!(t.baseUrl&&t.baseUrlResourceScope===$m.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e,t),r=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[u,d]of Object.entries(e.queryParams))r.searchParams.append(u,String(d));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,t,r.toString(),e.abortSignal),this.unaryApiCall(r,a,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[r,a]of Object.entries(t))typeof a=="object"?i[r]=Object.assign(Object.assign({},i[r]),a):a!==void 0&&(i[r]=a);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e,t),r=this.constructUrl(e.path,t,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,t,r.toString(),e.abortSignal),this.streamApiCall(r,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i,r){if(t&&t.timeout||r){const a=new AbortController,u=a.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const d=setTimeout(()=>a.abort(),t.timeout);d&&typeof d.unref=="function"&&d.unref()}r&&r.addEventListener("abort",()=>{a.abort()}),e.signal=u}return t&&t.extraBody!==null&&K6(e,t.extraBody),e.headers=await this.getHeadersInternal(t,i),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await $S(r),new jm(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await $S(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return hi(this,arguments,function*(){var i;const r=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),a=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let u="";const d="data:",p=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:v}=yield Ne(r.read());if(h){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const E=a.decode(v,{stream:!0});try{const D=JSON.parse(E);if("error"in D){const L=JSON.parse(JSON.stringify(D.error)),k=L.status,z=L.code,Z=`got status: ${k}. ${JSON.stringify(D)}`;if(z>=400&&z<600)throw new Nu({message:Z,status:z})}}catch(D){if(D.name==="ApiError")throw D}u+=E;let T=-1,I=0;for(;;){T=-1,I=0;for(const k of p){const z=u.indexOf(k);z!==-1&&(T===-1||z<T)&&(T=z,I=k.length)}if(T===-1)break;const D=u.substring(0,T);u=u.substring(T+I);const L=D.trim();if(L.startsWith(d)){const k=L.substring(d.length).trim();try{const z=new Response(k,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ne(new jm(z))}catch(z){throw new Error(`exception parsing stream chunk ${k}. ${z}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=B6+" "+this.clientOptions.userAgentExtra;return e[G6]=t,e[eg]=t,e[O6]="application/json",e}async getHeadersInternal(e,t){const i=new Headers;if(e&&e.headers){for(const[r,a]of Object.entries(e.headers))i.append(r,a);e.timeout&&e.timeout>0&&i.append(F6,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,t),i}getFileName(e){var t;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(t=i.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),i}async uploadFile(e,t){var i;const r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const a=this.clientOptions.uploader,u=await a.stat(e);r.sizeBytes=String(u.size);const d=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:u.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=d;const p={file:r},h=this.getFileName(e),v=ge("upload/v1beta/files",p._url),E=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,h,p,t==null?void 0:t.httpOptions);return a.upload(e,E,this)}async uploadFileToFileSearchStore(e,t,i){var r;const a=this.clientOptions.uploader,u=await a.stat(t),d=String(u.size),p=(r=i==null?void 0:i.mimeType)!==null&&r!==void 0?r:u.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(t),E={};i!=null&&gI(i,E);const T=await this.fetchUploadUrl(h,d,p,v,E,i==null?void 0:i.httpOptions);return a.uploadToFileSearchStore(t,T,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,i,r,a,u){var d;let p={};u?p=u:p={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${i}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:p});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(d=h==null?void 0:h.headers)===null||d===void 0?void 0:d["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function $S(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let i;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await n.json():i={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(i);throw t>=400&&t<600?new Nu({message:r,status:t}):new Error(r)}}function K6(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const a=JSON.parse(n.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))t=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,u){const d=Object.assign({},a);for(const p in u)if(Object.prototype.hasOwnProperty.call(u,p)){const h=u[p],v=d[p];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?d[p]=i(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),d[p]=h)}return d}const r=i(t,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Y6="mcp_used/unknown";let $6=!1;function yI(n){for(const e of n)if(j6(e)||typeof e=="object"&&"inputSchema"in e)return!0;return $6}function vI(n){var e;const t=(e=n[eg])!==null&&e!==void 0?e:"";n[eg]=(t+` ${Y6}`).trimStart()}function j6(n){return n!==null&&typeof n=="object"&&n instanceof dy}function Q6(n){return hi(this,arguments,function*(t,i=100){let r,a=0;for(;a<i;){const u=yield Ne(t.listTools({cursor:r}));for(const d of u.tools)yield yield Ne(d),a++;if(!u.nextCursor)break;r=u.nextCursor}})}class dy{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new dy(e,t)}async initialize(){var e,t,i,r;if(this.mcpTools.length>0)return;const a={},u=[];for(const v of this.mcpClients)try{for(var d=!0,p=(t=void 0,pi(Q6(v))),h;h=await p.next(),e=h.done,!e;d=!0){r=h.value,d=!1;const E=r;u.push(E);const T=E.name;if(a[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);a[T]=v}}catch(E){t={error:E}}finally{try{!d&&!e&&(i=p.return)&&await i.call(p)}finally{if(t)throw t.error}}this.mcpTools=u,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),wU(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const u=await r.callTool({name:i.name,arguments:i.args},void 0,a);t.push({functionResponse:{name:i.name,response:u.isError?{error:u}:u}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function X6(n,e,t){const i=new yU;let r;t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data),Object.assign(i,r),e(i)}class W6{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),u=t3(this.apiClient.getDefaultHeaders()),d=this.apiClient.getApiKey(),p=`${r}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${d}`;let h=()=>{};const v=new Promise(j=>{h=j}),E=e.callbacks,T=function(){h({})},I=this.apiClient,D={onopen:T,onmessage:j=>{X6(I,E.onmessage,j)},onerror:(t=E==null?void 0:E.onerror)!==null&&t!==void 0?t:function(j){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function(j){}},L=this.webSocketFactory.create(p,e3(u),D);L.connect(),await v;const Z={setup:{model:Xe(this.apiClient,e.model)}};return L.send(JSON.stringify(Z)),new Z6(L,this.apiClient)}}class Z6{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=C4(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=A4(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Ta.PLAY)}pause(){this.sendPlaybackControl(Ta.PAUSE)}stop(){this.sendPlaybackControl(Ta.STOP)}resetContext(){this.sendPlaybackControl(Ta.RESET_CONTEXT)}close(){this.conn.close()}}function e3(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function t3(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const n3="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function i3(n,e,t){const i=new gU;let r;t.data instanceof Blob?r=await t.data.text():t.data instanceof ArrayBuffer?r=new TextDecoder().decode(t.data):r=t.data;const a=JSON.parse(r);if(n.isVertexAI()){const u=x4(a);Object.assign(i,u)}else Object.assign(i,a);e(i)}class s3{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new W6(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,r,a,u,d;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const E=this.apiClient.getHeaders();e.config&&e.config.tools&&yI(e.config.tools)&&vI(E);const T=l3(E);if(this.apiClient.isVertexAI()){const N=this.apiClient.getProject(),V=this.apiClient.getLocation(),U=this.apiClient.getApiKey(),H=!!N&&!!V||!!U;this.apiClient.getCustomBaseUrl()&&!H?v=p:(v=`${p}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,v))}else{const N=this.apiClient.getApiKey();let V="BidiGenerateContent",U="key";N!=null&&N.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),V="BidiGenerateContentConstrained",U="access_token"),v=`${p}/ws/google.ai.generativelanguage.${h}.GenerativeService.${V}?${U}=${N}`}let I=()=>{};const D=new Promise(N=>{I=N}),L=e.callbacks,k=function(){var N;(N=L==null?void 0:L.onopen)===null||N===void 0||N.call(L),I({})},z=this.apiClient,Z={onopen:k,onmessage:N=>{i3(z,L.onmessage,N)},onerror:(t=L==null?void 0:L.onerror)!==null&&t!==void 0?t:function(N){},onclose:(i=L==null?void 0:L.onclose)!==null&&i!==void 0?i:function(N){}},j=this.webSocketFactory.create(v,a3(T),Z);j.connect(),await D;let oe=Xe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&oe.startsWith("publishers/")){const N=this.apiClient.getProject(),V=this.apiClient.getLocation();N&&V&&(oe=`projects/${N}/locations/${V}/`+oe)}let Q={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[hf.AUDIO]}:e.config.responseModalities=[hf.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const fe=(d=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&d!==void 0?d:[],M=[];for(const N of fe)if(this.isCallableTool(N)){const V=N;M.push(await V.tool())}else M.push(N);M.length>0&&(e.config.tools=M);const b={model:oe,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Q=S4(this.apiClient,b):Q=T4(this.apiClient,b),delete Q.config,j.send(JSON.stringify(Q)),new o3(j,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const r3={turnComplete:!0};class o3{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=Xn(t.turns),e.isVertexAI()||(i=i.map(r=>Bf(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(n3)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},r3),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:I4(e)}:t={realtimeInput:w4(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function a3(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function l3(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jS=10;function QS(n){var e,t,i;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const u of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(ba(u)){r=!0;break}if(!r)return!0;const a=(i=n==null?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function ba(n){return"callTool"in n&&typeof n.callTool=="function"}function u3(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>ba(r)))!==null&&i!==void 0?i:!1}function XS(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((i,r)=>{if(ba(i))return;const a=i;a.functionDeclarations&&a.functionDeclarations.length>0&&t.push(r)}),t}function WS(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c3 extends As{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,r,a,u,d;const p=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!u3(t)||QS(t.config))return await this.generateContentInternal(p);const h=XS(t);if(h.length>0){const L=h.map(k=>`tools[${k}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${L}.`)}let v,E;const T=Xn(p.contents),I=(a=(r=(i=p.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:jS;let D=0;for(;D<I&&(v=await this.generateContentInternal(p),!(!v.functionCalls||v.functionCalls.length===0));){const L=v.candidates[0].content,k=[];for(const z of(d=(u=t.config)===null||u===void 0?void 0:u.tools)!==null&&d!==void 0?d:[])if(ba(z)){const j=await z.callTool(v.functionCalls);k.push(...j)}D++,E={role:"user",parts:k},p.contents=Xn(p.contents),p.contents.push(L),p.contents.push(E),WS(p.config)&&(T.push(L),T.push(E))}return WS(p.config)&&(v.automaticFunctionCallingHistory=T),v},this.generateContentStream=async t=>{var i,r,a,u,d;if(this.maybeMoveToResponseJsonSchem(t),QS(t.config)){const E=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(E)}const p=XS(t);if(p.length>0){const E=p.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(a=(r=(i=t==null?void 0:t.config)===null||i===void 0?void 0:i.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,v=(d=(u=t==null?void 0:t.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||d===void 0?void 0:d.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var r;let a;const u=[];if(i!=null&&i.generatedImages)for(const p of i.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((r=p==null?void 0:p.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?a=p==null?void 0:p.safetyAttributes:u.push(p);let d;return a?d={generatedImages:u,positivePromptSafetyAttributes:a,sdkHttpResponse:i.sdkHttpResponse}:d={generatedImages:u,sdkHttpResponse:i.sdkHttpResponse},d}),this.list=async t=>{var i;const u={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((i=u.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new wo(Ts.PAGED_ITEM_MODELS,d=>this.listInternal(d),await this.listInternal(u),u)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const r={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async t=>{var i,r,a,u,d,p;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=t.video)===null||i===void 0)&&i.uri&&(!((r=t.video)===null||r===void 0)&&r.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((u=(a=t.source)===null||a===void 0?void 0:a.video)===null||u===void 0)&&u.uri&&(!((p=(d=t.source)===null||d===void 0?void 0:d.video)===null||p===void 0)&&p.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,i,r;const a=(t=e.config)===null||t===void 0?void 0:t.tools;if(!a)return e;const u=await Promise.all(a.map(async p=>ba(p)?await p.tool():p)),d={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(d.config.tools=u,e.config&&e.config.tools&&yI(e.config.tools)){const p=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},p);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),vI(h),d.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return d}async initAfcToolsMap(e){var t,i,r;const a=new Map;for(const u of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(ba(u)){const d=u,p=await d.tool();for(const h of(r=p.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(a.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);a.set(h.name,d)}}return a}async processAfcStream(e){var t,i,r;const a=(r=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:jS;let u=!1,d=0;const p=await this.initAfcToolsMap(e);return(function(h,v,E){return hi(this,arguments,function*(){for(var T,I,D,L,k,z;d<a;){u&&(d++,u=!1);const Q=yield Ne(h.processParamsMaybeAddMcpUsage(E)),fe=yield Ne(h.generateContentStreamInternal(Q)),M=[],b=[];try{for(var Z=!0,j=(I=void 0,pi(fe)),oe;oe=yield Ne(j.next()),T=oe.done,!T;Z=!0){L=oe.value,Z=!1;const N=L;if(yield yield Ne(N),N.candidates&&(!((k=N.candidates[0])===null||k===void 0)&&k.content)){b.push(N.candidates[0].content);for(const V of(z=N.candidates[0].content.parts)!==null&&z!==void 0?z:[])if(d<a&&V.functionCall){if(!V.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(V.functionCall.name)){const U=yield Ne(v.get(V.functionCall.name).callTool([V.functionCall]));M.push(...U)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${V.functionCall.name}`)}}}}catch(N){I={error:N}}finally{try{!Z&&!T&&(D=j.return)&&(yield Ne(D.call(j)))}finally{if(I)throw I.error}}if(M.length>0){u=!0;const N=new nu;N.candidates=[{content:{role:"user",parts:M}}],yield yield Ne(N);const V=[];V.push(...b),V.push({role:"user",parts:M});const U=Xn(E.contents).concat(V);E.contents=U}else break}})})(this,p,e)}async generateContentInternal(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=JS(this.apiClient,e);return d=ge("{model}:generateContent",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=YS(v),T=new nu;return Object.assign(T,E),T})}else{const h=qS(this.apiClient,e);return d=ge("{model}:generateContent",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=KS(v),T=new nu;return Object.assign(T,E),T})}}async generateContentStreamInternal(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=JS(this.apiClient,e);return d=ge("{model}:streamGenerateContent?alt=sse",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.requestStream({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),u.then(function(E){return hi(this,arguments,function*(){var T,I,D,L;try{for(var k=!0,z=pi(E),Z;Z=yield Ne(z.next()),T=Z.done,!T;k=!0){L=Z.value,k=!1;const j=L,oe=YS(yield Ne(j.json()),e);oe.sdkHttpResponse={headers:j.headers};const Q=new nu;Object.assign(Q,oe),yield yield Ne(Q)}}catch(j){I={error:j}}finally{try{!k&&!T&&(D=z.return)&&(yield Ne(D.call(z)))}finally{if(I)throw I.error}}})})}else{const h=qS(this.apiClient,e);return d=ge("{model}:streamGenerateContent?alt=sse",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.requestStream({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),u.then(function(E){return hi(this,arguments,function*(){var T,I,D,L;try{for(var k=!0,z=pi(E),Z;Z=yield Ne(z.next()),T=Z.done,!T;k=!0){L=Z.value,k=!1;const j=L,oe=KS(yield Ne(j.json()),e);oe.sdkHttpResponse={headers:j.headers};const Q=new nu;Object.assign(Q,oe),yield yield Ne(Q)}}catch(j){I={error:j}}finally{try{!k&&!T&&(D=z.return)&&(yield Ne(D.call(z)))}finally{if(I)throw I.error}}})})}}async embedContent(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=sO(this.apiClient,e);return d=ge("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=oO(v),T=new xS;return Object.assign(T,E),T})}else{const h=iO(this.apiClient,e);return d=ge("{model}:batchEmbedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=rO(v),T=new xS;return Object.assign(T,E),T})}}async generateImagesInternal(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=yO(this.apiClient,e);return d=ge("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=_O(v),T=new RS;return Object.assign(T,E),T})}else{const h=gO(this.apiClient,e);return d=ge("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=vO(v),T=new RS;return Object.assign(T,E),T})}}async editImageInternal(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=Z4(this.apiClient,e);return a=ge("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),r.then(p=>{const h=eO(p),v=new sU;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=y6(this.apiClient,e);return a=ge("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),r.then(p=>{const h=v6(p),v=new rU;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=WO(this.apiClient,e);return a=ge("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const h=ZO(p),v=new oU;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=r6(this.apiClient,e);return a=ge("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const h=o6(p),v=new aU;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=UO(this.apiClient,e);return d=ge("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>Zm(v))}else{const h=VO(this.apiClient,e);return d=ge("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>Wm(v))}}async listInternal(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=JO(this.apiClient,e);return d=ge("{models_url}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=YO(v),T=new bS;return Object.assign(T,E),T})}else{const h=qO(this.apiClient,e);return d=ge("{models_url}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=KO(v),T=new bS;return Object.assign(T,E),T})}}async update(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=m6(this.apiClient,e);return d=ge("{model}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>Zm(v))}else{const h=p6(this.apiClient,e);return d=ge("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>Wm(v))}}async delete(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=j4(this.apiClient,e);return d=ge("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=X4(v),T=new NS;return Object.assign(T,E),T})}else{const h=$4(this.apiClient,e);return d=ge("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=Q4(v),T=new NS;return Object.assign(T,E),T})}}async countTokens(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=J4(this.apiClient,e);return d=ge("{model}:countTokens",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=Y4(v),T=new MS;return Object.assign(T,E),T})}else{const h=q4(this.apiClient,e);return d=ge("{model}:countTokens",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=K4(v),T=new MS;return Object.assign(T,E),T})}}async computeTokens(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=L4(this.apiClient,e);return a=ge("{model}:computeTokens",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),r.then(p=>{const h=O4(p),v=new lU;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=wO(this.apiClient,e);return d=ge("{model}:predictLongRunning",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>{const E=AO(v),T=new pf;return Object.assign(T,E),T})}else{const h=CO(this.apiClient,e);return d=ge("{model}:predictLongRunning",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>{const E=SO(v),T=new pf;return Object.assign(T,E),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d3 extends As{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:a}});return t._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:a}});return t._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=WV(e);return d=ge("{operationName}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u}else{const h=XV(e);return d=ge("{operationName}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u}}async fetchPredictVideosOperationInternal(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=qV(e);return a=ge("{resourceName}:fetchPredictOperation",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function f3(n){const e={},t=f(n,["data"]);if(t!=null&&m(e,["data"],t),f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(n,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function h3(n){const e={},t=f(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(a=>S3(a))),m(e,["parts"],r)}const i=f(n,["role"]);return i!=null&&m(e,["role"],i),e}function p3(n,e,t){const i={},r=f(e,["expireTime"]);t!==void 0&&r!=null&&m(t,["expireTime"],r);const a=f(e,["newSessionExpireTime"]);t!==void 0&&a!=null&&m(t,["newSessionExpireTime"],a);const u=f(e,["uses"]);t!==void 0&&u!=null&&m(t,["uses"],u);const d=f(e,["liveConnectConstraints"]);t!==void 0&&d!=null&&m(t,["bidiGenerateContentSetup"],T3(n,d));const p=f(e,["lockAdditionalFields"]);return t!==void 0&&p!=null&&m(t,["fieldMask"],p),i}function m3(n,e){const t={},i=f(e,["config"]);return i!=null&&m(t,["config"],p3(n,i,t)),t}function g3(n){const e={};if(f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=f(n,["fileUri"]);t!=null&&m(e,["fileUri"],t);const i=f(n,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function y3(n){const e={},t=f(n,["id"]);t!=null&&m(e,["id"],t);const i=f(n,["args"]);i!=null&&m(e,["args"],i);const r=f(n,["name"]);if(r!=null&&m(e,["name"],r),f(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function v3(n){const e={};if(f(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=f(n,["enableWidget"]);return t!=null&&m(e,["enableWidget"],t),e}function _3(n){const e={};if(f(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=f(n,["timeRangeFilter"]);return t!=null&&m(e,["timeRangeFilter"],t),e}function E3(n,e){const t={},i=f(n,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],i);const r=f(n,["responseModalities"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig","responseModalities"],r);const a=f(n,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const u=f(n,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const d=f(n,["topK"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","topK"],d);const p=f(n,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const h=f(n,["mediaResolution"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","mediaResolution"],h);const v=f(n,["seed"]);e!==void 0&&v!=null&&m(e,["setup","generationConfig","seed"],v);const E=f(n,["speechConfig"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","speechConfig"],cy(E));const T=f(n,["thinkingConfig"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","thinkingConfig"],T);const I=f(n,["enableAffectiveDialog"]);e!==void 0&&I!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],I);const D=f(n,["systemInstruction"]);e!==void 0&&D!=null&&m(e,["setup","systemInstruction"],h3(an(D)));const L=f(n,["tools"]);if(e!==void 0&&L!=null){let fe=Ya(L);Array.isArray(fe)&&(fe=fe.map(M=>C3(Ka(M)))),m(e,["setup","tools"],fe)}const k=f(n,["sessionResumption"]);e!==void 0&&k!=null&&m(e,["setup","sessionResumption"],A3(k));const z=f(n,["inputAudioTranscription"]);e!==void 0&&z!=null&&m(e,["setup","inputAudioTranscription"],z);const Z=f(n,["outputAudioTranscription"]);e!==void 0&&Z!=null&&m(e,["setup","outputAudioTranscription"],Z);const j=f(n,["realtimeInputConfig"]);e!==void 0&&j!=null&&m(e,["setup","realtimeInputConfig"],j);const oe=f(n,["contextWindowCompression"]);e!==void 0&&oe!=null&&m(e,["setup","contextWindowCompression"],oe);const Q=f(n,["proactivity"]);if(e!==void 0&&Q!=null&&m(e,["setup","proactivity"],Q),f(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return t}function T3(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["setup","model"],Xe(n,i));const r=f(e,["config"]);return r!=null&&m(t,["config"],E3(r,t)),t}function S3(n){const e={},t=f(n,["mediaResolution"]);t!=null&&m(e,["mediaResolution"],t);const i=f(n,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const r=f(n,["executableCode"]);r!=null&&m(e,["executableCode"],r);const a=f(n,["fileData"]);a!=null&&m(e,["fileData"],g3(a));const u=f(n,["functionCall"]);u!=null&&m(e,["functionCall"],y3(u));const d=f(n,["functionResponse"]);d!=null&&m(e,["functionResponse"],d);const p=f(n,["inlineData"]);p!=null&&m(e,["inlineData"],f3(p));const h=f(n,["text"]);h!=null&&m(e,["text"],h);const v=f(n,["thought"]);v!=null&&m(e,["thought"],v);const E=f(n,["thoughtSignature"]);E!=null&&m(e,["thoughtSignature"],E);const T=f(n,["videoMetadata"]);return T!=null&&m(e,["videoMetadata"],T),e}function A3(n){const e={},t=f(n,["handle"]);if(t!=null&&m(e,["handle"],t),f(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function C3(n){const e={};if(f(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=f(n,["computerUse"]);t!=null&&m(e,["computerUse"],t);const i=f(n,["fileSearch"]);i!=null&&m(e,["fileSearch"],i);const r=f(n,["codeExecution"]);if(r!=null&&m(e,["codeExecution"],r),f(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=f(n,["functionDeclarations"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(E=>E)),m(e,["functionDeclarations"],v)}const u=f(n,["googleMaps"]);u!=null&&m(e,["googleMaps"],v3(u));const d=f(n,["googleSearch"]);d!=null&&m(e,["googleSearch"],_3(d));const p=f(n,["googleSearchRetrieval"]);p!=null&&m(e,["googleSearchRetrieval"],p);const h=f(n,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w3(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const i=n[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(a=>`${t}.${a}`);e.push(...r)}else e.push(t)}return e.join(",")}function I3(n,e){let t=null;const i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(n.bidiGenerateContentSetup=a,t=a):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(t){const a=w3(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?n.fieldMask=a:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let d=[];r.length>0&&(d=r.map(h=>u.includes(h)?`generationConfig.${h}`:h));const p=[];a&&p.push(a),d.length>0&&p.push(...d),p.length>0?n.fieldMask=p.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class x3 extends As{constructor(e){super(),this.apiClient=e}async create(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const d=m3(this.apiClient,e);a=ge("auth_tokens",d._url),u=d._query,delete d.config,delete d._url,delete d._query;const p=I3(d,e.config);return r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function R3(n,e){const t={},i=f(n,["force"]);return e!==void 0&&i!=null&&m(e,["_query","force"],i),t}function b3(n){const e={},t=f(n,["name"]);t!=null&&m(e,["_url","name"],t);const i=f(n,["config"]);return i!=null&&R3(i,e),e}function N3(n){const e={},t=f(n,["name"]);return t!=null&&m(e,["_url","name"],t),e}function M3(n,e){const t={},i=f(n,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const r=f(n,["pageToken"]);return e!==void 0&&r!=null&&m(e,["_query","pageToken"],r),t}function D3(n){const e={},t=f(n,["parent"]);t!=null&&m(e,["_url","parent"],t);const i=f(n,["config"]);return i!=null&&M3(i,e),e}function k3(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const r=f(n,["documents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class P3 extends As{constructor(e){super(),this.apiClient=e,this.list=async t=>new wo(Ts.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:t.parent,config:i.config}),await this.listInternal(t),t)}async get(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=N3(e);return a=ge("{name}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var t,i;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=b3(e);r=ge("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=D3(e);return a=ge("{parent}/documents",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const h=k3(p),v=new uU;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class V3 extends As{constructor(e,t=new P3(e)){super(),this.apiClient=e,this.documents=t,this.list=async(i={})=>new wo(Ts.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=w6(e);return a=ge("fileSearchStores",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async get(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=R6(e);return a=ge("{name}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var t,i;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=x6(e);r=ge("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=P6(e);return a=ge("fileSearchStores",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const h=V6(p),v=new cU;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=U6(e);return a=ge("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const h=L6(p),v=new dU;return Object.assign(v,h),v})}}async importFile(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=M6(e);return a=ge("{file_search_store_name}:importFile",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const h=N6(p),v=new ry;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let _I=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return _I=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),t=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^t()&15>>+i/4).toString(16))};const U3=()=>_I();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tg(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const ng=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wn extends Error{}class pn extends Wn{constructor(e,t,i,r){super(`${pn.makeMessage(e,t,i)}`),this.status=e,this.headers=r,this.error=t}static makeMessage(e,t,i){const r=t!=null&&t.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):i;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,i,r){if(!e||!r)return new Jf({message:i,cause:ng(t)});const a=t;return e===400?new TI(e,a,i,r):e===401?new SI(e,a,i,r):e===403?new AI(e,a,i,r):e===404?new CI(e,a,i,r):e===409?new wI(e,a,i,r):e===422?new II(e,a,i,r):e===429?new xI(e,a,i,r):e>=500?new RI(e,a,i,r):new pn(e,a,i,r)}}class ig extends pn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Jf extends pn{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class EI extends Jf{constructor({message:e}={}){super({message:e??"Request timed out."})}}class TI extends pn{}class SI extends pn{}class AI extends pn{}class CI extends pn{}class wI extends pn{}class II extends pn{}class xI extends pn{}class RI extends pn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const L3=/^[a-z][a-z0-9+.-]*:/i,O3=n=>L3.test(n);let sg=n=>(sg=Array.isArray,sg(n));const F3=sg;let G3=F3;const ZS=G3;function H3(n){if(!n)return!0;for(const e in n)return!1;return!0}function B3(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const z3=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Wn(`${n} must be an integer`);if(e<0)throw new Wn(`${n} must be a positive integer`);return e},q3=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const J3=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _a="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K3(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Y3=()=>{var n,e,t,i,r;const a=K3();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_a,"X-Stainless-OS":tA(Deno.build.os),"X-Stainless-Arch":eA(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_a,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_a,"X-Stainless-OS":tA((t=globalThis.process.platform)!==null&&t!==void 0?t:"unknown"),"X-Stainless-Arch":eA((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const u=$3();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_a,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_a,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function $3(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of n){const i=t.exec(navigator.userAgent);if(i){const r=i[1]||0,a=i[2]||0,u=i[3]||0;return{browser:e,version:`${r}.${a}.${u}`}}}return null}const eA=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",tA=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let Cd;const j3=()=>Cd??(Cd=Y3());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q3(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function bI(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function X3(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return bI({start(){},async pull(t){const{done:i,value:r}=await e.next();i?t.close():t.enqueue(r)},async cancel(){var t;await((t=e.return)===null||t===void 0?void 0:t.call(e))}})}function NI(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function W3(n){var e,t;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((t=(e=n[Symbol.asyncIterator]()).return)===null||t===void 0?void 0:t.call(e));return}const i=n.getReader(),r=i.cancel();i.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Z3=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MI=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,t=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function dm(n,e,t){return MI(),new File(n,e??"unknown_file",t)}function e5(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const t5=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DI=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",n5=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&DI(n),i5=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function s5(n,e,t){if(MI(),n=await n,n5(n))return n instanceof File?n:dm([await n.arrayBuffer()],n.name);if(i5(n)){const r=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),dm(await rg(r),e,t)}const i=await rg(n);if(e||(e=e5(n)),!(t!=null&&t.type)){const r=i.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof r=="string"&&(t=Object.assign(Object.assign({},t),{type:r}))}return dm(i,e,t)}async function rg(n){var e,t,i,r,a;let u=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)u.push(n);else if(DI(n))u.push(n instanceof Blob?n:await n.arrayBuffer());else if(t5(n))try{for(var d=!0,p=pi(n),h;h=await p.next(),e=h.done,!e;d=!0){r=h.value,d=!1;const v=r;u.push(...await rg(v))}}catch(v){t={error:v}}finally{try{!d&&!e&&(i=p.return)&&await i.call(p)}finally{if(t)throw t.error}}else{const v=(a=n==null?void 0:n.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof n}${v?`; constructor: ${v}`:""}${r5(n)}`)}return u}function r5(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(t=>`"${t}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kI{constructor(e){this._client=e}}kI._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PI(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const nA=Object.freeze(Object.create(null)),o5=(n=PI)=>(function(t,...i){if(t.length===1)return t[0];let r=!1;const a=[],u=t.reduce((v,E,T)=>{var I,D,L;/[?#]/.test(E)&&(r=!0);const k=i[T];let z=(r?encodeURIComponent:n)(""+k);return T!==i.length&&(k==null||typeof k=="object"&&k.toString===((L=Object.getPrototypeOf((D=Object.getPrototypeOf((I=k.hasOwnProperty)!==null&&I!==void 0?I:nA))!==null&&D!==void 0?D:nA))===null||L===void 0?void 0:L.toString))&&(z=k+"",a.push({start:v.length+E.length,length:z.length,error:`Value of type ${Object.prototype.toString.call(k).slice(8,-1)} is not a valid path parameter`})),v+E+(T===i.length?"":z)},""),d=u.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=p.exec(d))!==null;)a.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(a.sort((v,E)=>v.start-E.start),a.length>0){let v=0;const E=a.reduce((T,I)=>{const D=" ".repeat(I.start-v),L="^".repeat(I.length);return v=I.start+I.length,T+D+L},"");throw new Wn(`Path parameters result in path with invalid segments:
${a.map(T=>T.error).join(`
`)}
${u}
${E}`)}return u}),wd=o5(PI);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VI extends kI{create(e,t){var i;const{api_version:r=this._client.apiVersion}=e,a=gf(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new Wn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new Wn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(wd`/${r}/interactions`,Object.assign(Object.assign({body:a},t),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,t={},i){const{api_version:r=this._client.apiVersion}=t??{};return this._client.delete(wd`/${r}/interactions/${e}`,i)}cancel(e,t={},i){const{api_version:r=this._client.apiVersion}=t??{};return this._client.post(wd`/${r}/interactions/${e}/cancel`,i)}get(e,t={},i){var r;const a=t??{},{api_version:u=this._client.apiVersion}=a,d=gf(a,["api_version"]);return this._client.get(wd`/${u}/interactions/${e}`,Object.assign(Object.assign({query:d},i),{stream:(r=t==null?void 0:t.stream)!==null&&r!==void 0?r:!1}))}}VI._key=Object.freeze(["interactions"]);class UI extends VI{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a5(n){let e=0;for(const r of n)e+=r.length;const t=new Uint8Array(e);let i=0;for(const r of n)t.set(r,i),i+=r.length;return t}let Id;function fy(n){let e;return(Id??(e=new globalThis.TextEncoder,Id=e.encode.bind(e)))(n)}let xd;function iA(n){let e;return(xd??(e=new globalThis.TextDecoder,xd=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kf{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?fy(e):e;this.buffer=a5([this.buffer,t]);const i=[];let r;for(;(r=l5(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){i.push(iA(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,u=iA(this.buffer.subarray(0,a));i.push(u),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}Kf.NEWLINE_CHARS=new Set([`
`,"\r"]);Kf.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function l5(n,e){for(let r=e??0;r<n.length;r++){if(n[r]===10)return{preceding:r,index:r+1,carriage:!1};if(n[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function u5(n){for(let i=0;i<n.length-1;i++){if(n[i]===10&&n[i+1]===10||n[i]===13&&n[i+1]===13)return i+2;if(n[i]===13&&n[i+1]===10&&i+3<n.length&&n[i+2]===13&&n[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yf={off:0,error:200,warn:300,info:400,debug:500},sA=(n,e,t)=>{if(n){if(B3(yf,n))return n;fn(t).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(yf))}`)}};function cu(){}function Rd(n,e,t){return!e||yf[n]>yf[t]?cu:e[n].bind(e)}const c5={error:cu,warn:cu,info:cu,debug:cu};let rA=new WeakMap;function fn(n){var e;const t=n.logger,i=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!t)return c5;const r=rA.get(t);if(r&&r[0]===i)return r[1];const a={error:Rd("error",t,i),warn:Rd("warn",t,i),info:Rd("info",t,i),debug:Rd("debug",t,i)};return rA.set(t,[i,a]),a}const co=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,t])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":t]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sa{constructor(e,t,i){this.iterator=e,this.controller=t,this.client=i}static fromSSEResponse(e,t,i){let r=!1;const a=i?fn(i):console;function u(){return hi(this,arguments,function*(){var p,h,v,E;if(r)throw new Wn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let T=!1;try{try{for(var I=!0,D=pi(d5(e,t)),L;L=yield Ne(D.next()),p=L.done,!p;I=!0){E=L.value,I=!1;const k=E;if(!T)if(k.data.startsWith("[DONE]")){T=!0;continue}else try{yield yield Ne(JSON.parse(k.data))}catch(z){throw a.error("Could not parse message into JSON:",k.data),a.error("From chunk:",k.raw),z}}}catch(k){h={error:k}}finally{try{!I&&!p&&(v=D.return)&&(yield Ne(v.call(D)))}finally{if(h)throw h.error}}T=!0}catch(k){if(tg(k))return yield Ne(void 0);throw k}finally{T||t.abort()}})}return new Sa(u,t,i)}static fromReadableStream(e,t,i){let r=!1;function a(){return hi(this,arguments,function*(){var p,h,v,E;const T=new Kf,I=NI(e);try{for(var D=!0,L=pi(I),k;k=yield Ne(L.next()),p=k.done,!p;D=!0){E=k.value,D=!1;const z=E;for(const Z of T.decode(z))yield yield Ne(Z)}}catch(z){h={error:z}}finally{try{!D&&!p&&(v=L.return)&&(yield Ne(v.call(L)))}finally{if(h)throw h.error}}for(const z of T.flush())yield yield Ne(z)})}function u(){return hi(this,arguments,function*(){var p,h,v,E;if(r)throw new Wn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let T=!1;try{try{for(var I=!0,D=pi(a()),L;L=yield Ne(D.next()),p=L.done,!p;I=!0){E=L.value,I=!1;const k=E;T||k&&(yield yield Ne(JSON.parse(k)))}}catch(k){h={error:k}}finally{try{!I&&!p&&(v=D.return)&&(yield Ne(v.call(D)))}finally{if(h)throw h.error}}T=!0}catch(k){if(tg(k))return yield Ne(void 0);throw k}finally{T||t.abort()}})}return new Sa(u,t,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],i=this.iterator(),r=a=>({next:()=>{if(a.length===0){const u=i.next();e.push(u),t.push(u)}return a.shift()}});return[new Sa(()=>r(e),this.controller,this.client),new Sa(()=>r(t),this.controller,this.client)]}toReadableStream(){const e=this;let t;return bI({async start(){t=e[Symbol.asyncIterator]()},async pull(i){try{const{value:r,done:a}=await t.next();if(a)return i.close();const u=fy(JSON.stringify(r)+`
`);i.enqueue(u)}catch(r){i.error(r)}},async cancel(){var i;await((i=t.return)===null||i===void 0?void 0:i.call(t))}})}}function d5(n,e){return hi(this,arguments,function*(){var i,r,a,u;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Wn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Wn("Attempted to iterate over a response with no body");const d=new h5,p=new Kf,h=NI(n.body);try{for(var v=!0,E=pi(f5(h)),T;T=yield Ne(E.next()),i=T.done,!i;v=!0){u=T.value,v=!1;const I=u;for(const D of p.decode(I)){const L=d.decode(D);L&&(yield yield Ne(L))}}}catch(I){r={error:I}}finally{try{!v&&!i&&(a=E.return)&&(yield Ne(a.call(E)))}finally{if(r)throw r.error}}for(const I of p.flush()){const D=d.decode(I);D&&(yield yield Ne(D))}})}function f5(n){return hi(this,arguments,function*(){var t,i,r,a;let u=new Uint8Array;try{for(var d=!0,p=pi(n),h;h=yield Ne(p.next()),t=h.done,!t;d=!0){a=h.value,d=!1;const v=a;if(v==null)continue;const E=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?fy(v):v;let T=new Uint8Array(u.length+E.length);T.set(u),T.set(E,u.length),u=T;let I;for(;(I=u5(u))!==-1;)yield yield Ne(u.slice(0,I)),u=u.slice(I)}}catch(v){i={error:v}}finally{try{!d&&!t&&(r=p.return)&&(yield Ne(r.call(p)))}finally{if(i)throw i.error}}u.length>0&&(yield yield Ne(u))})}class h5{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,i,r]=p5(e,":");return r.startsWith(" ")&&(r=r.substring(1)),t==="event"?this.event=r:t==="data"&&this.data.push(r),null}}function p5(n,e){const t=n.indexOf(e);return t!==-1?[n.substring(0,t),e,n.substring(t+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function m5(n,e){const{response:t,requestLogID:i,retryOfRequestLogID:r,startTime:a}=e,u=await(async()=>{var d;if(e.options.stream)return fn(n).debug("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller,n):Sa.fromSSEResponse(t,e.controller,n);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const p=t.headers.get("content-type"),h=(d=p==null?void 0:p.split(";")[0])===null||d===void 0?void 0:d.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?t.headers.get("content-length")==="0"?void 0:await t.json():await t.text()})();return fn(n).debug(`[${i}] response parsed`,co({retryOfRequestLogID:r,url:t.url,status:t.status,body:u,durationMs:Date.now()-a})),u}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hy extends Promise{constructor(e,t,i=m5){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new hy(this.client,this.responsePromise,async(t,i)=>e(await this.parseResponse(t,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LI=Symbol("brand.privateNullableHeaders");function*g5(n){if(!n)return;if(LI in n){const{values:i,nulls:r}=n;yield*i.entries();for(const a of r)yield[a,null];return}let e=!1,t;n instanceof Headers?t=n.entries():ZS(n)?t=n:(e=!0,t=Object.entries(n??{}));for(let i of t){const r=i[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const a=ZS(i[1])?i[1]:[i[1]];let u=!1;for(const d of a)d!==void 0&&(e&&!u&&(u=!0,yield[r,null]),yield[r,d])}}const iu=n=>{const e=new Headers,t=new Set;for(const i of n){const r=new Set;for(const[a,u]of g5(i)){const d=a.toLowerCase();r.has(d)||(e.delete(a),r.add(d)),u===null?(e.delete(a),t.add(d)):(e.append(a,u),t.delete(d))}}return{[LI]:!0,values:e,nulls:t}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fm=n=>{var e,t,i,r,a,u;if(typeof globalThis.process<"u")return(i=(t=(e=OV)===null||e===void 0?void 0:e[n])===null||t===void 0?void 0:t.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(u=(a=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||a===void 0?void 0:a.call(r,n))===null||u===void 0?void 0:u.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var OI;class Yf{constructor(e){var t,i,r,a,u,d,p,{baseURL:h=fm("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(t=fm("GEMINI_API_KEY"))!==null&&t!==void 0?t:null,apiVersion:E="v1beta"}=e,T=gf(e,["baseURL","apiKey","apiVersion"]);const I=Object.assign(Object.assign({apiKey:v,apiVersion:E},T),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=I.baseURL,this.timeout=(i=I.timeout)!==null&&i!==void 0?i:Yf.DEFAULT_TIMEOUT,this.logger=(r=I.logger)!==null&&r!==void 0?r:console;const D="warn";this.logLevel=D,this.logLevel=(u=(a=sA(I.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:sA(fm("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&u!==void 0?u:D,this.fetchOptions=I.fetchOptions,this.maxRetries=(d=I.maxRetries)!==null&&d!==void 0?d:2,this.fetch=(p=I.fetch)!==null&&p!==void 0?p:Q3(),this.encoder=Z3,this._options=I,this.apiKey=v,this.apiVersion=E,this.clientAdapter=I.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!t.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const t=iu([e.headers]);if(!(t.values.has("authorization")||t.values.has("x-goog-api-key"))){if(this.apiKey)return iu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return iu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([t,i])=>typeof i<"u").map(([t,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(t)}=`;throw new Wn(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${_a}`}defaultIdempotencyKey(){return`stainless-node-retry-${U3()}`}makeStatusError(e,t,i,r){return pn.generate(e,t,i,r)}buildURL(e,t,i){const r=!this.baseURLOverridden()&&i||this.baseURL,a=O3(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return H3(u)||(t=Object.assign(Object.assign({},u),t)),typeof t=="object"&&t&&!Array.isArray(t)&&(a.search=this.stringifyQuery(t)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const t=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${t}`}}async prepareRequest(e,{url:t,options:i}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,i){return this.request(Promise.resolve(i).then(r=>Object.assign({method:e,path:t},r)))}request(e,t=null){return new hy(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,i){var r,a,u;const d=await e,p=(r=d.maxRetries)!==null&&r!==void 0?r:this.maxRetries;t==null&&(t=p),await this.prepareOptions(d);const{req:h,url:v,timeout:E}=await this.buildRequest(d,{retryCount:p-t});await this.prepareRequest(h,{url:v,options:d});const T="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),I=i===void 0?"":`, retryOf: ${i}`,D=Date.now();if(fn(this).debug(`[${T}] sending request`,co({retryOfRequestLogID:i,method:d.method,url:v,options:d,headers:h.headers})),!((a=d.signal)===null||a===void 0)&&a.aborted)throw new ig;const L=new AbortController,k=await this.fetchWithTimeout(v,h,E,L).catch(ng),z=Date.now();if(k instanceof globalThis.Error){const j=`retrying, ${t} attempts remaining`;if(!((u=d.signal)===null||u===void 0)&&u.aborted)throw new ig;const oe=tg(k)||/timed? ?out/i.test(String(k)+("cause"in k?String(k.cause):""));if(t)return fn(this).info(`[${T}] connection ${oe?"timed out":"failed"} - ${j}`),fn(this).debug(`[${T}] connection ${oe?"timed out":"failed"} (${j})`,co({retryOfRequestLogID:i,url:v,durationMs:z-D,message:k.message})),this.retryRequest(d,t,i??T);throw fn(this).info(`[${T}] connection ${oe?"timed out":"failed"} - error; no more retries left`),fn(this).debug(`[${T}] connection ${oe?"timed out":"failed"} (error; no more retries left)`,co({retryOfRequestLogID:i,url:v,durationMs:z-D,message:k.message})),oe?new EI:new Jf({cause:k})}const Z=`[${T}${I}] ${h.method} ${v} ${k.ok?"succeeded":"failed"} with status ${k.status} in ${z-D}ms`;if(!k.ok){const j=await this.shouldRetry(k);if(t&&j){const N=`retrying, ${t} attempts remaining`;return await W3(k.body),fn(this).info(`${Z} - ${N}`),fn(this).debug(`[${T}] response error (${N})`,co({retryOfRequestLogID:i,url:k.url,status:k.status,headers:k.headers,durationMs:z-D})),this.retryRequest(d,t,i??T,k.headers)}const oe=j?"error; no more retries left":"error; not retryable";fn(this).info(`${Z} - ${oe}`);const Q=await k.text().catch(N=>ng(N).message),fe=q3(Q),M=fe?void 0:Q;throw fn(this).debug(`[${T}] response error (${oe})`,co({retryOfRequestLogID:i,url:k.url,status:k.status,headers:k.headers,message:M,durationMs:Date.now()-D})),this.makeStatusError(k.status,fe,M,k.headers)}return fn(this).info(Z),fn(this).debug(`[${T}] response start`,co({retryOfRequestLogID:i,url:k.url,status:k.status,headers:k.headers,durationMs:z-D})),{response:k,options:d,controller:L,requestLogID:T,retryOfRequestLogID:i,startTime:D}}async fetchWithTimeout(e,t,i,r){const a=t||{},{signal:u,method:d}=a,p=gf(a,["signal","method"]),h=r.abort.bind(r);u&&u.addEventListener("abort",h,{once:!0});const v=setTimeout(h,i),E=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,T=Object.assign(Object.assign(Object.assign({signal:r.signal},E?{duplex:"half"}:{}),{method:"GET"}),p);d&&(T.method=d.toUpperCase());try{return await this.fetch.call(void 0,e,T)}finally{clearTimeout(v)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,i,r){var a;let u;const d=r==null?void 0:r.get("retry-after-ms");if(d){const h=parseFloat(d);Number.isNaN(h)||(u=h)}const p=r==null?void 0:r.get("retry-after");if(p&&!u){const h=parseFloat(p);Number.isNaN(h)?u=Date.parse(p)-Date.now():u=h*1e3}if(!(u&&0<=u&&u<60*1e3)){const h=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(t,h)}return await J3(u),this.makeRequest(e,t-1,i)}calculateDefaultRetryTimeoutMillis(e,t){const a=t-e,u=Math.min(.5*Math.pow(2,a),8),d=1-Math.random()*.25;return u*d*1e3}async buildRequest(e,{retryCount:t=0}={}){var i,r,a;const u=Object.assign({},e),{method:d,path:p,query:h,defaultBaseURL:v}=u,E=this.buildURL(p,h,v);"timeout"in u&&z3("timeout",u.timeout),u.timeout=(i=u.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:T,body:I}=this.buildBody({options:u}),D=await this.buildHeaders({options:e,method:d,bodyHeaders:T,retryCount:t});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:d,headers:D},u.signal&&{signal:u.signal}),globalThis.ReadableStream&&I instanceof globalThis.ReadableStream&&{duplex:"half"}),I&&{body:I}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(a=u.fetchOptions)!==null&&a!==void 0?a:{}),url:E,timeout:u.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:i,retryCount:r}){let a={};this.idempotencyHeader&&t!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const u=await this.authHeaders(e);let d=iu([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),j3()),this._options.defaultHeaders,i,e.headers,u]);return this.validateHeaders(d),d.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=iu([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:X3(e)}:this.encoder({body:e,headers:i})}}Yf.DEFAULT_TIMEOUT=6e4;class Kt extends Yf{constructor(){super(...arguments),this.interactions=new UI(this)}}OI=Kt;Kt.GeminiNextGenAPIClient=OI;Kt.GeminiNextGenAPIClientError=Wn;Kt.APIError=pn;Kt.APIConnectionError=Jf;Kt.APIConnectionTimeoutError=EI;Kt.APIUserAbortError=ig;Kt.NotFoundError=CI;Kt.ConflictError=wI;Kt.RateLimitError=xI;Kt.BadRequestError=TI;Kt.AuthenticationError=SI;Kt.InternalServerError=RI;Kt.PermissionDeniedError=AI;Kt.UnprocessableEntityError=II;Kt.toFile=s5;Kt.Interactions=UI;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function y5(n,e){const t={},i=f(n,["name"]);return i!=null&&m(t,["_url","name"],i),t}function v5(n,e){const t={},i=f(n,["name"]);return i!=null&&m(t,["_url","name"],i),t}function _5(n,e){const t={},i=f(n,["sdkHttpResponse"]);return i!=null&&m(t,["sdkHttpResponse"],i),t}function E5(n,e){const t={},i=f(n,["sdkHttpResponse"]);return i!=null&&m(t,["sdkHttpResponse"],i),t}function T5(n,e,t){const i={};if(f(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=f(n,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&m(e,["displayName"],r),f(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=f(n,["epochCount"]);e!==void 0&&a!=null&&m(e,["tuningTask","hyperparameters","epochCount"],a);const u=f(n,["learningRateMultiplier"]);if(u!=null&&m(i,["tuningTask","hyperparameters","learningRateMultiplier"],u),f(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(f(n,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(f(n,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const d=f(n,["batchSize"]);e!==void 0&&d!=null&&m(e,["tuningTask","hyperparameters","batchSize"],d);const p=f(n,["learningRate"]);if(e!==void 0&&p!=null&&m(e,["tuningTask","hyperparameters","learningRate"],p),f(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(f(n,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(f(n,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(f(n,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(f(n,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return i}function S5(n,e,t){const i={};let r=f(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const Q=f(n,["validationDataset"]);e!==void 0&&Q!=null&&m(e,["supervisedTuningSpec"],hm(Q))}else if(r==="PREFERENCE_TUNING"){const Q=f(n,["validationDataset"]);e!==void 0&&Q!=null&&m(e,["preferenceOptimizationSpec"],hm(Q))}else if(r==="DISTILLATION"){const Q=f(n,["validationDataset"]);e!==void 0&&Q!=null&&m(e,["distillationSpec"],hm(Q))}const a=f(n,["tunedModelDisplayName"]);e!==void 0&&a!=null&&m(e,["tunedModelDisplayName"],a);const u=f(n,["description"]);e!==void 0&&u!=null&&m(e,["description"],u);let d=f(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const Q=f(n,["epochCount"]);e!==void 0&&Q!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],Q)}else if(d==="PREFERENCE_TUNING"){const Q=f(n,["epochCount"]);e!==void 0&&Q!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],Q)}else if(d==="DISTILLATION"){const Q=f(n,["epochCount"]);e!==void 0&&Q!=null&&m(e,["distillationSpec","hyperParameters","epochCount"],Q)}let p=f(t,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const Q=f(n,["learningRateMultiplier"]);e!==void 0&&Q!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],Q)}else if(p==="PREFERENCE_TUNING"){const Q=f(n,["learningRateMultiplier"]);e!==void 0&&Q!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],Q)}else if(p==="DISTILLATION"){const Q=f(n,["learningRateMultiplier"]);e!==void 0&&Q!=null&&m(e,["distillationSpec","hyperParameters","learningRateMultiplier"],Q)}let h=f(t,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const Q=f(n,["exportLastCheckpointOnly"]);e!==void 0&&Q!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],Q)}else if(h==="PREFERENCE_TUNING"){const Q=f(n,["exportLastCheckpointOnly"]);e!==void 0&&Q!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],Q)}else if(h==="DISTILLATION"){const Q=f(n,["exportLastCheckpointOnly"]);e!==void 0&&Q!=null&&m(e,["distillationSpec","exportLastCheckpointOnly"],Q)}let v=f(t,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const Q=f(n,["adapterSize"]);e!==void 0&&Q!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],Q)}else if(v==="PREFERENCE_TUNING"){const Q=f(n,["adapterSize"]);e!==void 0&&Q!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],Q)}else if(v==="DISTILLATION"){const Q=f(n,["adapterSize"]);e!==void 0&&Q!=null&&m(e,["distillationSpec","hyperParameters","adapterSize"],Q)}let E=f(t,["config","method"]);if(E===void 0&&(E="SUPERVISED_FINE_TUNING"),E==="SUPERVISED_FINE_TUNING"){const Q=f(n,["tuningMode"]);e!==void 0&&Q!=null&&m(e,["supervisedTuningSpec","tuningMode"],Q)}const T=f(n,["customBaseModel"]);e!==void 0&&T!=null&&m(e,["customBaseModel"],T);let I=f(t,["config","method"]);if(I===void 0&&(I="SUPERVISED_FINE_TUNING"),I==="SUPERVISED_FINE_TUNING"){const Q=f(n,["batchSize"]);e!==void 0&&Q!=null&&m(e,["supervisedTuningSpec","hyperParameters","batchSize"],Q)}let D=f(t,["config","method"]);if(D===void 0&&(D="SUPERVISED_FINE_TUNING"),D==="SUPERVISED_FINE_TUNING"){const Q=f(n,["learningRate"]);e!==void 0&&Q!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRate"],Q)}const L=f(n,["labels"]);e!==void 0&&L!=null&&m(e,["labels"],L);const k=f(n,["beta"]);e!==void 0&&k!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],k);const z=f(n,["baseTeacherModel"]);e!==void 0&&z!=null&&m(e,["distillationSpec","baseTeacherModel"],z);const Z=f(n,["tunedTeacherModelSource"]);e!==void 0&&Z!=null&&m(e,["distillationSpec","tunedTeacherModelSource"],Z);const j=f(n,["sftLossWeightMultiplier"]);e!==void 0&&j!=null&&m(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],j);const oe=f(n,["outputUri"]);return e!==void 0&&oe!=null&&m(e,["outputUri"],oe),i}function A5(n,e){const t={},i=f(n,["baseModel"]);i!=null&&m(t,["baseModel"],i);const r=f(n,["preTunedModel"]);r!=null&&m(t,["preTunedModel"],r);const a=f(n,["trainingDataset"]);a!=null&&P5(a);const u=f(n,["config"]);return u!=null&&T5(u,t),t}function C5(n,e){const t={},i=f(n,["baseModel"]);i!=null&&m(t,["baseModel"],i);const r=f(n,["preTunedModel"]);r!=null&&m(t,["preTunedModel"],r);const a=f(n,["trainingDataset"]);a!=null&&V5(a,t,e);const u=f(n,["config"]);return u!=null&&S5(u,t,e),t}function w5(n,e){const t={},i=f(n,["name"]);return i!=null&&m(t,["_url","name"],i),t}function I5(n,e){const t={},i=f(n,["name"]);return i!=null&&m(t,["_url","name"],i),t}function x5(n,e,t){const i={},r=f(n,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const a=f(n,["pageToken"]);e!==void 0&&a!=null&&m(e,["_query","pageToken"],a);const u=f(n,["filter"]);return e!==void 0&&u!=null&&m(e,["_query","filter"],u),i}function R5(n,e,t){const i={},r=f(n,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const a=f(n,["pageToken"]);e!==void 0&&a!=null&&m(e,["_query","pageToken"],a);const u=f(n,["filter"]);return e!==void 0&&u!=null&&m(e,["_query","filter"],u),i}function b5(n,e){const t={},i=f(n,["config"]);return i!=null&&x5(i,t),t}function N5(n,e){const t={},i=f(n,["config"]);return i!=null&&R5(i,t),t}function M5(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&m(t,["sdkHttpResponse"],i);const r=f(n,["nextPageToken"]);r!=null&&m(t,["nextPageToken"],r);const a=f(n,["tunedModels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>FI(d))),m(t,["tuningJobs"],u)}return t}function D5(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&m(t,["sdkHttpResponse"],i);const r=f(n,["nextPageToken"]);r!=null&&m(t,["nextPageToken"],r);const a=f(n,["tuningJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>og(d))),m(t,["tuningJobs"],u)}return t}function k5(n,e){const t={},i=f(n,["name"]);i!=null&&m(t,["model"],i);const r=f(n,["name"]);return r!=null&&m(t,["endpoint"],r),t}function P5(n,e){const t={};if(f(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=f(n,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),m(t,["examples","examples"],r)}return t}function V5(n,e,t){const i={};let r=f(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const u=f(n,["gcsUri"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(r==="PREFERENCE_TUNING"){const u=f(n,["gcsUri"]);e!==void 0&&u!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}else if(r==="DISTILLATION"){const u=f(n,["gcsUri"]);e!==void 0&&u!=null&&m(e,["distillationSpec","promptDatasetUri"],u)}let a=f(t,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const u=f(n,["vertexDatasetResource"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(a==="PREFERENCE_TUNING"){const u=f(n,["vertexDatasetResource"]);e!==void 0&&u!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}else if(a==="DISTILLATION"){const u=f(n,["vertexDatasetResource"]);e!==void 0&&u!=null&&m(e,["distillationSpec","promptDatasetUri"],u)}if(f(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function FI(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&m(t,["sdkHttpResponse"],i);const r=f(n,["name"]);r!=null&&m(t,["name"],r);const a=f(n,["state"]);a!=null&&m(t,["state"],tI(a));const u=f(n,["createTime"]);u!=null&&m(t,["createTime"],u);const d=f(n,["tuningTask","startTime"]);d!=null&&m(t,["startTime"],d);const p=f(n,["tuningTask","completeTime"]);p!=null&&m(t,["endTime"],p);const h=f(n,["updateTime"]);h!=null&&m(t,["updateTime"],h);const v=f(n,["description"]);v!=null&&m(t,["description"],v);const E=f(n,["baseModel"]);E!=null&&m(t,["baseModel"],E);const T=f(n,["_self"]);return T!=null&&m(t,["tunedModel"],k5(T)),t}function og(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&m(t,["sdkHttpResponse"],i);const r=f(n,["name"]);r!=null&&m(t,["name"],r);const a=f(n,["state"]);a!=null&&m(t,["state"],tI(a));const u=f(n,["createTime"]);u!=null&&m(t,["createTime"],u);const d=f(n,["startTime"]);d!=null&&m(t,["startTime"],d);const p=f(n,["endTime"]);p!=null&&m(t,["endTime"],p);const h=f(n,["updateTime"]);h!=null&&m(t,["updateTime"],h);const v=f(n,["error"]);v!=null&&m(t,["error"],v);const E=f(n,["description"]);E!=null&&m(t,["description"],E);const T=f(n,["baseModel"]);T!=null&&m(t,["baseModel"],T);const I=f(n,["tunedModel"]);I!=null&&m(t,["tunedModel"],I);const D=f(n,["preTunedModel"]);D!=null&&m(t,["preTunedModel"],D);const L=f(n,["supervisedTuningSpec"]);L!=null&&m(t,["supervisedTuningSpec"],L);const k=f(n,["preferenceOptimizationSpec"]);k!=null&&m(t,["preferenceOptimizationSpec"],k);const z=f(n,["distillationSpec"]);z!=null&&m(t,["distillationSpec"],z);const Z=f(n,["tuningDataStats"]);Z!=null&&m(t,["tuningDataStats"],Z);const j=f(n,["encryptionSpec"]);j!=null&&m(t,["encryptionSpec"],j);const oe=f(n,["partnerModelTuningSpec"]);oe!=null&&m(t,["partnerModelTuningSpec"],oe);const Q=f(n,["customBaseModel"]);Q!=null&&m(t,["customBaseModel"],Q);const fe=f(n,["experiment"]);fe!=null&&m(t,["experiment"],fe);const M=f(n,["labels"]);M!=null&&m(t,["labels"],M);const b=f(n,["outputUri"]);b!=null&&m(t,["outputUri"],b);const N=f(n,["pipelineJob"]);N!=null&&m(t,["pipelineJob"],N);const V=f(n,["serviceAccount"]);V!=null&&m(t,["serviceAccount"],V);const U=f(n,["tunedModelDisplayName"]);U!=null&&m(t,["tunedModelDisplayName"],U);const H=f(n,["veoTuningSpec"]);return H!=null&&m(t,["veoTuningSpec"],H),t}function U5(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&m(t,["sdkHttpResponse"],i);const r=f(n,["name"]);r!=null&&m(t,["name"],r);const a=f(n,["metadata"]);a!=null&&m(t,["metadata"],a);const u=f(n,["done"]);u!=null&&m(t,["done"],u);const d=f(n,["error"]);return d!=null&&m(t,["error"],d),t}function hm(n,e){const t={},i=f(n,["gcsUri"]);i!=null&&m(t,["validationDatasetUri"],i);const r=f(n,["vertexDatasetResource"]);return r!=null&&m(t,["validationDatasetUri"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L5 extends As{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new wo(Ts.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.get=async t=>await this.getInternal(t),this.tune=async t=>{var i;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const r={tunedModelName:t.baseModel};!((i=t.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(r.checkpointId=t.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},t),{preTunedModel:r});return a.baseModel=void 0,await this.tuneInternal(a)}else{const r=Object.assign({},t);return await this.tuneInternal(r)}else{const r=Object.assign({},t),a=await this.tuneMldevInternal(r);let u="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?u=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(u=a.name.split("/operations/")[0]),{name:u,state:Ym.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=I5(e);return d=ge("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>og(v))}else{const h=w5(e);return d=ge("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>FI(v))}}async listInternal(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=N5(e);return d=ge("tuningJobs",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=D5(v),T=new DS;return Object.assign(T,E),T})}else{const h=b5(e);return d=ge("tunedModels",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=M5(v),T=new DS;return Object.assign(T,E),T})}}async cancel(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=v5(e);return d=ge("{name}:cancel",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=E5(v),T=new kS;return Object.assign(T,E),T})}else{const h=y5(e);return d=ge("{name}:cancel",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=_5(v),T=new kS;return Object.assign(T,E),T})}}async tuneInternal(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=C5(e,e);return a=ge("tuningJobs",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),r.then(p=>og(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=A5(e);return a=ge("tunedModels",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),r.then(p=>U5(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class O5{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const F5=1024*1024*8,G5=3,H5=1e3,B5=2,vf="x-goog-upload-status";async function z5(n,e,t){var i;const r=await GI(n,e,t),a=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[vf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function q5(n,e,t){var i;const r=await GI(n,e,t),a=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[vf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=jw(a),d=new oy;return Object.assign(d,u),d}async function GI(n,e,t){var i,r;let a=0,u=0,d=new jm(new Response),p="upload";for(a=n.size;u<a;){const h=Math.min(F5,a-u),v=n.slice(u,u+h);u+h>=a&&(p+=", finalize");let E=0,T=H5;for(;E<G5&&(d=await t.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(u),"Content-Length":String(h)}}}),!(!((i=d==null?void 0:d.headers)===null||i===void 0)&&i[vf]));)E++,await K5(T),T=T*B5;if(u+=h,((r=d==null?void 0:d.headers)===null||r===void 0?void 0:r[vf])!=="active")break;if(a<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return d}async function J5(n){return{size:n.size,type:n.type}}function K5(n){return new Promise(e=>setTimeout(e,n))}class Y5{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await z5(e,t,i)}async uploadToFileSearchStore(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await q5(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await J5(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $5{create(e,t,i){return new j5(e,t,i)}}class j5{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oA="x-goog-api-key";class Q5{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(oA)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(oA,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const X5="gl-node/";class W5{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const t=new Kt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=t.interactions,this._interactions}constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=BV(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new Q5(this.apiKey);this.apiClient=new J6({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:X5+"web",uploader:new Y5,downloader:new O5}),this.models=new c3(this.apiClient),this.live=new s3(this.apiClient,r,new $5),this.batches=new vL(this.apiClient),this.chats=new ZL(this.models,this.apiClient),this.caches=new QL(this.apiClient),this.files=new d4(this.apiClient),this.operations=new d3(this.apiClient),this.authTokens=new x3(this.apiClient),this.tunings=new L5(this.apiClient),this.fileSearchStores=new V3(this.apiClient)}}const Z5=({user:n,setUser:e})=>{const t=xr(),[i,r]=ne.useState(null),[a,u]=ne.useState(!1),[d,p]=ne.useState("Initializing Neural Node..."),[h,v]=ne.useState(null),[E,T]=ne.useState(null),[I,D]=ne.useState(null),[L,k]=ne.useState(!1),[z,Z]=ne.useState(!1),[j,oe]=ne.useState(!1),Q=ne.useRef(null),fe=ne.useRef(null);ne.useEffect(()=>{i&&!a&&!h&&N()},[i]);const M=he=>{var K;const Ce=(K=he.target.files)==null?void 0:K[0];if(Ce){const ae=new FileReader;ae.onloadend=()=>{r(ae.result),v(null),D(null),k(!1),Z(!1),p("Optimizing Visuals...")},ae.readAsDataURL(Ce)}},b=async he=>new Promise(Ce=>{const K=new Image;K.src=he,K.onload=()=>{const ae=document.createElement("canvas"),pe=1200,be=1200;let ke=K.width,F=K.height;ke>F?ke>pe&&(F*=pe/ke,ke=pe):F>be&&(ke*=be/F,F=be),ae.width=ke,ae.height=F;const te=ae.getContext("2d");te==null||te.drawImage(K,0,0,ke,F),Ce(ae.toDataURL("image/jpeg",.85).split(",")[1])}}),N=async()=>{var Ce,K;if(!i)return;u(!0),D(null);const he=setTimeout(()=>{a&&(u(!1),D("Neural connection timed out. Check your connectivity."))},3e4);try{p("Shrinking Data Packet...");const ae=await b(i);p("AI Neural Extraction...");const pe=new W5({apiKey:void 0}),ke=await(await fetch("subjects.json")).json(),F=await pe.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{mimeType:"image/jpeg",data:ae}},{text:`Extract results from this university marksheet. 
              Output JSON: {detectedDepartment, detectedSemester, results: [{code, grade}]}.`}]},config:{responseMimeType:"application/json",responseSchema:{type:hn.OBJECT,properties:{detectedDepartment:{type:hn.STRING},detectedSemester:{type:hn.NUMBER},results:{type:hn.ARRAY,items:{type:hn.OBJECT,properties:{code:{type:hn.STRING},grade:{type:hn.STRING}},required:["code","grade"]}}},required:["detectedDepartment","detectedSemester","results"]}}});p("Registry Verification...");const te=F.text;if(!te)throw new Error("Neural Node returned an empty vector.");const ce=JSON.parse(te);let me=ke.departments.find(Oe=>ce.detectedDepartment.toLowerCase().includes(Oe.id.toLowerCase())||Oe.name.toLowerCase().includes(ce.detectedDepartment.toLowerCase()));const ue=(me==null?void 0:me.id)||"CSE",ye=((Ce=ce.detectedSemester)==null?void 0:Ce.toString())||"1",Se=((K=me||ke.departments[0])==null?void 0:K.semesters[ye])||[],We=ce.results.map(Oe=>{const mn=Oe.code.replace(/[^A-Z0-9]/g,"").toUpperCase(),wt=Se.find(ws=>ws.code.toUpperCase()===mn);return{code:(wt==null?void 0:wt.code)||mn,name:(wt==null?void 0:wt.name)||"Unverified Subject",credits:(wt==null?void 0:wt.credits)||3,grade:Jm[Oe.grade]!==void 0?Oe.grade:"RA"}}).filter(Oe=>Oe.code.length>=4);if(We.length===0)throw new Error("Zero records detected. Is the image clear?");V(ue,ce.detectedSemester||1,We),clearTimeout(he)}catch(ae){console.error(ae),D(ae.message||"Extraction failed.")}finally{u(!1)}},V=(he,Ce,K)=>{let ae=0,pe=0;K.forEach(be=>{const ke=Jm[be.grade]||0;ae+=ke*be.credits,pe+=be.credits}),v({departmentId:he,semester:Ce,gpa:pe>0?ae/pe:0,results:K})},U=(he,Ce)=>{const K=[...h.results];K[he]={...K[he],grade:Ce},V(h.departmentId,h.semester,K),T(null)},H=({grade:he,isCurrent:Ce,onSelect:K})=>{const ae=he==="RA";return C.jsx("button",{onClick:K,className:`flex-1 h-14 rounded-2xl font-black text-sm transition-all active:scale-90 flex items-center justify-center border-2 ${Ce?ae?"bg-rose-500 border-rose-500 text-white shadow-lg shadow-rose-500/30":"bg-brand-600 border-brand-600 text-white shadow-lg shadow-brand-500/30":ae?"bg-rose-50 dark:bg-rose-950/20 border-rose-100 dark:border-rose-900 text-rose-500 hover:bg-rose-100 dark:hover:bg-rose-900/40":"bg-slate-50 dark:bg-slate-800 border-slate-100 dark:border-slate-700 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700/50"}`,children:he})},P=()=>{if(!h||L||!z)return;const he={id:Math.random().toString(36).substr(2,9),semester:h.semester,gpa:h.gpa,department:h.departmentId,date:new Date().toISOString(),subjects:h.results},Ce=n.gpaHistory.filter(K=>K.semester!==h.semester);e({...n,gpaHistory:[he,...Ce]}),k(!0),n.isGuest&&oe(!0)};return C.jsxs("div",{className:"space-y-10 animate-in fade-in slide-in-from-bottom-6 duration-700 pb-20",children:[j&&C.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-6 bg-surface-950/60 backdrop-blur-xl animate-in fade-in duration-300",children:C.jsxs("div",{className:"w-full max-sm bg-white dark:bg-surface-900 p-10 rounded-[3rem] shadow-2xl text-center space-y-6",children:[C.jsx("div",{className:"w-20 h-20 bg-brand-600/10 text-brand-600 rounded-full flex items-center justify-center mx-auto",children:C.jsx(Ef,{size:32})}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("h3",{className:"text-2xl font-black dark:text-white",children:"Profile Synchronized"}),C.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"This record is currently stored locally."})]}),C.jsx("button",{onClick:()=>t("/login"),className:"w-full py-4 bg-brand-600 text-white font-black rounded-2xl uppercase tracking-widest text-[10px] shadow-lg active:scale-95 transition-all",children:"Secure Login"}),C.jsx("button",{onClick:()=>oe(!1),className:"w-full py-4 bg-slate-100 dark:bg-surface-800 text-slate-500 font-black rounded-2xl uppercase tracking-widest text-[10px]",children:"Continue Locally"})]})}),C.jsx("div",{className:"flex justify-between items-end px-2",children:C.jsxs("div",{className:"space-y-1",children:[C.jsxs("h2",{className:"text-4xl font-black tracking-tighter dark:text-white flex items-center gap-3",children:["Visual ",C.jsx("span",{className:"text-brand-600",children:"Scan"})]}),C.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"Analyze results instantly with AI vision."})]})}),i?C.jsxs("div",{className:"space-y-8 animate-in slide-in-from-bottom-4",children:[C.jsxs("div",{className:"relative rounded-[3rem] overflow-hidden border-4 border-white dark:border-surface-800 shadow-2xl bg-slate-900 aspect-video max-h-[450px] flex items-center justify-center group",children:[C.jsx("img",{src:i,alt:"Preview",className:"w-full h-full object-contain"}),a&&C.jsxs("div",{className:"absolute inset-0 bg-brand-950/80 backdrop-blur-md flex items-center justify-center z-20",children:[C.jsxs("div",{className:"flex flex-col items-center gap-8",children:[C.jsxs("div",{className:"relative w-24 h-24",children:[C.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-white/20"}),C.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-brand-500 border-t-transparent animate-spin"}),C.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:C.jsx(kb,{className:"text-brand-400 animate-pulse",size:32})})]}),C.jsx("p",{className:"text-white font-black uppercase tracking-[0.5em] text-[11px] animate-pulse",children:d})]}),C.jsx("div",{className:"absolute inset-x-0 w-full h-[2px] bg-brand-400 shadow-[0_0_25px_rgba(129,140,248,1)] animate-scan-line"})]})]}),I&&C.jsxs("div",{className:"p-8 bg-rose-500/10 border border-rose-500/20 rounded-[2.5rem] text-rose-500 font-bold flex items-center gap-5",children:[C.jsx(Bb,{className:"shrink-0",size:32}),C.jsxs("div",{className:"flex-1",children:[C.jsx("p",{className:"text-base font-black",children:"Scan Failure"}),C.jsx("p",{className:"text-sm opacity-80 mt-1",children:I})]})]}),h&&C.jsxs("div",{className:"space-y-10 animate-in fade-in slide-in-from-top-6",children:[C.jsxs("div",{className:"bg-white dark:bg-surface-900 rounded-[3.5rem] border border-slate-100 dark:border-slate-800 shadow-2xl overflow-hidden",children:[C.jsxs("div",{className:"p-12 bg-gradient-to-br from-brand-600 to-brand-800 text-white flex flex-col md:flex-row justify-between items-center gap-8 relative overflow-hidden",children:[C.jsxs("div",{className:"space-y-3 relative z-10 text-center md:text-left",children:[C.jsxs("div",{className:"px-3 py-1 bg-white/20 rounded-lg text-[10px] font-black uppercase tracking-widest inline-flex items-center gap-2 mb-2",children:[C.jsx(Bd,{size:12})," Analysis Verified"]}),C.jsxs("h3",{className:"text-4xl font-black leading-tight tracking-tight",children:[h.departmentId," ",C.jsxs("span",{className:"text-brand-300",children:["Sem ",h.semester]})]})]}),C.jsxs("div",{className:"text-center md:text-right relative z-10 bg-white/10 backdrop-blur-xl p-8 rounded-[3rem] border border-white/20 min-w-[200px] shadow-2xl",children:[C.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] opacity-80 mb-2",children:"Calculated GPA"}),C.jsx("p",{className:"text-7xl font-black tracking-tighter leading-none",children:h.gpa.toFixed(2)})]})]}),C.jsx("div",{className:"p-6 md:p-10 space-y-4 no-scrollbar max-h-[700px] overflow-y-auto",children:h.results.map((he,Ce)=>{const K=E===Ce;return C.jsxs("div",{className:`relative transition-all duration-500 rounded-[2.5rem] overflow-hidden ${K?"ring-4 ring-brand-500/20 shadow-2xl scale-[1.02] z-20":"bg-slate-50 dark:bg-slate-900/40 border border-slate-100 dark:border-slate-800 shadow-sm"}`,children:[C.jsxs("div",{className:`p-6 md:p-8 flex flex-col md:flex-row items-center justify-between gap-6 ${K?"bg-white dark:bg-surface-900":""}`,children:[C.jsxs("div",{className:"text-center md:text-left flex-1",children:[C.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-3 mb-1",children:[C.jsx("span",{className:"px-3 py-1 bg-brand-600/10 text-brand-600 dark:text-brand-400 text-[10px] font-black rounded-lg uppercase tracking-widest",children:he.code}),C.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[he.credits," Credits"]})]}),C.jsx("h4",{className:"font-bold text-slate-800 dark:text-slate-200 text-lg md:text-xl leading-tight",children:he.name})]}),C.jsx("div",{className:"shrink-0 flex items-center gap-4",children:K?C.jsx("button",{onClick:()=>T(null),className:"p-5 bg-slate-100 dark:bg-slate-800 text-slate-400 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 transition-all",children:C.jsx(Tf,{size:24})}):C.jsxs("button",{onClick:()=>T(Ce),className:`px-10 py-5 rounded-[2rem] font-black text-3xl transition-all hover:scale-105 active:scale-95 flex items-center gap-5 group ${he.grade==="RA"?"bg-rose-500 text-white shadow-lg shadow-rose-500/30":"bg-white dark:bg-slate-800 text-brand-600 dark:text-white border-2 border-slate-100 dark:border-slate-700 shadow-sm"}`,children:[C.jsx("span",{children:he.grade}),C.jsx(Zb,{size:18,className:"opacity-30 group-hover:opacity-100 transition-opacity"})]})})]}),K&&C.jsxs("div",{className:"p-8 bg-slate-50 dark:bg-slate-950/50 border-t border-slate-100 dark:border-slate-800 animate-in slide-in-from-top-4",children:[C.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest text-center mb-6",children:"Select Correct Grade"}),C.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-7 gap-3",children:["O","A+","A","B+","B","C","RA"].map(ae=>C.jsx(H,{grade:ae,isCurrent:he.grade===ae,onSelect:()=>U(Ce,ae)},ae))})]})]},Ce)})})]}),C.jsxs("div",{className:"flex flex-col gap-8 max-w-4xl mx-auto w-full px-2",children:[C.jsxs("div",{onClick:()=>Z(!z),className:`group cursor-pointer flex items-center gap-6 px-10 py-8 rounded-[3rem] transition-all duration-300 border-2 w-full ${z?"bg-emerald-500/10 border-emerald-500/30":"bg-slate-100 dark:bg-slate-800 border-transparent"}`,children:[C.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center transition-all ${z?"bg-emerald-500 text-white scale-110 shadow-xl":"bg-slate-300 dark:bg-slate-700 text-transparent"}`,children:C.jsx(Ob,{size:32,strokeWidth:3})}),C.jsxs("div",{className:"flex flex-col text-left flex-1",children:[C.jsx("span",{className:`text-[15px] font-black uppercase tracking-widest ${z?"text-emerald-600":"text-slate-500"}`,children:"Verify Accuracy"}),C.jsx("span",{className:"text-[13px] font-bold text-slate-400",children:"I have reviewed and corrected the grades."})]})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full",children:[C.jsx("button",{onClick:P,disabled:L||!z,className:`py-7 rounded-[2.5rem] font-black uppercase tracking-widest text-[12px] flex items-center justify-center gap-3 shadow-2xl transition-all ${L?"bg-emerald-500 text-white":z?"bg-brand-600 text-white hover:bg-brand-700 active:scale-95":"bg-slate-200 dark:bg-surface-800 text-slate-400 cursor-not-allowed"}`,children:L?C.jsxs(C.Fragment,{children:[C.jsx(Bd,{size:20})," Saved to Registry"]}):C.jsxs(C.Fragment,{children:[C.jsx(Kb,{size:20})," Commit to Ledger"]})}),C.jsxs("button",{onClick:()=>{r(null),v(null),D(null)},className:"py-7 bg-white dark:bg-surface-800 text-slate-500 dark:text-slate-300 font-black rounded-[2.5rem] uppercase tracking-widest text-[12px] active:scale-95 transition-all flex items-center justify-center gap-3 border border-slate-200 dark:border-slate-700 shadow-md",children:["Scan New Marksheet ",C.jsx(AA,{size:18})]})]})]})]})]}):C.jsxs("div",{className:"bg-white dark:bg-surface-900 p-12 rounded-[3.5rem] border-2 border-dashed border-slate-200 dark:border-slate-800/50 text-center space-y-10 flex flex-col items-center justify-center min-h-[480px] shadow-2xl relative overflow-hidden",children:[C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 w-full max-w-4xl mx-auto",children:[C.jsxs("div",{className:"space-y-8 flex flex-col items-center justify-center",children:[C.jsxs("div",{className:"relative",children:[C.jsx("div",{className:"w-32 h-32 bg-brand-600/10 text-brand-600 rounded-full flex items-center justify-center",children:C.jsx(qb,{size:64,className:"animate-float"})}),C.jsx("div",{className:"absolute -inset-4 border border-brand-500/20 rounded-full animate-pulse"})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("h3",{className:"text-2xl font-black dark:text-white",children:"Instant Capture"}),C.jsx("p",{className:"text-slate-400 max-w-xs mx-auto text-sm font-medium",children:"Flash-speed analysis of academic marksheets."})]}),C.jsxs("div",{className:"flex flex-col gap-4 w-full relative z-10",children:[C.jsxs("button",{onClick:()=>{var he;return(he=fe.current)==null?void 0:he.click()},className:"w-full py-5 bg-brand-600 text-white font-black rounded-3xl shadow-xl shadow-brand-600/30 active:scale-95 transition-all uppercase tracking-widest text-[10px] flex items-center justify-center gap-3",children:[C.jsx(TA,{size:18})," Snap Photo"]}),C.jsxs("button",{onClick:()=>{var he;return(he=Q.current)==null?void 0:he.click()},className:"w-full py-5 bg-slate-100 dark:bg-surface-800 text-slate-600 dark:text-slate-300 font-black rounded-3xl active:scale-95 transition-all uppercase tracking-widest text-[10px] flex items-center justify-center gap-3",children:[C.jsx(Yb,{size:18})," Upload Results"]})]})]}),C.jsxs("div",{className:"bg-slate-50 dark:bg-surface-950 p-8 rounded-[2.5rem] text-left space-y-6 border border-slate-100 dark:border-slate-800",children:[C.jsxs("h4",{className:"font-black text-xs uppercase text-brand-600 tracking-widest flex items-center gap-2",children:[C.jsx(zb,{size:16})," Extraction Tips"]}),C.jsx("ul",{className:"space-y-4",children:["Focus directly on the grade column.","Higher contrast speeds up AI processing.","Ensure your Register Number is visible."].map((he,Ce)=>C.jsxs("li",{className:"flex gap-3 items-start",children:[C.jsx("div",{className:"w-5 h-5 rounded-full bg-brand-500/20 text-brand-600 flex items-center justify-center text-[10px] font-black shrink-0",children:Ce+1}),C.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:he})]},Ce))})]})]}),C.jsx("input",{type:"file",ref:fe,onChange:M,accept:"image/*",capture:"environment",className:"hidden"}),C.jsx("input",{type:"file",ref:Q,onChange:M,accept:"image/*",className:"hidden"})]})]})},e9=({user:n,setUser:e})=>{const t=xr(),i=ne.useRef(null),[r,a]=ne.useState(!1),u=()=>{e(null),a(!1),t("/gpa")},d=p=>{var v;const h=(v=p.target.files)==null?void 0:v[0];if(h){const E=new FileReader;E.onloadend=()=>e({...n,profilePicture:E.result}),E.readAsDataURL(h)}};return C.jsxs("div",{className:"max-w-4xl mx-auto space-y-10 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-20",children:[r&&C.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-6 bg-slate-950/60 backdrop-blur-md",children:C.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-[#1a2333] p-8 rounded-[3rem] shadow-2xl text-center space-y-6",children:[C.jsx("div",{className:"w-20 h-20 bg-red-500/10 text-red-500 rounded-full flex items-center justify-center mx-auto",children:C.jsx(o1,{size:32})}),C.jsx("h3",{className:"text-2xl font-black dark:text-white tracking-tight",children:n.isGuest?"Clear Data?":"Sign Out?"}),C.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:n.isGuest?"Your local calculation history will be permanently deleted.":"You can sign back in at any time to access your data."}),C.jsxs("div",{className:"flex flex-col gap-3",children:[C.jsx("button",{onClick:u,className:"w-full py-4 bg-red-600 text-white font-black rounded-2xl uppercase tracking-widest text-[10px] shadow-lg shadow-red-500/20",children:n.isGuest?"Clear Local Data":"Confirm Logout"}),C.jsx("button",{onClick:()=>a(!1),className:"w-full py-4 bg-slate-100 dark:bg-slate-800 text-slate-500 font-black rounded-2xl uppercase tracking-widest text-[10px]",children:"Cancel"})]})]})}),n.isGuest&&C.jsxs("div",{className:"bg-indigo-600 p-6 md:p-8 rounded-[3rem] text-white flex flex-col md:flex-row items-center justify-between gap-6 shadow-2xl shadow-indigo-500/30 overflow-hidden relative",children:[C.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:C.jsx(Ef,{size:120})}),C.jsxs("div",{className:"space-y-1 text-center md:text-left relative z-10",children:[C.jsx("h3",{className:"text-xl md:text-2xl font-black tracking-tight",children:"Upgrade Your Profile"}),C.jsx("p",{className:"text-indigo-100 font-medium text-sm",children:"Sign in to sync your history across devices and unlock achievements."})]}),C.jsx("button",{onClick:()=>t("/login"),className:"px-8 py-4 bg-white text-indigo-600 font-black rounded-2xl shadow-xl hover:scale-105 transition-all active:scale-95 uppercase tracking-widest text-[10px] whitespace-nowrap relative z-10",children:"Create Account"})]}),C.jsxs("div",{className:"bg-white dark:bg-[#1a2333] p-10 md:p-12 rounded-[4rem] border border-slate-100 dark:border-slate-800 shadow-2xl flex flex-col md:flex-row items-center gap-8 relative overflow-hidden",children:[!n.isGuest&&C.jsx("div",{className:"absolute top-0 right-0 p-8",children:C.jsx("button",{onClick:()=>a(!0),className:"text-slate-400 hover:text-red-500 transition-colors p-2",children:C.jsx(Xb,{size:22})})}),C.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>{var p;return(p=i.current)==null?void 0:p.click()},children:[C.jsx("input",{type:"file",ref:i,className:"hidden",accept:"image/*",onChange:d}),C.jsxs("div",{className:"w-40 h-40 md:w-48 md:h-48 rounded-full overflow-hidden border-4 border-slate-50 dark:border-slate-800 shadow-2xl relative",children:[n.profilePicture?C.jsx("img",{src:n.profilePicture,className:"w-full h-full object-cover",alt:"Profile"}):C.jsx("div",{className:`w-full h-full ${n.isGuest?"bg-slate-400":"bg-indigo-600"} flex items-center justify-center text-white text-7xl font-black uppercase`,children:n.name.charAt(0)}),C.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:C.jsx(TA,{size:24,className:"text-white"})})]})]}),C.jsxs("div",{className:"text-center md:text-left",children:[C.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:gap-4",children:[C.jsx("h2",{className:"text-4xl md:text-5xl font-black text-slate-900 dark:text-white tracking-tighter",children:n.name}),n.isGuest&&C.jsx("span",{className:"mt-1 md:mt-0 px-3 py-1 bg-slate-100 dark:bg-slate-800 text-slate-400 font-black text-[10px] rounded-lg uppercase tracking-widest self-center md:self-auto",children:"Local Session"})]}),C.jsxs("p",{className:"text-indigo-600 dark:text-indigo-400 text-sm font-black uppercase tracking-[0.3em] mt-2",children:[n.role,"  ",n.registerNumber]})]})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[C.jsxs("div",{className:"bg-white dark:bg-[#1a2333] p-10 rounded-[3rem] border border-slate-100 dark:border-slate-800 shadow-xl space-y-8",children:[C.jsxs("h3",{className:"text-2xl font-black flex items-center space-x-3 text-slate-800 dark:text-white",children:[C.jsx(qd,{className:"text-indigo-600"})," ",C.jsx("span",{children:"Identity"})]}),C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"p-5 rounded-2xl bg-slate-50 dark:bg-slate-900/50",children:[C.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Registration ID"}),C.jsx("p",{className:"font-bold text-lg dark:text-white",children:n.registerNumber})]}),C.jsxs("div",{className:"p-5 rounded-2xl bg-slate-50 dark:bg-slate-900/50",children:[C.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Department"}),C.jsx("p",{className:"font-bold text-lg dark:text-white",children:n.department||"Not Specified"})]})]})]}),C.jsxs("div",{className:"bg-white dark:bg-[#1a2333] p-10 rounded-[3rem] border border-slate-100 dark:border-slate-800 shadow-xl space-y-8",children:[C.jsxs("h3",{className:"text-2xl font-black flex items-center space-x-3 text-slate-800 dark:text-white",children:[C.jsx(hg,{className:"text-emerald-500"})," ",C.jsx("span",{children:"Calculations"})]}),C.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-2 scrollbar-hide",children:n.gpaHistory.length>0||n.cgpaHistory.length>0?C.jsxs("div",{className:"space-y-4",children:[n.gpaHistory.sort((p,h)=>h.semester-p.semester).map(p=>C.jsxs("div",{className:"flex items-center justify-between p-5 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-transparent hover:border-indigo-500/20 transition-all",children:[C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx(Ub,{size:18,className:"text-slate-400"}),C.jsxs("div",{className:"flex flex-col",children:[C.jsxs("span",{className:"font-black text-[10px] text-slate-700 dark:text-slate-300 uppercase",children:["GPA Sem ",p.semester]}),n.isGuest&&C.jsxs("span",{className:"text-[8px] font-black text-slate-400 uppercase flex items-center gap-0.5",children:[C.jsx(zd,{size:8})," Local"]})]})]}),C.jsx("span",{className:`px-4 py-1.5 rounded-xl font-black text-sm ${p.gpa<5?"text-red-500 bg-red-500/10":p.gpa>=8.5?"text-emerald-500 bg-emerald-500/10":"text-indigo-600 bg-indigo-500/10"}`,children:p.gpa.toFixed(2)})]},p.id)),n.cgpaHistory.map(p=>C.jsxs("div",{className:"flex items-center justify-between p-5 bg-indigo-50 dark:bg-indigo-900/20 rounded-2xl",children:[C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx(ym,{size:18,className:"text-indigo-400"}),C.jsxs("div",{className:"flex flex-col",children:[C.jsxs("span",{className:"font-black text-[10px] text-indigo-700 dark:text-indigo-300 uppercase",children:["CGPA  ",p.semestersCovered," Sems"]}),n.isGuest&&C.jsxs("span",{className:"text-[8px] font-black text-indigo-400 uppercase flex items-center gap-0.5",children:[C.jsx(zd,{size:8})," Local"]})]})]}),C.jsx("span",{className:`px-4 py-1.5 rounded-xl font-black text-sm ${p.cgpa<5?"text-red-500 bg-red-500/10":p.cgpa>=8.5?"text-emerald-500 bg-emerald-500/10":"text-white bg-indigo-600"}`,children:p.cgpa.toFixed(2)})]},p.id))]}):C.jsxs("div",{className:"text-center py-10 space-y-2",children:[C.jsx(n1,{className:"mx-auto text-slate-200",size:40}),C.jsx("p",{className:"text-slate-400 font-medium italic",children:"No history found."})]})})]})]})]})},HI=n=>`${n}@educalc.com`,t9=async(n,e)=>{const t=HI(n);return(await zM($w,t,e)).user},n9=async(n,e)=>{const t=HI(n);return(await qM($w,t,e)).user},i9=({setUser:n})=>{const e=xr(),[t,i]=ne.useState([]),[r,a]=ne.useState(null),[u,d]=ne.useState(!1),[p,h]=ne.useState({name:"",registerNumber:"",department:"",password:""});ne.useEffect(()=>{fetch("/subjects.json").then(T=>T.json()).then(T=>i(T.departments.map(I=>({id:I.id,name:I.name})))).catch(()=>a("Department registry missing"))},[]);const v=async T=>{if(T.preventDefault(),a(null),d(!0),!p.department||!p.registerNumber||!p.password){a("Institutional parameters required."),d(!1);return}try{await n9(p.registerNumber,p.password);let I=await xT(p.registerNumber);I||(await IT(p.registerNumber,p.name||"Scholar",p.department),I=await xT(p.registerNumber)),n({id:p.registerNumber,name:(I==null?void 0:I.name)||p.name||"Scholar",registerNumber:(I==null?void 0:I.registerNumber)||p.registerNumber,department:(I==null?void 0:I.department)||p.department,role:"student",gpaHistory:[],cgpaHistory:[],badges:["pioneer"],isGuest:!1}),e("/")}catch(I){const D=(I==null?void 0:I.code)||"";if(D.includes("user-not-found")||D.includes("invalid-credential")||D.includes("invalid-login-credentials"))try{await t9(p.registerNumber,p.password),await IT(p.registerNumber,p.name||"Scholar",p.department),n({id:p.registerNumber,name:p.name||"Scholar",registerNumber:p.registerNumber,department:p.department,role:"student",gpaHistory:[],cgpaHistory:[],badges:["pioneer"],isGuest:!1}),e("/")}catch{a("Unable to create institutional account.")}else a("Access credentials invalid.")}d(!1)},E=()=>{const T={id:"guest-"+Math.random().toString(36).substr(2,9),name:"Guest User",registerNumber:"GUEST-USER",department:"",role:"student",gpaHistory:[],cgpaHistory:[],badges:[],isGuest:!0};n(T),e("/")};return C.jsxs("div",{className:"min-h-full flex flex-col items-center justify-center py-12 px-4 relative",children:[C.jsx("div",{className:"absolute top-1/4 left-1/2 -translate-x-1/2 w-[500px] h-[500px] bg-brand-600/10 blur-[120px] rounded-full -z-10 pointer-events-none"}),C.jsxs("div",{className:"w-full max-w-xl bg-white/70 dark:bg-surface-900/70 backdrop-blur-3xl p-10 md:p-16 rounded-[4rem] shadow-2xl border border-white/50 dark:border-slate-800/50 relative overflow-hidden",children:[C.jsxs("div",{className:"flex flex-col items-center text-center mb-12 relative z-10",children:[C.jsxs("div",{className:"w-20 h-20 bg-brand-600 rounded-[2rem] flex items-center justify-center text-white mb-6 shadow-2xl shadow-brand-500/40 relative group",children:[C.jsx(vm,{size:36,className:"group-hover:rotate-12 transition-transform"}),C.jsx("div",{className:"absolute -inset-2 border-2 border-brand-500/20 rounded-[2.2rem] animate-pulse"})]}),C.jsx("h2",{className:"text-5xl font-black dark:text-white tracking-tighter",children:"EduCalc"}),C.jsxs("p",{className:"text-slate-500 mt-3 font-bold text-[10px] uppercase tracking-[0.4em] flex items-center gap-2",children:[C.jsx(Bd,{size:14,className:"text-emerald-500"})," Secure Institutional Access"]})]}),r&&C.jsxs("div",{className:"mb-8 p-5 bg-rose-500/10 border border-rose-500/20 text-rose-500 rounded-3xl flex items-center gap-4 animate-in slide-in-from-top-4",children:[C.jsx(Gb,{size:20,className:"shrink-0"}),C.jsx("p",{className:"text-xs font-bold leading-relaxed",children:r})]}),C.jsxs("form",{onSubmit:v,className:"space-y-6 relative z-10",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Full Name"}),C.jsx("input",{type:"text",required:!0,placeholder:"Full Identification Name",className:"w-full p-5 bg-slate-50 dark:bg-surface-950 dark:text-white rounded-3xl border-none font-bold outline-none focus:ring-2 focus:ring-brand-600 transition-all text-sm shadow-inner",onChange:T=>h({...p,name:T.target.value})})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Department Stream"}),C.jsxs("div",{className:"relative",children:[C.jsxs("select",{required:!0,value:p.department,onChange:T=>h({...p,department:T.target.value}),className:"w-full p-5 bg-slate-50 dark:bg-surface-950 dark:text-white rounded-3xl border-none font-bold outline-none appearance-none focus:ring-2 focus:ring-brand-600 transition-all text-sm shadow-inner",children:[C.jsx("option",{value:"",disabled:!0,children:"Select Department"}),t.map(T=>C.jsx("option",{value:T.id,children:T.name},T.id))]}),C.jsx(r1,{size:18,className:"absolute right-6 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Reg Number"}),C.jsx("input",{type:"text",inputMode:"numeric",required:!0,placeholder:"Ex: 9612...",className:"w-full p-5 bg-slate-50 dark:bg-surface-950 dark:text-white rounded-3xl border-none font-bold outline-none focus:ring-2 focus:ring-brand-600 transition-all text-sm shadow-inner",onChange:T=>h({...p,registerNumber:T.target.value})})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Access Key"}),C.jsxs("div",{className:"relative",children:[C.jsx("input",{type:"password",required:!0,placeholder:"",className:"w-full p-5 bg-slate-50 dark:bg-surface-950 dark:text-white rounded-3xl border-none font-bold outline-none focus:ring-2 focus:ring-brand-600 transition-all text-sm shadow-inner",onChange:T=>h({...p,password:T.target.value})}),C.jsx(Qb,{size:18,className:"absolute right-6 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]})]})]}),C.jsx("button",{type:"submit",disabled:u,className:"w-full py-6 bg-brand-600 text-white font-black rounded-full shadow-2xl shadow-brand-500/30 hover:bg-brand-700 active:scale-95 transition-all flex items-center justify-center space-x-4 uppercase tracking-widest text-[11px]",children:u?C.jsx(jb,{className:"animate-spin",size:20}):C.jsxs(C.Fragment,{children:[C.jsx("span",{children:"Secure Login"}),C.jsx(EA,{size:20})]})}),C.jsx("button",{type:"button",onClick:E,className:"w-full py-2 text-slate-400 font-black hover:text-brand-500 transition-colors uppercase tracking-widest text-[10px]",children:"Continue as Guest Node"})]}),C.jsxs("div",{className:"mt-12 flex justify-center space-x-10 text-slate-200 dark:text-slate-800 transition-colors",children:[C.jsxs("div",{className:"flex flex-col items-center gap-1",children:[C.jsx(zd,{size:24}),C.jsx("span",{className:"text-[8px] font-bold",children:"MOBILE"})]}),C.jsxs("div",{className:"flex flex-col items-center gap-1",children:[C.jsx(Jb,{size:24}),C.jsx("span",{className:"text-[8px] font-bold",children:"BIOMETRIC"})]}),C.jsxs("div",{className:"flex flex-col items-center gap-1",children:[C.jsx(Bd,{size:24}),C.jsx("span",{className:"text-[8px] font-bold",children:"AES-256"})]})]})]})]})},s9=({user:n})=>{const e=xr(),[t,i]=ne.useState(0),[r,a]=ne.useState(0),[u,d]=ne.useState(""),[p,h]=ne.useState(!1),[v,E]=ne.useState(!1),T=I=>{if(I.preventDefault(),t===0||!u.trim())return;E(!0);const D={id:Math.random().toString(36).substr(2,9),userId:n.id,userName:n.name,rating:t,comment:u.trim(),date:new Date().toISOString()},L=JSON.parse(localStorage.getItem("educalc_feedback_db")||"[]");localStorage.setItem("educalc_feedback_db",JSON.stringify([...L,D])),setTimeout(()=>{E(!1),h(!0)},1200)};return p?C.jsxs("div",{className:"min-h-[70vh] flex flex-col items-center justify-center p-6 text-center animate-in fade-in zoom-in duration-500",children:[C.jsx("div",{className:"w-24 h-24 bg-emerald-500/10 text-emerald-500 rounded-full flex items-center justify-center mb-8 shadow-2xl shadow-emerald-500/20",children:C.jsx(Hb,{size:48})}),C.jsx("h2",{className:"text-3xl font-black dark:text-white mb-4",children:"Feedback Received!"}),C.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mb-10 font-medium",children:"Thank you for helping us improve EduCalc. Your thoughts are what drive our innovation."}),C.jsx("button",{onClick:()=>e("/gpa"),className:"px-10 py-4 bg-indigo-600 text-white font-black rounded-2xl shadow-xl hover:bg-indigo-700 transition-all active:scale-95 uppercase tracking-widest text-xs",children:"Back to Dashboard"})]}):C.jsxs("div",{className:"max-w-2xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-6 duration-500",children:[C.jsxs("div",{className:"flex items-center space-x-4",children:[C.jsx("button",{onClick:()=>e(-1),className:"p-3 bg-white dark:bg-[#1a2333] rounded-2xl border border-slate-100 dark:border-slate-800 text-slate-500 hover:text-indigo-600 transition-all shadow-sm",children:C.jsx(Pb,{size:20})}),C.jsxs("div",{children:[C.jsxs("h2",{className:"text-3xl font-black dark:text-white tracking-tight",children:["Share Your ",C.jsx("span",{className:"text-indigo-600",children:"Thoughts"})]}),C.jsx("p",{className:"text-slate-400 font-medium",children:"Help us make EduCalc better for every student."})]})]}),C.jsxs("form",{onSubmit:T,className:"bg-white dark:bg-[#1a2333] p-8 md:p-12 rounded-[3rem] border border-slate-100 dark:border-slate-800 shadow-2xl space-y-10 relative overflow-hidden",children:[C.jsx("div",{className:"absolute -top-10 -right-10 text-indigo-500/5 rotate-12",children:C.jsx(SA,{size:160})}),C.jsxs("div",{className:"space-y-6 text-center relative z-10",children:[C.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.3em]",children:"How would you rate your experience?"}),C.jsx("div",{className:"flex justify-center space-x-2",children:[1,2,3,4,5].map(I=>C.jsx("button",{type:"button",className:"transition-all transform active:scale-90",onClick:()=>i(I),onMouseEnter:()=>a(I),onMouseLeave:()=>a(0),children:C.jsx(s1,{size:40,className:`transition-colors duration-200 ${I<=(r||t)?"fill-amber-400 text-amber-400 scale-110 drop-shadow-[0_0_8px_rgba(251,191,36,0.4)]":"text-slate-200 dark:text-slate-800"}`})},I))}),t>0&&C.jsx("p",{className:"text-indigo-500 font-black text-xs uppercase tracking-widest animate-in fade-in slide-in-from-top-2",children:["Poor","Fair","Good","Very Good","Excellent"][t-1]})]}),C.jsxs("div",{className:"space-y-4 relative z-10",children:[C.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.3em] ml-2",children:"What's on your mind?"}),C.jsx("textarea",{required:!0,value:u,onChange:I=>d(I.target.value),placeholder:"Tell us what you love or what we could improve...",className:"w-full h-40 p-6 bg-slate-50 dark:bg-slate-900 dark:text-white rounded-[2rem] border-none focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all font-medium resize-none text-base placeholder:text-slate-300 dark:placeholder:text-slate-700"})]}),C.jsx("button",{type:"submit",disabled:t===0||!u.trim()||v,className:"w-full py-6 bg-indigo-600 text-white font-black rounded-full shadow-2xl shadow-indigo-500/20 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95 flex items-center justify-center space-x-3 uppercase tracking-widest text-xs relative z-10",children:v?C.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):C.jsxs(C.Fragment,{children:[C.jsx("span",{children:"Send Feedback"}),C.jsx(t1,{size:16})]})}),C.jsxs("div",{className:"flex items-center justify-center space-x-2 pt-4",children:[C.jsx(i1,{size:14,className:"text-amber-500"}),C.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["Logged in as ",n.name]})]})]})]})},r9=()=>{const[n,e]=ne.useState(()=>{try{const h=localStorage.getItem("educalc_user_data");if(h)return JSON.parse(h)}catch{}return{id:"guest-"+Math.random().toString(36).substr(2,9),name:"Guest User",registerNumber:"GUEST-USER",department:"",role:"student",gpaHistory:[],cgpaHistory:[],badges:[],isGuest:!0}}),[t,i]=ne.useState(()=>localStorage.getItem("theme")==="dark"),[r,a]=ne.useState(!1),u=Oa();ne.useEffect(()=>{t?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]);const d=h=>{if(h)e(h),localStorage.setItem("educalc_user_data",JSON.stringify(h));else{const v={id:"guest-"+Math.random().toString(36).substr(2,9),name:"Guest User",registerNumber:"GUEST-USER",department:"",role:"student",gpaHistory:[],cgpaHistory:[],badges:[],isGuest:!0};e(v),localStorage.setItem("educalc_user_data",JSON.stringify(v))}},p=({to:h,icon:v,label:E})=>{const T=u.pathname===h||h==="/"&&u.pathname==="/gpa";return C.jsxs(pa,{to:h,onClick:()=>a(!1),className:`flex items-center space-x-4 px-5 py-4 rounded-2xl transition-all duration-300 font-bold text-sm ${T?"bg-brand-600 text-white shadow-xl shadow-brand-500/30 scale-[1.02]":"text-slate-500 hover:text-brand-600 dark:text-slate-400 dark:hover:text-brand-400"}`,children:[C.jsx(v,{size:20}),C.jsx("span",{children:E})]})};return C.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-surface-950 text-slate-900 dark:text-slate-100 flex flex-col h-screen overflow-hidden",children:[C.jsxs("header",{className:"sticky top-0 w-full bg-white/80 dark:bg-surface-950/80 backdrop-blur-2xl border-b border-slate-100 dark:border-slate-800/50 z-[60] h-20 flex items-center px-6 shrink-0",children:[C.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[C.jsx("div",{onClick:()=>i(!t),className:"w-12 h-12 bg-brand-600 rounded-2xl flex items-center justify-center shadow-lg shadow-brand-500/20 cursor-pointer hover:scale-105 active:scale-95 transition-all",children:C.jsx(vm,{className:"text-white",size:20})}),C.jsx(pa,{to:"/",className:"flex flex-col",children:C.jsx("span",{className:"text-2xl font-black tracking-tighter leading-none dark:text-white",children:"EduCalc"})})]}),C.jsx("button",{className:"p-3 bg-slate-100 dark:bg-surface-800 rounded-xl text-slate-500 hover:bg-slate-200 dark:hover:bg-surface-700 transition-colors",onClick:()=>a(!r),children:r?C.jsx(Tf,{size:20}):C.jsx(Wb,{size:20})})]}),C.jsxs("div",{className:`fixed inset-0 z-[120] transition-opacity duration-300 ${r?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,children:[C.jsx("div",{className:"absolute inset-0 bg-surface-950/40 backdrop-blur-md",onClick:()=>a(!1)}),C.jsxs("div",{className:`relative w-80 h-full bg-white dark:bg-surface-900 p-8 shadow-2xl space-y-2 transition-transform duration-300 transform ${r?"translate-x-0":"-translate-x-full"}`,children:[C.jsxs("div",{className:"flex items-center space-x-4 mb-10",children:[C.jsx("div",{className:"w-12 h-12 bg-brand-600 rounded-2xl flex items-center justify-center text-white",children:C.jsx(vm,{size:24})}),C.jsx("span",{className:"text-2xl font-black tracking-tighter",children:"EduCalc"})]}),C.jsx(p,{to:"/",icon:Jd,label:"GPA Analyzer"}),C.jsx(p,{to:"/cgpa",icon:ym,label:"CGPA Mastery"}),C.jsx(p,{to:"/scanner",icon:eE,label:"Visual Scan"}),C.jsx("div",{className:"my-8 border-t border-slate-100 dark:border-slate-800/50 mx-2"}),C.jsx(p,{to:"/profile",icon:qd,label:"My Account"}),C.jsx(p,{to:"/feedback",icon:SA,label:"Feedback"})]})]}),C.jsx("main",{className:"flex-1 overflow-y-auto no-scrollbar pb-24",children:C.jsx("div",{className:"max-w-5xl mx-auto p-6 md:p-10",children:C.jsxs(_b,{children:[C.jsx(hs,{path:"/",element:C.jsx(RT,{user:n,setUser:d})}),C.jsx(hs,{path:"/login",element:C.jsx(i9,{setUser:d})}),C.jsx(hs,{path:"/gpa",element:C.jsx(RT,{user:n,setUser:d})}),C.jsx(hs,{path:"/cgpa",element:C.jsx(LV,{user:n,setUser:d})}),C.jsx(hs,{path:"/scanner",element:C.jsx(Z5,{user:n,setUser:d})}),C.jsx(hs,{path:"/feedback",element:n&&!n.isGuest?C.jsx(s9,{user:n}):C.jsx(j_,{to:"/login"})}),C.jsx(hs,{path:"/profile",element:C.jsx(e9,{user:n,setUser:d})}),C.jsx(hs,{path:"*",element:C.jsx(j_,{to:"/"})})]})})}),C.jsxs("nav",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 w-[90%] max-w-sm bg-white/90 dark:bg-surface-900/90 backdrop-blur-xl border border-slate-200/50 dark:border-slate-800/50 px-10 py-3 flex justify-between items-center rounded-3xl shadow-2xl z-[100] animate-in slide-in-from-bottom-10 duration-700",children:[C.jsx(pa,{to:"/gpa",className:`p-3 transition-all duration-300 ${u.pathname==="/"||u.pathname==="/gpa"?"text-brand-600 scale-125":"text-slate-400"}`,children:C.jsx(Jd,{size:24,strokeWidth:2.5})}),C.jsx(pa,{to:"/cgpa",className:`p-3 transition-all duration-300 ${u.pathname==="/cgpa"?"text-brand-600 scale-125":"text-slate-400"}`,children:C.jsx(ym,{size:24,strokeWidth:2.5})}),C.jsx(pa,{to:"/scanner",className:`p-3 transition-all duration-300 ${u.pathname==="/scanner"?"text-brand-600 scale-125":"text-slate-400"}`,children:C.jsx(eE,{size:24,strokeWidth:2.5})}),C.jsx(pa,{to:"/profile",className:`p-3 transition-all duration-300 ${u.pathname==="/profile"?"text-brand-600 scale-125":"text-slate-400"}`,children:C.jsx(qd,{size:24,strokeWidth:2.5})})]})]})},o9=()=>C.jsx(Ib,{children:C.jsx(r9,{})}),BI=document.getElementById("root");if(!BI)throw new Error("Could not find root element to mount to");const a9=NR.createRoot(BI);a9.render(C.jsx(lA.StrictMode,{children:C.jsx(o9,{})}));
